(self.webpackChunkapp_studio_enterprise_campaign_designer=self.webpackChunkapp_studio_enterprise_campaign_designer||[]).push([[9037,3308],{66716:(ot,V,h)=>{var a;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(N,d,C,g){"use strict";var T=["","webkit","Moz","MS","ms","o"],u=d.createElement("div"),_="function",P=Math.round,m=Math.abs,l=Date.now;function t(w,B,j){return setTimeout(M(w,j),B)}function p(w,B,j){return Array.isArray(w)?(e(w,j[B],j),!0):!1}function e(w,B,j){var et;if(w)if(w.forEach)w.forEach(B,j);else if(w.length!==g)for(et=0;et<w.length;)B.call(j,w[et],et,w),et++;else for(et in w)w.hasOwnProperty(et)&&B.call(j,w[et],et,w)}function s(w,B,j){var et="DEPRECATED METHOD: "+B+`
`+j+` AT 
`;return function(){var at=new Error("get-stack-trace"),ct=at&&at.stack?at.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",pt=N.console&&(N.console.warn||N.console.log);return pt&&pt.call(N.console,et,ct),w.apply(this,arguments)}}var o;typeof Object.assign!="function"?o=function(B){if(B===g||B===null)throw new TypeError("Cannot convert undefined or null to object");for(var j=Object(B),et=1;et<arguments.length;et++){var at=arguments[et];if(at!==g&&at!==null)for(var ct in at)at.hasOwnProperty(ct)&&(j[ct]=at[ct])}return j}:o=Object.assign;var y=s(function(B,j,et){for(var at=Object.keys(j),ct=0;ct<at.length;)(!et||et&&B[at[ct]]===g)&&(B[at[ct]]=j[at[ct]]),ct++;return B},"extend","Use `assign`."),E=s(function(B,j){return y(B,j,!0)},"merge","Use `assign`.");function v(w,B,j){var et=B.prototype,at;at=w.prototype=Object.create(et),at.constructor=w,at._super=et,j&&o(at,j)}function M(w,B){return function(){return w.apply(B,arguments)}}function O(w,B){return typeof w==_?w.apply(B&&B[0]||g,B):w}function b(w,B){return w===g?B:w}function x(w,B,j){e(W(B),function(et){w.addEventListener(et,j,!1)})}function R(w,B,j){e(W(B),function(et){w.removeEventListener(et,j,!1)})}function S(w,B){for(;w;){if(w==B)return!0;w=w.parentNode}return!1}function I(w,B){return w.indexOf(B)>-1}function W(w){return w.trim().split(/\s+/g)}function Y(w,B,j){if(w.indexOf&&!j)return w.indexOf(B);for(var et=0;et<w.length;){if(j&&w[et][j]==B||!j&&w[et]===B)return et;et++}return-1}function rt(w){return Array.prototype.slice.call(w,0)}function tt(w,B,j){for(var et=[],at=[],ct=0;ct<w.length;){var pt=B?w[ct][B]:w[ct];Y(at,pt)<0&&et.push(w[ct]),at[ct]=pt,ct++}return j&&(B?et=et.sort(function(yt,mt){return yt[B]>mt[B]}):et=et.sort()),et}function J(w,B){for(var j,et,at=B[0].toUpperCase()+B.slice(1),ct=0;ct<T.length;){if(j=T[ct],et=j?j+at:B,et in w)return et;ct++}return g}var z=1;function U(){return z++}function A(w){var B=w.ownerDocument||w;return B.defaultView||B.parentWindow||N}var c=/mobile|tablet|ip(ad|hone|od)|android/i,i="ontouchstart"in N,n=J(N,"PointerEvent")!==g,r=i&&c.test(navigator.userAgent),f="touch",D="pen",F="mouse",G="kinect",Z=25,X=1,q=2,it=4,K=8,$=1,k=2,L=4,H=8,Q=16,nt=k|L,st=H|Q,lt=nt|st,ft=["x","y"],ut=["clientX","clientY"];function ht(w,B){var j=this;this.manager=w,this.callback=B,this.element=w.element,this.target=w.options.inputTarget,this.domHandler=function(et){O(w.options.enable,[w])&&j.handler(et)},this.init()}ht.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(A(this.element),this.evWin,this.domHandler)}};function vt(w){var B,j=w.options.inputClass;return j?B=j:n?B=Wt:r?B=qt:i?B=se:B=Lt,new B(w,dt)}function dt(w,B,j){var et=j.pointers.length,at=j.changedPointers.length,ct=B&X&&et-at===0,pt=B&(it|K)&&et-at===0;j.isFirst=!!ct,j.isFinal=!!pt,ct&&(w.session={}),j.eventType=B,_t(w,j),w.emit("hammer.input",j),w.recognize(j),w.session.prevInput=j}function _t(w,B){var j=w.session,et=B.pointers,at=et.length;j.firstInput||(j.firstInput=Et(B)),at>1&&!j.firstMultiple?j.firstMultiple=Et(B):at===1&&(j.firstMultiple=!1);var ct=j.firstInput,pt=j.firstMultiple,gt=pt?pt.center:ct.center,yt=B.center=Tt(et);B.timeStamp=l(),B.deltaTime=B.timeStamp-ct.timeStamp,B.angle=bt(gt,yt),B.distance=Nt(gt,yt),Rt(j,B),B.offsetDirection=Vt(B.deltaX,B.deltaY);var mt=kt(B.deltaTime,B.deltaX,B.deltaY);B.overallVelocityX=mt.x,B.overallVelocityY=mt.y,B.overallVelocity=m(mt.x)>m(mt.y)?mt.x:mt.y,B.scale=pt?$t(pt.pointers,et):1,B.rotation=pt?Yt(pt.pointers,et):0,B.maxPointers=j.prevInput?B.pointers.length>j.prevInput.maxPointers?B.pointers.length:j.prevInput.maxPointers:B.pointers.length,It(j,B);var Ot=w.element;S(B.srcEvent.target,Ot)&&(Ot=B.srcEvent.target),B.target=Ot}function Rt(w,B){var j=B.center,et=w.offsetDelta||{},at=w.prevDelta||{},ct=w.prevInput||{};(B.eventType===X||ct.eventType===it)&&(at=w.prevDelta={x:ct.deltaX||0,y:ct.deltaY||0},et=w.offsetDelta={x:j.x,y:j.y}),B.deltaX=at.x+(j.x-et.x),B.deltaY=at.y+(j.y-et.y)}function It(w,B){var j=w.lastInterval||B,et=B.timeStamp-j.timeStamp,at,ct,pt,gt;if(B.eventType!=K&&(et>Z||j.velocity===g)){var yt=B.deltaX-j.deltaX,mt=B.deltaY-j.deltaY,Ot=kt(et,yt,mt);ct=Ot.x,pt=Ot.y,at=m(Ot.x)>m(Ot.y)?Ot.x:Ot.y,gt=Vt(yt,mt),w.lastInterval=B}else at=j.velocity,ct=j.velocityX,pt=j.velocityY,gt=j.direction;B.velocity=at,B.velocityX=ct,B.velocityY=pt,B.direction=gt}function Et(w){for(var B=[],j=0;j<w.pointers.length;)B[j]={clientX:P(w.pointers[j].clientX),clientY:P(w.pointers[j].clientY)},j++;return{timeStamp:l(),pointers:B,center:Tt(B),deltaX:w.deltaX,deltaY:w.deltaY}}function Tt(w){var B=w.length;if(B===1)return{x:P(w[0].clientX),y:P(w[0].clientY)};for(var j=0,et=0,at=0;at<B;)j+=w[at].clientX,et+=w[at].clientY,at++;return{x:P(j/B),y:P(et/B)}}function kt(w,B,j){return{x:B/w||0,y:j/w||0}}function Vt(w,B){return w===B?$:m(w)>=m(B)?w<0?k:L:B<0?H:Q}function Nt(w,B,j){j||(j=ft);var et=B[j[0]]-w[j[0]],at=B[j[1]]-w[j[1]];return Math.sqrt(et*et+at*at)}function bt(w,B,j){j||(j=ft);var et=B[j[0]]-w[j[0]],at=B[j[1]]-w[j[1]];return Math.atan2(at,et)*180/Math.PI}function Yt(w,B){return bt(B[1],B[0],ut)+bt(w[1],w[0],ut)}function $t(w,B){return Nt(B[0],B[1],ut)/Nt(w[0],w[1],ut)}var Xt={mousedown:X,mousemove:q,mouseup:it},wt="mousedown",Zt="mousemove mouseup";function Lt(){this.evEl=wt,this.evWin=Zt,this.pressed=!1,ht.apply(this,arguments)}v(Lt,ht,{handler:function(B){var j=Xt[B.type];j&X&&B.button===0&&(this.pressed=!0),j&q&&B.which!==1&&(j=it),this.pressed&&(j&it&&(this.pressed=!1),this.callback(this.manager,j,{pointers:[B],changedPointers:[B],pointerType:F,srcEvent:B}))}});var Qt={pointerdown:X,pointermove:q,pointerup:it,pointercancel:K,pointerout:K},Pt={2:f,3:D,4:F,5:G},Jt="pointerdown",Ht="pointermove pointerup pointercancel";N.MSPointerEvent&&!N.PointerEvent&&(Jt="MSPointerDown",Ht="MSPointerMove MSPointerUp MSPointerCancel");function Wt(){this.evEl=Jt,this.evWin=Ht,ht.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}v(Wt,ht,{handler:function(B){var j=this.store,et=!1,at=B.type.toLowerCase().replace("ms",""),ct=Qt[at],pt=Pt[B.pointerType]||B.pointerType,gt=pt==f,yt=Y(j,B.pointerId,"pointerId");ct&X&&(B.button===0||gt)?yt<0&&(j.push(B),yt=j.length-1):ct&(it|K)&&(et=!0),!(yt<0)&&(j[yt]=B,this.callback(this.manager,ct,{pointers:j,changedPointers:[B],pointerType:pt,srcEvent:B}),et&&j.splice(yt,1))}});var Ft={touchstart:X,touchmove:q,touchend:it,touchcancel:K},oe="touchstart",ae="touchstart touchmove touchend touchcancel";function ve(){this.evTarget=oe,this.evWin=ae,this.started=!1,ht.apply(this,arguments)}v(ve,ht,{handler:function(B){var j=Ft[B.type];if(j===X&&(this.started=!0),!!this.started){var et=Oe.call(this,B,j);j&(it|K)&&et[0].length-et[1].length===0&&(this.started=!1),this.callback(this.manager,j,{pointers:et[0],changedPointers:et[1],pointerType:f,srcEvent:B})}}});function Oe(w,B){var j=rt(w.touches),et=rt(w.changedTouches);return B&(it|K)&&(j=tt(j.concat(et),"identifier",!0)),[j,et]}var Ae={touchstart:X,touchmove:q,touchend:it,touchcancel:K},Se="touchstart touchmove touchend touchcancel";function qt(){this.evTarget=Se,this.targetIds={},ht.apply(this,arguments)}v(qt,ht,{handler:function(B){var j=Ae[B.type],et=Re.call(this,B,j);et&&this.callback(this.manager,j,{pointers:et[0],changedPointers:et[1],pointerType:f,srcEvent:B})}});function Re(w,B){var j=rt(w.touches),et=this.targetIds;if(B&(X|q)&&j.length===1)return et[j[0].identifier]=!0,[j,j];var at,ct,pt=rt(w.changedTouches),gt=[],yt=this.target;if(ct=j.filter(function(mt){return S(mt.target,yt)}),B===X)for(at=0;at<ct.length;)et[ct[at].identifier]=!0,at++;for(at=0;at<pt.length;)et[pt[at].identifier]&&gt.push(pt[at]),B&(it|K)&&delete et[pt[at].identifier],at++;if(gt.length)return[tt(ct.concat(gt),"identifier",!0),gt]}var we=2500,ge=25;function se(){ht.apply(this,arguments);var w=M(this.handler,this);this.touch=new qt(this.manager,w),this.mouse=new Lt(this.manager,w),this.primaryTouch=null,this.lastTouches=[]}v(se,ht,{handler:function(B,j,et){var at=et.pointerType==f,ct=et.pointerType==F;if(!(ct&&et.sourceCapabilities&&et.sourceCapabilities.firesTouchEvents)){if(at)De.call(this,j,et);else if(ct&&Ie.call(this,et))return;this.callback(B,j,et)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function De(w,B){w&X?(this.primaryTouch=B.changedPointers[0].identifier,ye.call(this,B)):w&(it|K)&&ye.call(this,B)}function ye(w){var B=w.changedPointers[0];if(B.identifier===this.primaryTouch){var j={x:B.clientX,y:B.clientY};this.lastTouches.push(j);var et=this.lastTouches,at=function(){var ct=et.indexOf(j);ct>-1&&et.splice(ct,1)};setTimeout(at,we)}}function Ie(w){for(var B=w.srcEvent.clientX,j=w.srcEvent.clientY,et=0;et<this.lastTouches.length;et++){var at=this.lastTouches[et],ct=Math.abs(B-at.x),pt=Math.abs(j-at.y);if(ct<=ge&&pt<=ge)return!0}return!1}var me=J(u.style,"touchAction"),_e=me!==g,Ee="compute",xe="auto",ce="manipulation",Bt="none",jt="pan-x",zt="pan-y",te=Be();function ue(w,B){this.manager=w,this.set(B)}ue.prototype={set:function(w){w==Ee&&(w=this.compute()),_e&&this.manager.element.style&&te[w]&&(this.manager.element.style[me]=w),this.actions=w.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var w=[];return e(this.manager.recognizers,function(B){O(B.options.enable,[B])&&(w=w.concat(B.getTouchAction()))}),Le(w.join(" "))},preventDefaults:function(w){var B=w.srcEvent,j=w.offsetDirection;if(this.manager.session.prevented){B.preventDefault();return}var et=this.actions,at=I(et,Bt)&&!te[Bt],ct=I(et,zt)&&!te[zt],pt=I(et,jt)&&!te[jt];if(at){var gt=w.pointers.length===1,yt=w.distance<2,mt=w.deltaTime<250;if(gt&&yt&&mt)return}if(!(pt&&ct)&&(at||ct&&j&nt||pt&&j&st))return this.preventSrc(B)},preventSrc:function(w){this.manager.session.prevented=!0,w.preventDefault()}};function Le(w){if(I(w,Bt))return Bt;var B=I(w,jt),j=I(w,zt);return B&&j?Bt:B||j?B?jt:zt:I(w,ce)?ce:xe}function Be(){if(!_e)return!1;var w={},B=N.CSS&&N.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(j){w[j]=B?N.CSS.supports("touch-action",j):!0}),w}var ee=1,xt=2,Kt=4,Dt=8,At=Dt,Gt=16,Mt=32;function St(w){this.options=o({},this.defaults,w||{}),this.id=U(),this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=ee,this.simultaneous={},this.requireFail=[]}St.prototype={defaults:{},set:function(w){return o(this.options,w),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(w){if(p(w,"recognizeWith",this))return this;var B=this.simultaneous;return w=ne(w,this),B[w.id]||(B[w.id]=w,w.recognizeWith(this)),this},dropRecognizeWith:function(w){return p(w,"dropRecognizeWith",this)?this:(w=ne(w,this),delete this.simultaneous[w.id],this)},requireFailure:function(w){if(p(w,"requireFailure",this))return this;var B=this.requireFail;return w=ne(w,this),Y(B,w)===-1&&(B.push(w),w.requireFailure(this)),this},dropRequireFailure:function(w){if(p(w,"dropRequireFailure",this))return this;w=ne(w,this);var B=Y(this.requireFail,w);return B>-1&&this.requireFail.splice(B,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(w){return!!this.simultaneous[w.id]},emit:function(w){var B=this,j=this.state;function et(at){B.manager.emit(at,w)}j<Dt&&et(B.options.event+Ce(j)),et(B.options.event),w.additionalEvent&&et(w.additionalEvent),j>=Dt&&et(B.options.event+Ce(j))},tryEmit:function(w){if(this.canEmit())return this.emit(w);this.state=Mt},canEmit:function(){for(var w=0;w<this.requireFail.length;){if(!(this.requireFail[w].state&(Mt|ee)))return!1;w++}return!0},recognize:function(w){var B=o({},w);if(!O(this.options.enable,[this,B])){this.reset(),this.state=Mt;return}this.state&(At|Gt|Mt)&&(this.state=ee),this.state=this.process(B),this.state&(xt|Kt|Dt|Gt)&&this.tryEmit(B)},process:function(w){},getTouchAction:function(){},reset:function(){}};function Ce(w){return w&Gt?"cancel":w&Dt?"end":w&Kt?"move":w&xt?"start":""}function Te(w){return w==Q?"down":w==H?"up":w==k?"left":w==L?"right":""}function ne(w,B){var j=B.manager;return j?j.get(w):w}function Ct(){St.apply(this,arguments)}v(Ct,St,{defaults:{pointers:1},attrTest:function(w){var B=this.options.pointers;return B===0||w.pointers.length===B},process:function(w){var B=this.state,j=w.eventType,et=B&(xt|Kt),at=this.attrTest(w);return et&&(j&K||!at)?B|Gt:et||at?j&it?B|Dt:B&xt?B|Kt:xt:Mt}});function ie(){Ct.apply(this,arguments),this.pX=null,this.pY=null}v(ie,Ct,{defaults:{event:"pan",threshold:10,pointers:1,direction:lt},getTouchAction:function(){var w=this.options.direction,B=[];return w&nt&&B.push(zt),w&st&&B.push(jt),B},directionTest:function(w){var B=this.options,j=!0,et=w.distance,at=w.direction,ct=w.deltaX,pt=w.deltaY;return at&B.direction||(B.direction&nt?(at=ct===0?$:ct<0?k:L,j=ct!=this.pX,et=Math.abs(w.deltaX)):(at=pt===0?$:pt<0?H:Q,j=pt!=this.pY,et=Math.abs(w.deltaY))),w.direction=at,j&&et>B.threshold&&at&B.direction},attrTest:function(w){return Ct.prototype.attrTest.call(this,w)&&(this.state&xt||!(this.state&xt)&&this.directionTest(w))},emit:function(w){this.pX=w.deltaX,this.pY=w.deltaY;var B=Te(w.direction);B&&(w.additionalEvent=this.options.event+B),this._super.emit.call(this,w)}});function le(){Ct.apply(this,arguments)}v(le,Ct,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Bt]},attrTest:function(w){return this._super.attrTest.call(this,w)&&(Math.abs(w.scale-1)>this.options.threshold||this.state&xt)},emit:function(w){if(w.scale!==1){var B=w.scale<1?"in":"out";w.additionalEvent=this.options.event+B}this._super.emit.call(this,w)}});function fe(){St.apply(this,arguments),this._timer=null,this._input=null}v(fe,St,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xe]},process:function(w){var B=this.options,j=w.pointers.length===B.pointers,et=w.distance<B.threshold,at=w.deltaTime>B.time;if(this._input=w,!et||!j||w.eventType&(it|K)&&!at)this.reset();else if(w.eventType&X)this.reset(),this._timer=t(function(){this.state=At,this.tryEmit()},B.time,this);else if(w.eventType&it)return At;return Mt},reset:function(){clearTimeout(this._timer)},emit:function(w){this.state===At&&(w&&w.eventType&it?this.manager.emit(this.options.event+"up",w):(this._input.timeStamp=l(),this.manager.emit(this.options.event,this._input)))}});function he(){Ct.apply(this,arguments)}v(he,Ct,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Bt]},attrTest:function(w){return this._super.attrTest.call(this,w)&&(Math.abs(w.rotation)>this.options.threshold||this.state&xt)}});function de(){Ct.apply(this,arguments)}v(de,Ct,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:nt|st,pointers:1},getTouchAction:function(){return ie.prototype.getTouchAction.call(this)},attrTest:function(w){var B=this.options.direction,j;return B&(nt|st)?j=w.overallVelocity:B&nt?j=w.overallVelocityX:B&st&&(j=w.overallVelocityY),this._super.attrTest.call(this,w)&&B&w.offsetDirection&&w.distance>this.options.threshold&&w.maxPointers==this.options.pointers&&m(j)>this.options.velocity&&w.eventType&it},emit:function(w){var B=Te(w.offsetDirection);B&&this.manager.emit(this.options.event+B,w),this.manager.emit(this.options.event,w)}});function re(){St.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}v(re,St,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ce]},process:function(w){var B=this.options,j=w.pointers.length===B.pointers,et=w.distance<B.threshold,at=w.deltaTime<B.time;if(this.reset(),w.eventType&X&&this.count===0)return this.failTimeout();if(et&&at&&j){if(w.eventType!=it)return this.failTimeout();var ct=this.pTime?w.timeStamp-this.pTime<B.interval:!0,pt=!this.pCenter||Nt(this.pCenter,w.center)<B.posThreshold;this.pTime=w.timeStamp,this.pCenter=w.center,!pt||!ct?this.count=1:this.count+=1,this._input=w;var gt=this.count%B.taps;if(gt===0)return this.hasRequireFailures()?(this._timer=t(function(){this.state=At,this.tryEmit()},B.interval,this),xt):At}return Mt},failTimeout:function(){return this._timer=t(function(){this.state=Mt},this.options.interval,this),Mt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==At&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Ut(w,B){return B=B||{},B.recognizers=b(B.recognizers,Ut.defaults.preset),new pe(w,B)}Ut.VERSION="2.0.7",Ut.defaults={domEvents:!1,touchAction:Ee,enable:!0,inputTarget:null,inputClass:null,preset:[[he,{enable:!1}],[le,{enable:!1},["rotate"]],[de,{direction:nt}],[ie,{direction:nt},["swipe"]],[re],[re,{event:"doubletap",taps:2},["tap"]],[fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ue=1,Pe=2;function pe(w,B){this.options=o({},Ut.defaults,B||{}),this.options.inputTarget=this.options.inputTarget||w,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=w,this.input=vt(this),this.touchAction=new ue(this,this.options.touchAction),Me(this,!0),e(this.options.recognizers,function(j){var et=this.add(new j[0](j[1]));j[2]&&et.recognizeWith(j[2]),j[3]&&et.requireFailure(j[3])},this)}pe.prototype={set:function(w){return o(this.options,w),w.touchAction&&this.touchAction.update(),w.inputTarget&&(this.input.destroy(),this.input.target=w.inputTarget,this.input.init()),this},stop:function(w){this.session.stopped=w?Pe:Ue},recognize:function(w){var B=this.session;if(!B.stopped){this.touchAction.preventDefaults(w);var j,et=this.recognizers,at=B.curRecognizer;(!at||at&&at.state&At)&&(at=B.curRecognizer=null);for(var ct=0;ct<et.length;)j=et[ct],B.stopped!==Pe&&(!at||j==at||j.canRecognizeWith(at))?j.recognize(w):j.reset(),!at&&j.state&(xt|Kt|Dt)&&(at=B.curRecognizer=j),ct++}},get:function(w){if(w instanceof St)return w;for(var B=this.recognizers,j=0;j<B.length;j++)if(B[j].options.event==w)return B[j];return null},add:function(w){if(p(w,"add",this))return this;var B=this.get(w.options.event);return B&&this.remove(B),this.recognizers.push(w),w.manager=this,this.touchAction.update(),w},remove:function(w){if(p(w,"remove",this))return this;if(w=this.get(w),w){var B=this.recognizers,j=Y(B,w);j!==-1&&(B.splice(j,1),this.touchAction.update())}return this},on:function(w,B){if(w!==g&&B!==g){var j=this.handlers;return e(W(w),function(et){j[et]=j[et]||[],j[et].push(B)}),this}},off:function(w,B){if(w!==g){var j=this.handlers;return e(W(w),function(et){B?j[et]&&j[et].splice(Y(j[et],B),1):delete j[et]}),this}},emit:function(w,B){this.options.domEvents&&Ne(w,B);var j=this.handlers[w]&&this.handlers[w].slice();if(!(!j||!j.length)){B.type=w,B.preventDefault=function(){B.srcEvent.preventDefault()};for(var et=0;et<j.length;)j[et](B),et++}},destroy:function(){this.element&&Me(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Me(w,B){var j=w.element;if(j.style){var et;e(w.options.cssProps,function(at,ct){et=J(j.style,ct),B?(w.oldCssProps[et]=j.style[et],j.style[et]=at):j.style[et]=w.oldCssProps[et]||""}),B||(w.oldCssProps={})}}function Ne(w,B){var j=d.createEvent("Event");j.initEvent(w,!0,!0),j.gesture=B,B.target.dispatchEvent(j)}o(Ut,{INPUT_START:X,INPUT_MOVE:q,INPUT_END:it,INPUT_CANCEL:K,STATE_POSSIBLE:ee,STATE_BEGAN:xt,STATE_CHANGED:Kt,STATE_ENDED:Dt,STATE_RECOGNIZED:At,STATE_CANCELLED:Gt,STATE_FAILED:Mt,DIRECTION_NONE:$,DIRECTION_LEFT:k,DIRECTION_RIGHT:L,DIRECTION_UP:H,DIRECTION_DOWN:Q,DIRECTION_HORIZONTAL:nt,DIRECTION_VERTICAL:st,DIRECTION_ALL:lt,Manager:pe,Input:ht,TouchAction:ue,TouchInput:qt,MouseInput:Lt,PointerEventInput:Wt,TouchMouseInput:se,SingleTouchInput:ve,Recognizer:St,AttrRecognizer:Ct,Tap:re,Pan:ie,Swipe:de,Pinch:le,Rotate:he,Press:fe,on:x,off:R,each:e,merge:E,extend:y,assign:o,inherit:v,bindFn:M,prefixed:J});var be=typeof N<"u"?N:typeof self<"u"?self:{};be.Hammer=Ut,a=function(){return Ut}.call(V,h,V,ot),a!==g&&(ot.exports=a)})(window,document,"Hammer")},51270:ot=>{typeof Object.create=="function"?ot.exports=function(h,a){a&&(h.super_=a,h.prototype=Object.create(a.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}))}:ot.exports=function(h,a){if(a){h.super_=a;var N=function(){};N.prototype=a.prototype,h.prototype=new N,h.prototype.constructor=h}}},82867:(ot,V,h)=>{ot.exports=h(49389),ot.exports.Collection=h(12251)},12251:ot=>{function V(a,N,d,C){var g=d.inverse;return Object.defineProperty(a,"remove",{value:function(T){var u=this.indexOf(T);return u!==-1&&(this.splice(u,1),N.unset(T,g,C)),T}}),Object.defineProperty(a,"contains",{value:function(T){return this.indexOf(T)!==-1}}),Object.defineProperty(a,"add",{value:function(T,u){var _=this.indexOf(T);if(typeof u>"u"){if(_!==-1)return;u=this.length}_!==-1&&this.splice(_,1),this.splice(u,0,T),_===-1&&N.set(T,g,C)}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function h(a){return a.__refs_collection===!0}ot.exports.extend=V,ot.exports.isExtended=h},49389:(ot,V,h)=>{var a=h(12251);function N(T,u){return Object.prototype.hasOwnProperty.call(T,u.name||u)}function d(T,u,_){var P=a.extend(_[u.name]||[],T,u,_);Object.defineProperty(_,u.name,{enumerable:u.enumerable,value:P}),P.length&&P.forEach(function(m){T.set(m,u.inverse,_)})}function C(T,u,_){var P=u.inverse,m=_[u.name];Object.defineProperty(_,u.name,{configurable:u.configurable,enumerable:u.enumerable,get:function(){return m},set:function(l){if(l!==m){var t=m;m=null,t&&T.unset(t,P,_),m=l,T.set(m,P,_)}}})}function g(T,u){if(!(this instanceof g))return new g(T,u);T.inverse=u,u.inverse=T,this.props={},this.props[T.name]=T,this.props[u.name]=u}g.prototype.bind=function(T,u){if(typeof u=="string"){if(!this.props[u])throw new Error("no property <"+u+"> in ref");u=this.props[u]}u.collection?d(this,u,T):C(this,u,T)},g.prototype.ensureRefsCollection=function(T,u){var _=T[u.name];return a.isExtended(_)||d(this,u,T),_},g.prototype.ensureBound=function(T,u){N(T,u)||this.bind(T,u)},g.prototype.unset=function(T,u,_){T&&(this.ensureBound(T,u),u.collection?this.ensureRefsCollection(T,u).remove(_):T[u.name]=void 0)},g.prototype.set=function(T,u,_){T&&(this.ensureBound(T,u),u.collection?this.ensureRefsCollection(T,u).add(_):T[u.name]=_)},ot.exports=g},38305:ot=>{var V=/,?([a-z]),?/gi,h=parseFloat,a=Math,N=a.PI,d=a.min,C=a.max,g=a.pow,T=a.abs,u=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,_=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,P=Array.isArray||function(i){return i instanceof Array};function m(i,n){return Object.prototype.hasOwnProperty.call(i,n)}function l(i){if(typeof i=="function"||Object(i)!==i)return i;var n=new i.constructor;for(var r in i)m(i,r)&&(n[r]=l(i[r]));return n}function t(i,n){for(var r=0,f=i.length;r<f;r++)if(i[r]===n)return i.push(i.splice(r,1)[0])}function p(i){function n(){var r=Array.prototype.slice.call(arguments,0),f=r.join("\u2400"),D=n.cache=n.cache||{},F=n.count=n.count||[];return m(D,f)?(t(F,f),D[f]):(F.length>=1e3&&delete D[F.shift()],F.push(f),D[f]=i.apply(0,r),D[f])}return n}function e(i){if(!i)return null;var n=s(i);if(n.arr)return l(n.arr);var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},f=[];return P(i)&&P(i[0])&&(f=l(i)),f.length||String(i).replace(u,function(D,F,G){var Z=[],X=F.toLowerCase();for(G.replace(_,function(q,it){it&&Z.push(+it)}),X=="m"&&Z.length>2&&(f.push([F].concat(Z.splice(0,2))),X="l",F=F=="m"?"l":"L");Z.length>=r[X]&&(f.push([F].concat(Z.splice(0,r[X]))),!!r[X]););}),f.toString=s.toString,n.arr=l(f),f}function s(i){var n=s.ps=s.ps||{};return n[i]?n[i].sleep=100:n[i]={sleep:100},setTimeout(function(){for(var r in n)m(n,r)&&r!=i&&(n[r].sleep--,!n[r].sleep&&delete n[r])}),n[i]}function o(i,n,r,f){return arguments.length===1&&(n=i.y,r=i.width,f=i.height,i=i.x),{x:i,y:n,width:r,height:f,x2:i+r,y2:n+f}}function y(){return this.join(",").replace(V,"$1")}function E(i){var n=l(i);return n.toString=y,n}function v(i,n,r,f,D,F,G,Z,X){var q=1-X,it=g(q,3),K=g(q,2),$=X*X,k=$*X,L=it*i+K*3*X*r+q*3*X*X*D+k*G,H=it*n+K*3*X*f+q*3*X*X*F+k*Z;return{x:I(L),y:I(H)}}function M(i){var n=A.apply(null,i);return o(n.x0,n.y0,n.x1-n.x0,n.y1-n.y0)}function O(i,n,r){return n>=i.x&&n<=i.x+i.width&&r>=i.y&&r<=i.y+i.height}function b(i,n){return i=o(i),n=o(n),O(n,i.x,i.y)||O(n,i.x2,i.y)||O(n,i.x,i.y2)||O(n,i.x2,i.y2)||O(i,n.x,n.y)||O(i,n.x2,n.y)||O(i,n.x,n.y2)||O(i,n.x2,n.y2)||(i.x<n.x2&&i.x>n.x||n.x<i.x2&&n.x>i.x)&&(i.y<n.y2&&i.y>n.y||n.y<i.y2&&n.y>i.y)}function x(i,n,r,f,D){var F=-3*n+9*r-9*f+3*D,G=i*F+6*n-12*r+6*f;return i*G-3*n+3*r}function R(i,n,r,f,D,F,G,Z,X){X==null&&(X=1),X=X>1?1:X<0?0:X;for(var q=X/2,it=12,K=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],$=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],k=0,L=0;L<it;L++){var H=q*K[L]+q,Q=x(H,i,r,D,G),nt=x(H,n,f,F,Z),st=Q*Q+nt*nt;k+=$[L]*a.sqrt(st)}return q*k}function S(i,n,r,f,D,F,G,Z){if(!(C(i,r)<d(D,G)||d(i,r)>C(D,G)||C(n,f)<d(F,Z)||d(n,f)>C(F,Z))){var X=(i*f-n*r)*(D-G)-(i-r)*(D*Z-F*G),q=(i*f-n*r)*(F-Z)-(n-f)*(D*Z-F*G),it=(i-r)*(F-Z)-(n-f)*(D-G);if(it){var K=I(X/it),$=I(q/it),k=+K.toFixed(2),L=+$.toFixed(2);if(!(k<+d(i,r).toFixed(2)||k>+C(i,r).toFixed(2)||k<+d(D,G).toFixed(2)||k>+C(D,G).toFixed(2)||L<+d(n,f).toFixed(2)||L>+C(n,f).toFixed(2)||L<+d(F,Z).toFixed(2)||L>+C(F,Z).toFixed(2)))return{x:K,y:$}}}}function I(i){return Math.round(i*1e11)/1e11}function W(i,n,r){var f=M(i),D=M(n);if(!b(f,D))return r?0:[];for(var F=R.apply(0,i),G=R.apply(0,n),Z=tt(i)?1:~~(F/5)||1,X=tt(n)?1:~~(G/5)||1,q=[],it=[],K={},$=r?0:[],k=0;k<Z+1;k++){var L=v.apply(0,i.concat(k/Z));q.push({x:L.x,y:L.y,t:k/Z})}for(k=0;k<X+1;k++)L=v.apply(0,n.concat(k/X)),it.push({x:L.x,y:L.y,t:k/X});for(k=0;k<Z;k++)for(var H=0;H<X;H++){var Q=q[k],nt=q[k+1],st=it[H],lt=it[H+1],ft=T(nt.x-Q.x)<.01?"y":"x",ut=T(lt.x-st.x)<.01?"y":"x",ht=S(Q.x,Q.y,nt.x,nt.y,st.x,st.y,lt.x,lt.y),vt;if(ht){if(vt=ht.x.toFixed(9)+"#"+ht.y.toFixed(9),K[vt])continue;K[vt]=!0;var dt=Q.t+T((ht[ft]-Q[ft])/(nt[ft]-Q[ft]))*(nt.t-Q.t),_t=st.t+T((ht[ut]-st[ut])/(lt[ut]-st[ut]))*(lt.t-st.t);dt>=0&&dt<=1&&_t>=0&&_t<=1&&(r?$++:$.push({x:ht.x,y:ht.y,t1:dt,t2:_t}))}}return $}function Y(i,n,r){i=c(i),n=c(n);for(var f,D,F,G,Z,X,q,it,K,$,k=r?0:[],L=0,H=i.length;L<H;L++){var Q=i[L];if(Q[0]=="M")f=Z=Q[1],D=X=Q[2];else{Q[0]=="C"?(K=[f,D].concat(Q.slice(1)),f=K[6],D=K[7]):(K=[f,D,f,D,Z,X,Z,X],f=Z,D=X);for(var nt=0,st=n.length;nt<st;nt++){var lt=n[nt];if(lt[0]=="M")F=q=lt[1],G=it=lt[2];else{lt[0]=="C"?($=[F,G].concat(lt.slice(1)),F=$[6],G=$[7]):($=[F,G,F,G,q,it,q,it],F=q,G=it);var ft=W(K,$,r);if(r)k+=ft;else{for(var ut=0,ht=ft.length;ut<ht;ut++)ft[ut].segment1=L,ft[ut].segment2=nt,ft[ut].bez1=K,ft[ut].bez2=$;k=k.concat(ft)}}}}}return k}function rt(i){var n=s(i);if(n.abs)return E(n.abs);if((!P(i)||!P(i&&i[0]))&&(i=e(i)),!i||!i.length)return[["M",0,0]];var r=[],f=0,D=0,F=0,G=0,Z=0,X;i[0][0]=="M"&&(f=+i[0][1],D=+i[0][2],F=f,G=D,Z++,r[0]=["M",f,D]);for(var q,it,K=Z,$=i.length;K<$;K++){if(r.push(q=[]),it=i[K],X=it[0],X!=X.toUpperCase())switch(q[0]=X.toUpperCase(),q[0]){case"A":q[1]=it[1],q[2]=it[2],q[3]=it[3],q[4]=it[4],q[5]=it[5],q[6]=+it[6]+f,q[7]=+it[7]+D;break;case"V":q[1]=+it[1]+D;break;case"H":q[1]=+it[1]+f;break;case"M":F=+it[1]+f,G=+it[2]+D;default:for(var k=1,L=it.length;k<L;k++)q[k]=+it[k]+(k%2?f:D)}else for(var H=0,Q=it.length;H<Q;H++)q[H]=it[H];switch(X=X.toUpperCase(),q[0]){case"Z":f=+F,D=+G;break;case"H":f=q[1];break;case"V":D=q[1];break;case"M":F=q[q.length-2],G=q[q.length-1];default:f=q[q.length-2],D=q[q.length-1]}}return r.toString=y,n.abs=E(r),r}function tt(i){return i[0]===i[2]&&i[1]===i[3]&&i[4]===i[6]&&i[5]===i[7]}function J(i,n,r,f){return[i,n,r,f,r,f]}function z(i,n,r,f,D,F){var G=.3333333333333333,Z=2/3;return[G*i+Z*r,G*n+Z*f,G*D+Z*r,G*F+Z*f,D,F]}function U(i,n,r,f,D,F,G,Z,X,q){var it=N*120/180,K=N/180*(+D||0),$=[],k,L=p(function(Ht,Wt,Ft){var oe=Ht*a.cos(Ft)-Wt*a.sin(Ft),ae=Ht*a.sin(Ft)+Wt*a.cos(Ft);return{x:oe,y:ae}});if(q)vt=q[0],dt=q[1],ut=q[2],ht=q[3];else{k=L(i,n,-K),i=k.x,n=k.y,k=L(Z,X,-K),Z=k.x,X=k.y;var H=(i-Z)/2,Q=(n-X)/2,nt=H*H/(r*r)+Q*Q/(f*f);nt>1&&(nt=a.sqrt(nt),r=nt*r,f=nt*f);var st=r*r,lt=f*f,ft=(F==G?-1:1)*a.sqrt(T((st*lt-st*Q*Q-lt*H*H)/(st*Q*Q+lt*H*H))),ut=ft*r*Q/f+(i+Z)/2,ht=ft*-f*H/r+(n+X)/2,vt=a.asin(((n-ht)/f).toFixed(9)),dt=a.asin(((X-ht)/f).toFixed(9));vt=i<ut?N-vt:vt,dt=Z<ut?N-dt:dt,vt<0&&(vt=N*2+vt),dt<0&&(dt=N*2+dt),G&&vt>dt&&(vt=vt-N*2),!G&&dt>vt&&(dt=dt-N*2)}var _t=dt-vt;if(T(_t)>it){var Rt=dt,It=Z,Et=X;dt=vt+it*(G&&dt>vt?1:-1),Z=ut+r*a.cos(dt),X=ht+f*a.sin(dt),$=U(Z,X,r,f,D,0,G,It,Et,[dt,Rt,ut,ht])}_t=dt-vt;var Tt=a.cos(vt),kt=a.sin(vt),Vt=a.cos(dt),Nt=a.sin(dt),bt=a.tan(_t/4),Yt=4/3*r*bt,$t=4/3*f*bt,Xt=[i,n],wt=[i+Yt*kt,n-$t*Tt],Zt=[Z+Yt*Nt,X-$t*Vt],Lt=[Z,X];if(wt[0]=2*Xt[0]-wt[0],wt[1]=2*Xt[1]-wt[1],q)return[wt,Zt,Lt].concat($);$=[wt,Zt,Lt].concat($).join().split(",");for(var Qt=[],Pt=0,Jt=$.length;Pt<Jt;Pt++)Qt[Pt]=Pt%2?L($[Pt-1],$[Pt],K).y:L($[Pt],$[Pt+1],K).x;return Qt}function A(i,n,r,f,D,F,G,Z){for(var X=[],q=[[],[]],it,K,$,k,L,H,Q,nt,st=0;st<2;++st){if(st==0?(K=6*i-12*r+6*D,it=-3*i+9*r-9*D+3*G,$=3*r-3*i):(K=6*n-12*f+6*F,it=-3*n+9*f-9*F+3*Z,$=3*f-3*n),T(it)<1e-12){if(T(K)<1e-12)continue;k=-$/K,0<k&&k<1&&X.push(k);continue}Q=K*K-4*$*it,nt=a.sqrt(Q),!(Q<0)&&(L=(-K+nt)/(2*it),0<L&&L<1&&X.push(L),H=(-K-nt)/(2*it),0<H&&H<1&&X.push(H))}for(var lt=X.length,ft=lt,ut;lt--;)k=X[lt],ut=1-k,q[0][lt]=ut*ut*ut*i+3*ut*ut*k*r+3*ut*k*k*D+k*k*k*G,q[1][lt]=ut*ut*ut*n+3*ut*ut*k*f+3*ut*k*k*F+k*k*k*Z;return q[0][ft]=i,q[1][ft]=n,q[0][ft+1]=G,q[1][ft+1]=Z,q[0].length=q[1].length=ft+2,{x0:d.apply(0,q[0]),y0:d.apply(0,q[1]),x1:C.apply(0,q[0]),y1:C.apply(0,q[1])}}function c(i){var n=s(i);if(n.curve)return E(n.curve);for(var r=rt(i),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},D=function(k,L,H){var Q,nt;if(!k)return["C",L.x,L.y,L.x,L.y,L.x,L.y];switch(!(k[0]in{T:1,Q:1})&&(L.qx=L.qy=null),k[0]){case"M":L.X=k[1],L.Y=k[2];break;case"A":k=["C"].concat(U.apply(0,[L.x,L.y].concat(k.slice(1))));break;case"S":H=="C"||H=="S"?(Q=L.x*2-L.bx,nt=L.y*2-L.by):(Q=L.x,nt=L.y),k=["C",Q,nt].concat(k.slice(1));break;case"T":H=="Q"||H=="T"?(L.qx=L.x*2-L.qx,L.qy=L.y*2-L.qy):(L.qx=L.x,L.qy=L.y),k=["C"].concat(z(L.x,L.y,L.qx,L.qy,k[1],k[2]));break;case"Q":L.qx=k[1],L.qy=k[2],k=["C"].concat(z(L.x,L.y,k[1],k[2],k[3],k[4]));break;case"L":k=["C"].concat(J(L.x,L.y,k[1],k[2]));break;case"H":k=["C"].concat(J(L.x,L.y,k[1],L.y));break;case"V":k=["C"].concat(J(L.x,L.y,L.x,k[1]));break;case"Z":k=["C"].concat(J(L.x,L.y,L.X,L.Y));break}return k},F=function(k,L){if(k[L].length>7){k[L].shift();for(var H=k[L];H.length;)G[L]="A",k.splice(L++,0,["C"].concat(H.splice(0,6)));k.splice(L,1),it=r.length}},G=[],Z="",X="",q=0,it=r.length;q<it;q++){r[q]&&(Z=r[q][0]),Z!="C"&&(G[q]=Z,q&&(X=G[q-1])),r[q]=D(r[q],f,X),G[q]!="A"&&Z=="C"&&(G[q]="C"),F(r,q);var K=r[q],$=K.length;f.x=K[$-2],f.y=K[$-1],f.bx=h(K[$-4])||f.x,f.by=h(K[$-3])||f.y}return n.curve=E(r),r}ot.exports=Y},13457:(ot,V,h)=>{h.d(V,{A:()=>n});var a=/^class /;function N(r){return a.test(r.toString())}function d(r){return Object.prototype.toString.call(r)==="[object Array]"}function C(){var r=Array.prototype.slice.call(arguments);r.length===1&&d(r[0])&&(r=r[0]);var f=r.pop();return f.$inject=r,f}var g=/constructor\s*[^(]*\(\s*([^)]*)\)/m,T=/^function\s*[^(]*\(\s*([^)]*)\)/m,u=/\/\*([^*]*)\*\//m;function _(r){if(typeof r!="function")throw new Error('Cannot annotate "'+r+'". Expected a function!');var f=r.toString().match(N(r)?g:T);return f?f[1]&&f[1].split(",").map(function(D){return f=D.match(u),f?f[1].trim():D.trim()})||[]:[]}function P(){var r=[];this.factory=function(f,D){return r.push([f,"factory",D]),this},this.value=function(f,D){return r.push([f,"value",D]),this},this.type=function(f,D){return r.push([f,"type",D]),this},this.forEach=function(f){r.forEach(f)}}var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function l(r){if(Array.isArray(r)){for(var f=0,D=Array(r.length);f<r.length;f++)D[f]=r[f];return D}else return Array.from(r)}function t(r,f){f=f||{get:function(nt,st){if(D.push(nt),st===!1)return null;throw X('No provider for "'+nt+'"!')}};var D=[],F=this._providers=Object.create(f._providers||null),G=this._instances=Object.create(null),Z=G.injector=this,X=function(nt){var st=D.join(" -> ");return D.length=0,new Error(st?nt+" (Resolving: "+st+")":nt)},q=function Q(nt,st){if(!F[nt]&&nt.indexOf(".")!==-1){for(var lt=nt.split("."),ft=Q(lt.shift());lt.length;)ft=ft[lt.shift()];return ft}if(p(G,nt))return G[nt];if(p(F,nt)){if(D.indexOf(nt)!==-1)throw D.push(nt),X("Cannot resolve circular dependency!");return D.push(nt),G[nt]=F[nt][0](F[nt][1]),D.pop(),G[nt]}return f.get(nt,st)},it=function(nt){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof nt!="function")if(d(nt))nt=C(nt.slice());else throw new Error('Cannot invoke "'+nt+'". Expected a function!');var lt=nt.$inject||_(nt),ft=lt.map(function(ut){return p(st,ut)?st[ut]:q(ut)});return{fn:nt,dependencies:ft}},K=function(nt){var st=it(nt),lt=st.dependencies,ft=st.fn;return new(Function.prototype.bind.apply(ft,[null].concat(l(lt))))},$=function(nt,st,lt){var ft=it(nt,lt),ut=ft.dependencies,ht=ft.fn;return ht.call.apply(ht,[st].concat(l(ut)))},k=function(nt){return C(function(st){return nt.get(st)})},L=function(nt,st){if(st&&st.length){var lt=Object.create(null),ft=Object.create(null),ut=[],ht=[],vt=[],dt,_t,Rt,It;for(var Et in F)dt=F[Et],st.indexOf(Et)!==-1&&(dt[2]==="private"?(_t=ut.indexOf(dt[3]),_t===-1?(Rt=dt[3].createChild([],st),It=k(Rt),ut.push(dt[3]),ht.push(Rt),vt.push(It),lt[Et]=[It,Et,"private",Rt]):lt[Et]=[vt[_t],Et,"private",ht[_t]]):lt[Et]=[dt[2],dt[1]],ft[Et]=!0),(dt[2]==="factory"||dt[2]==="type")&&dt[1].$scope&&st.forEach(function(Tt){dt[1].$scope.indexOf(Tt)!==-1&&(lt[Et]=[dt[2],dt[1]],ft[Tt]=!0)});st.forEach(function(Tt){if(!ft[Tt])throw new Error('No provider for "'+Tt+'". Cannot use provider from the parent!')}),nt.unshift(lt)}return new t(nt,Z)},H={factory:$,type:K,value:function(nt){return nt}};r.forEach(function(Q){function nt(ut,ht){return ut!=="value"&&d(ht)&&(ht=C(ht.slice())),ht}if(Q instanceof P)Q.forEach(function(ut){var ht=ut[0],vt=ut[1],dt=ut[2];F[ht]=[H[vt],nt(vt,dt),vt]});else if((typeof Q>"u"?"undefined":m(Q))==="object")if(Q.__exports__){var st=Object.keys(Q).reduce(function(ut,ht){return ht.substring(0,2)!=="__"&&(ut[ht]=Q[ht]),ut},Object.create(null)),lt=new t((Q.__modules__||[]).concat([st]),Z),ft=C(function(ut){return lt.get(ut)});Q.__exports__.forEach(function(ut){F[ut]=[ft,ut,"private",lt]})}else Object.keys(Q).forEach(function(ut){if(Q[ut][2]==="private"){F[ut]=Q[ut];return}var ht=Q[ut][0],vt=Q[ut][1];F[ut]=[H[ht],nt(ht,vt),ht]})}),this.get=q,this.invoke=$,this.instantiate=K,this.createChild=L}function p(r,f){return Object.hasOwnProperty.call(r,f)}var e=h(51270),s=h.n(e),o=h(97975),y=h(12619),E=h(33225),v=h(10018),M=1;function O(r,f){o.A.call(this,r,M),this.CONNECTION_STYLE=f.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=f.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=f.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}s()(O,o.A),O.prototype.canRender=function(){return!0},O.prototype.drawShape=function(f,D){var F=(0,E.vt)("rect");return(0,E.CF)(F,{x:0,y:0,width:D.width||0,height:D.height||0}),(0,v.eb)(D)?(0,E.CF)(F,this.FRAME_STYLE):(0,E.CF)(F,this.SHAPE_STYLE),(0,E.BC)(f,F),F},O.prototype.drawConnection=function(f,D){var F=(0,y.RJ)(D.waypoints,this.CONNECTION_STYLE);return(0,E.BC)(f,F),F},O.prototype.getShapePath=function(f){var D=f.x,F=f.y,G=f.width,Z=f.height,X=[["M",D,F],["l",G,0],["l",0,Z],["l",-G,0],["z"]];return(0,y.tx)(X)},O.prototype.getConnectionPath=function(f){var D=f.waypoints,F,G,Z=[];for(F=0;G=D[F];F++)G=G.original||G,Z.push([F===0?"M":"L",G.x,G.y]);return(0,y.tx)(Z)},O.$inject=["eventBus","styles"];var b=h(19187);const x={__init__:["defaultRenderer"],defaultRenderer:["type",O],styles:["type",b.A]};var R=h(69034),S=h(54343),I=h(15176),W=h(95820),Y=h(98218),rt=h(12266),tt=h(52965),J=h(52687);function z(r,f){this._eventBus=r,this._elementRegistry=f}z.$inject=["eventBus","elementRegistry"],z.prototype._getChildrenContainer=function(r){var f=this._elementRegistry.getGraphics(r),D;return r.parent?(D=(0,rt.i)(f),D||(D=(0,E.vt)("g"),(0,E.Ly)(D).add("djs-children"),(0,E.BC)(f.parentNode,D))):D=f,D},z.prototype._clear=function(r){var f=(0,rt.P)(r);return(0,J.clear)(f),f},z.prototype._createContainer=function(r,f,D,F){var G=(0,E.vt)("g");(0,E.Ly)(G).add("djs-group"),typeof D<"u"?U(G,f,f.childNodes[D]):(0,E.BC)(f,G);var Z=(0,E.vt)("g");(0,E.Ly)(Z).add("djs-element"),(0,E.Ly)(Z).add("djs-"+r),F&&(0,E.Ly)(Z).add("djs-frame"),(0,E.BC)(G,Z);var X=(0,E.vt)("g");return(0,E.Ly)(X).add("djs-visual"),(0,E.BC)(Z,X),Z},z.prototype.create=function(r,f,D){var F=this._getChildrenContainer(f.parent);return this._createContainer(r,F,D,(0,v.eb)(f))},z.prototype.updateContainments=function(r){var f=this,D=this._elementRegistry,F;F=(0,Y.reduce)(r,function(G,Z){return Z.parent&&(G[Z.parent.id]=Z.parent),G},{}),(0,Y.forEach)(F,function(G){var Z=G.children;if(Z){var X=f._getChildrenContainer(G);(0,Y.forEach)(Z.slice().reverse(),function(q){var it=D.getGraphics(q);U(it.parentNode,X)})}})},z.prototype.drawShape=function(r,f){var D=this._eventBus;return D.fire("render.shape",{gfx:r,element:f})},z.prototype.getShapePath=function(r){var f=this._eventBus;return f.fire("render.getShapePath",r)},z.prototype.drawConnection=function(r,f){var D=this._eventBus;return D.fire("render.connection",{gfx:r,element:f})},z.prototype.getConnectionPath=function(r){var f=this._eventBus;return f.fire("render.getConnectionPath",r)},z.prototype.update=function(r,f,D){if(f.parent){var F=this._clear(D);if(r==="shape")this.drawShape(F,f),(0,tt.Tl)(D,f.x,f.y);else if(r==="connection")this.drawConnection(F,f);else throw new Error("unknown type: "+r);f.hidden?(0,E.CF)(D,"display","none"):(0,E.CF)(D,"display","block")}},z.prototype.remove=function(r){var f=this._elementRegistry.getGraphics(r);(0,E.TF)(f.parentNode)};function U(r,f,D){var F=D||f.firstChild;r!==F&&f.insertBefore(r,F)}const A={__depends__:[x],__init__:["canvas"],canvas:["type",R.A],elementRegistry:["type",S.A],elementFactory:["type",I.A],eventBus:["type",W.A],graphicsFactory:["type",z]};function c(r){var f=[],D=[];function F(q){return f.indexOf(q)>=0}function G(q){f.push(q)}function Z(q){F(q)||((q.__depends__||[]).forEach(Z),!F(q)&&(G(q),(q.__init__||[]).forEach(function(it){D.push(it)})))}r.forEach(Z);var X=new t(f);return D.forEach(function(q){try{X[typeof q=="string"?"get":"invoke"](q)}catch(it){throw console.error("Failed to instantiate component"),console.error(it.stack),it}}),X}function i(r){r=r||{};var f={config:["value",r]},D=[f,A].concat(r.modules||[]);return c(D)}function n(r,f){this.injector=f=f||i(r),this.get=f.get,this.invoke=f.invoke,this.get("eventBus").fire("diagram.init")}n.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},n.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},6705:(ot,V,h)=>{h.d(V,{A:()=>C});var a=h(98218),N=h.n(a),d=1e3;function C(u){this._eventBus=u}C.$inject=["eventBus"];function g(u,_){return function(P){return u.call(_||null,P.context,P.command,P)}}C.prototype.on=function(u,_,P,m,l,t){if(((0,a.isFunction)(_)||(0,a.isNumber)(_))&&(t=l,l=m,m=P,P=_,_=null),(0,a.isFunction)(P)&&(t=l,l=m,m=P,P=d),(0,a.isObject)(l)&&(t=l,l=!1),!(0,a.isFunction)(m))throw new Error("handlerFn must be a function");(0,a.isArray)(u)||(u=[u]);var p=this._eventBus;(0,a.forEach)(u,function(e){var s=["commandStack",e,_].filter(function(o){return o}).join(".");p.on(s,P,l?g(m,t):m,t)})};var T=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];(0,a.forEach)(T,function(u){C.prototype[u]=function(_,P,m,l,t){((0,a.isFunction)(_)||(0,a.isNumber)(_))&&(t=l,l=m,m=P,P=_,_=null),this.on(_,u,P,m,l,t)}})},17389:(ot,V,h)=>{h.d(V,{A:()=>d});var a=h(98218),N=h.n(a);function d(C,g){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=g,this._eventBus=C,this._uid=1,C.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}d.$inject=["eventBus","injector"],d.prototype.execute=function(C,g){if(!C)throw new Error("command required");var T={command:C,context:g};this._pushAction(T),this._internalExecute(T),this._popAction(T)},d.prototype.canExecute=function(C,g){var T={command:C,context:g},u=this._getHandler(C),_=this._fire(C,"canExecute",T);if(_===void 0){if(!u)return!1;u.canExecute&&(_=u.canExecute(g))}return _},d.prototype.clear=function(C){this._stack.length=0,this._stackIdx=-1,C!==!1&&this._fire("changed")},d.prototype.undo=function(){var C=this._getUndoAction(),g;if(C){for(this._pushAction(C);C&&(this._internalUndo(C),g=this._getUndoAction(),!(!g||g.id!==C.id));)C=g;this._popAction()}},d.prototype.redo=function(){var C=this._getRedoAction(),g;if(C){for(this._pushAction(C);C&&(this._internalExecute(C,!0),g=this._getRedoAction(),!(!g||g.id!==C.id));)C=g;this._popAction()}},d.prototype.register=function(C,g){this._setHandler(C,g)},d.prototype.registerHandler=function(C,g){if(!C||!g)throw new Error("command and handlerCls must be defined");var T=this._injector.instantiate(g);this.register(C,T)},d.prototype.canUndo=function(){return!!this._getUndoAction()},d.prototype.canRedo=function(){return!!this._getRedoAction()},d.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},d.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},d.prototype._internalUndo=function(C){var g=this,T=C.command,u=C.context,_=this._getHandler(T);this._atomicDo(function(){g._fire(T,"revert",C),_.revert&&g._markDirty(_.revert(u)),g._revertedAction(C),g._fire(T,"reverted",C)})},d.prototype._fire=function(C,g,T){arguments.length<3&&(T=g,g=null);var u=g?[C+"."+g,g]:[C],_,P,m;for(T=this._eventBus.createEvent(T),_=0;(P=u[_])&&(m=this._eventBus.fire("commandStack."+P,T),!T.cancelBubble);_++);return m},d.prototype._createId=function(){return this._uid++},d.prototype._atomicDo=function(C){var g=this._currentExecution;g.atomic=!0;try{C()}finally{g.atomic=!1}},d.prototype._internalExecute=function(C,g){var T=this,u=C.command,_=C.context,P=this._getHandler(u);if(!P)throw new Error("no command handler registered for <"+u+">");this._pushAction(C),g||(this._fire(u,"preExecute",C),P.preExecute&&P.preExecute(_),this._fire(u,"preExecuted",C)),this._atomicDo(function(){T._fire(u,"execute",C),P.execute&&T._markDirty(P.execute(_)),T._executedAction(C,g),T._fire(u,"executed",C)}),g||(this._fire(u,"postExecute",C),P.postExecute&&P.postExecute(_),this._fire(u,"postExecuted",C)),this._popAction(C)},d.prototype._pushAction=function(C){var g=this._currentExecution,T=g.actions,u=T[0];if(g.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+C.command+")");C.id||(C.id=u&&u.id||this._createId()),T.push(C)},d.prototype._popAction=function(){var C=this._currentExecution,g=C.actions,T=C.dirty;g.pop(),g.length||(this._eventBus.fire("elements.changed",{elements:(0,a.uniqueBy)("id",T.reverse())}),T.length=0,this._fire("changed"))},d.prototype._markDirty=function(C){var g=this._currentExecution;C&&(C=(0,a.isArray)(C)?C:[C],g.dirty=g.dirty.concat(C))},d.prototype._executedAction=function(C,g){var T=++this._stackIdx;g||this._stack.splice(T,this._stack.length,C)},d.prototype._revertedAction=function(C){this._stackIdx--},d.prototype._getHandler=function(C){return this._handlerMap[C]},d.prototype._setHandler=function(C,g){if(!C||!g)throw new Error("command and handler required");if(this._handlerMap[C])throw new Error("overriding handler for command <"+C+">");this._handlerMap[C]=g}},69034:(ot,V,h)=>{h.d(V,{A:()=>t});var a=h(98218),N=h.n(a),d=h(6958),C=h(10018),g=h(33225);function T(e,s){return Math.round(e*s)/s}function u(e){return(0,a.isNumber)(e)?e+"px":e}function _(e){e=(0,a.assign)({},{width:"100%",height:"100%"},e);var s=e.container||document.body,o=document.createElement("div");return o.setAttribute("class","djs-container"),(0,a.assign)(o.style,{position:"relative",overflow:"hidden",width:u(e.width),height:u(e.height)}),s.appendChild(o),o}function P(e,s,o){var y=(0,g.vt)("g");(0,g.Ly)(y).add(s);var E=o!==void 0?o:e.childNodes.length-1;return e.insertBefore(y,e.childNodes[E]||null),y}var m="base",l={shape:["x","y","width","height"],connection:["waypoints"]};function t(e,s,o,y){this._eventBus=s,this._elementRegistry=y,this._graphicsFactory=o,this._init(e||{})}t.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],t.prototype._init=function(e){var s=this._eventBus,o=this._container=_(e),y=this._svg=(0,g.vt)("svg");(0,g.CF)(y,{width:"100%",height:"100%"}),(0,g.BC)(o,y);var E=this._viewport=P(y,"viewport");this._layers={},e.deferUpdate!==!1&&(this._viewboxChanged=(0,a.debounce)((0,a.bind)(this._viewboxChanged,this),300)),s.on("diagram.init",function(){s.fire("canvas.init",{svg:y,viewport:E})},this),s.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),s.on("diagram.destroy",500,this._destroy,this),s.on("diagram.clear",500,this._clear,this)},t.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var s=this._container.parentNode;s&&s.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},t.prototype._clear=function(){var e=this,s=this._elementRegistry.getAll();s.forEach(function(o){var y=(0,C.Pw)(o);y==="root"?e.setRootElement(null,!0):e._removeElement(o,y)}),delete this._cachedViewbox},t.prototype.getDefaultLayer=function(){return this.getLayer(m,0)},t.prototype.getLayer=function(e,s){if(!e)throw new Error("must specify a name");var o=this._layers[e];if(o||(o=this._layers[e]=this._createLayer(e,s)),typeof s<"u"&&o.index!==s)throw new Error("layer <"+e+"> already created at index <"+s+">");return o.group},t.prototype._createLayer=function(e,s){s||(s=0);var o=(0,a.reduce)(this._layers,function(y,E){return s>=E.index&&y++,y},0);return{group:P(this._viewport,"layer-"+e,o),index:s}},t.prototype.getContainer=function(){return this._container},t.prototype._updateMarker=function(e,s,o){var y;e.id||(e=this._elementRegistry.get(e)),y=this._elementRegistry._elements[e.id],y&&((0,a.forEach)([y.gfx,y.secondaryGfx],function(E){E&&(o?(0,g.Ly)(E).add(s):(0,g.Ly)(E).remove(s))}),this._eventBus.fire("element.marker.update",{element:e,gfx:y.gfx,marker:s,add:!!o}))},t.prototype.addMarker=function(e,s){this._updateMarker(e,s,!0)},t.prototype.removeMarker=function(e,s){this._updateMarker(e,s,!1)},t.prototype.hasMarker=function(e,s){e.id||(e=this._elementRegistry.get(e));var o=this.getGraphics(e);return(0,g.Ly)(o).has(s)},t.prototype.toggleMarker=function(e,s){this.hasMarker(e,s)?this.removeMarker(e,s):this.addMarker(e,s)},t.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},t.prototype.setRootElement=function(e,s){e&&this._ensureValid("root",e);var o=this._rootElement,y=this._elementRegistry,E=this._eventBus;if(o){if(!s)throw new Error("rootElement already set, need to specify override");E.fire("root.remove",{element:o}),E.fire("root.removed",{element:o}),y.remove(o)}if(e){var v=this.getDefaultLayer();E.fire("root.add",{element:e}),y.add(e,v,this._svg),E.fire("root.added",{element:e,gfx:v})}return this._rootElement=e,e},t.prototype._ensureValid=function(e,s){if(!s.id)throw new Error("element must have an id");if(this._elementRegistry.get(s.id))throw new Error("element with id "+s.id+" already exists");var o=l[e],y=(0,a.every)(o,function(E){return typeof s[E]<"u"});if(!y)throw new Error("must supply { "+o.join(", ")+" } with "+e)},t.prototype._setParent=function(e,s,o){(0,d.WQ)(s.children,e,o),e.parent=s},t.prototype._addElement=function(e,s,o,y){o=o||this.getRootElement();var E=this._eventBus,v=this._graphicsFactory;this._ensureValid(e,s),E.fire(e+".add",{element:s,parent:o}),this._setParent(s,o,y);var M=v.create(e,s,y);return this._elementRegistry.add(s,M),v.update(e,s,M),E.fire(e+".added",{element:s,gfx:M}),s},t.prototype.addShape=function(e,s,o){return this._addElement("shape",e,s,o)},t.prototype.addConnection=function(e,s,o){return this._addElement("connection",e,s,o)},t.prototype._removeElement=function(e,s){var o=this._elementRegistry,y=this._graphicsFactory,E=this._eventBus;if(e=o.get(e.id||e),!!e)return E.fire(s+".remove",{element:e}),y.remove(e),(0,d.TF)(e.parent&&e.parent.children,e),e.parent=null,E.fire(s+".removed",{element:e}),o.remove(e),e},t.prototype.removeShape=function(e){return this._removeElement(e,"shape")},t.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},t.prototype.getGraphics=function(e,s){return this._elementRegistry.getGraphics(e,s)},t.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},t.prototype._viewboxChanged=function(){this._container&&this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},t.prototype.viewbox=function(e){if(e===void 0&&this._cachedViewbox)return this._cachedViewbox;var s=this._viewport,o,y=this.getSize(),E,v,M,O,b;if(e)this._changeViewbox(function(){M=Math.min(y.width/e.width,y.height/e.height);var x=this._svg.createSVGMatrix().scale(M).translate(-e.x,-e.y);(0,g.pd)(s,x)});else return o=this.getDefaultLayer().getBBox(),v=(0,g.pd)(s),E=v?v.matrix:(0,g.uK)(),M=T(E.a,1e3),O=T(-E.e||0,1e3),b=T(-E.f||0,1e3),e=this._cachedViewbox={x:O?O/M:0,y:b?b/M:0,width:y.width/M,height:y.height/M,scale:M,inner:{width:o.width,height:o.height,x:o.x,y:o.y},outer:y},e;return e},t.prototype.scroll=function(e){var s=this._viewport,o=s.getCTM();return e&&this._changeViewbox(function(){e=(0,a.assign)({dx:0,dy:0},e||{}),o=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(o),p(s,o)}),{x:o.e,y:o.f}},t.prototype.zoom=function(e,s){if(!e)return this.viewbox(e).scale;if(e==="fit-viewport")return this._fitViewport(s);var o,y;return this._changeViewbox(function(){typeof s!="object"&&(o=this.viewbox().outer,s={x:o.width/2,y:o.height/2}),y=this._setZoom(e,s)}),T(y.a,1e3)};function p(e,s){var o="matrix("+s.a+","+s.b+","+s.c+","+s.d+","+s.e+","+s.f+")";e.setAttribute("transform",o)}t.prototype._fitViewport=function(e){var s=this.viewbox(),o=s.outer,y=s.inner,E,v;return y.x>=0&&y.y>=0&&y.x+y.width<=o.width&&y.y+y.height<=o.height&&!e?v={x:0,y:0,width:Math.max(y.width+y.x,o.width),height:Math.max(y.height+y.y,o.height)}:(E=Math.min(1,o.width/y.width,o.height/y.height),v={x:y.x+(e?y.width/2-o.width/E/2:0),y:y.y+(e?y.height/2-o.height/E/2:0),width:o.width/E,height:o.height/E}),this.viewbox(v),this.viewbox(!1).scale},t.prototype._setZoom=function(e,s){var o=this._svg,y=this._viewport,E=o.createSVGMatrix(),v=o.createSVGPoint(),M,O,b,x,R;b=y.getCTM();var S=b.a;return s?(M=(0,a.assign)(v,s),O=M.matrixTransform(b.inverse()),x=E.translate(O.x,O.y).scale(1/S*e).translate(-O.x,-O.y),R=b.multiply(x)):R=E.scale(e),p(this._viewport,R),R},t.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},t.prototype.getAbsoluteBBox=function(e){var s=this.viewbox(),o;if(e.waypoints){var y=this.getGraphics(e);o=y.getBBox()}else o=e;var E=o.x*s.scale-s.x*s.scale,v=o.y*s.scale-s.y*s.scale,M=o.width*s.scale,O=o.height*s.scale;return{x:E,y:v,width:M,height:O}},t.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},15176:(ot,V,h)=>{h.d(V,{A:()=>C});var a=h(49096),N=h(98218),d=h.n(N);function C(){this._uid=12}C.prototype.createRoot=function(g){return this.create("root",g)},C.prototype.createLabel=function(g){return this.create("label",g)},C.prototype.createShape=function(g){return this.create("shape",g)},C.prototype.createConnection=function(g){return this.create("connection",g)},C.prototype.create=function(g,T){return T=(0,N.assign)({},T||{}),T.id||(T.id=g+"_"+this._uid++),(0,a.vt)(g,T)}},54343:(ot,V,h)=>{h.d(V,{A:()=>d});var a=h(33225),N="data-element-id";function d(C){this._elements={},this._eventBus=C}d.$inject=["eventBus"],d.prototype.add=function(C,g,T){var u=C.id;this._validateId(u),(0,a.CF)(g,N,u),T&&(0,a.CF)(T,N,u),this._elements[u]={element:C,gfx:g,secondaryGfx:T}},d.prototype.remove=function(C){var g=this._elements,T=C.id||C,u=T&&g[T];u&&((0,a.CF)(u.gfx,N,""),u.secondaryGfx&&(0,a.CF)(u.secondaryGfx,N,""),delete g[T])},d.prototype.updateId=function(C,g){this._validateId(g),typeof C=="string"&&(C=this.get(C)),this._eventBus.fire("element.updateId",{element:C,newId:g});var T=this.getGraphics(C),u=this.getGraphics(C,!0);this.remove(C),C.id=g,this.add(C,T,u)},d.prototype.get=function(C){var g;typeof C=="string"?g=C:g=C&&(0,a.CF)(C,N);var T=this._elements[g];return T&&T.element},d.prototype.filter=function(C){var g=[];return this.forEach(function(T,u){C(T,u)&&g.push(T)}),g},d.prototype.getAll=function(){return this.filter(function(C){return C})},d.prototype.forEach=function(C){var g=this._elements;Object.keys(g).forEach(function(T){var u=g[T],_=u.element,P=u.gfx;return C(_,P)})},d.prototype.getGraphics=function(C,g){var T=C.id||C,u=this._elements[T];return u&&(g?u.secondaryGfx:u.gfx)},d.prototype._validateId=function(C){if(!C)throw new Error("element must have an id");if(this._elements[C])throw new Error("element with id "+C+" already added")}},95820:(ot,V,h)=>{h.d(V,{A:()=>T});var a=h(98218),N=h.n(a),d="__fn",C=1e3,g=Array.prototype.slice;function T(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}T.prototype.on=function(P,m,l,t){if(P=(0,a.isArray)(P)?P:[P],(0,a.isFunction)(m)&&(t=l,l=m,m=C),!(0,a.isNumber)(m))throw new Error("priority must be a number");var p=l;t&&(p=(0,a.bind)(l,t),p[d]=l[d]||l);var e=this;P.forEach(function(s){e._addListener(s,{priority:m,callback:p,next:null})})},T.prototype.once=function(P,m,l,t){var p=this;if((0,a.isFunction)(m)&&(t=l,l=m,m=C),!(0,a.isNumber)(m))throw new Error("priority must be a number");function e(){var s=l.apply(t,arguments);return p.off(P,e),s}e[d]=l,this.on(P,m,e)},T.prototype.off=function(P,m){P=(0,a.isArray)(P)?P:[P];var l=this;P.forEach(function(t){l._removeListener(t,m)})},T.prototype.createEvent=function(P){var m=new u;return m.init(P),m},T.prototype.fire=function(P,m){var l,t,p,e;if(e=g.call(arguments),typeof P=="object"&&(m=P,P=m.type),!P)throw new Error("no event type specified");if(t=this._listeners[P],!!t){m instanceof u?l=m:l=this.createEvent(m),e[0]=l;var s=l.type;P!==s&&(l.type=P);try{p=this._invokeListeners(l,e,t)}finally{P!==s&&(l.type=s)}return p===void 0&&l.defaultPrevented&&(p=!1),p}},T.prototype.handleError=function(P){return this.fire("error",{error:P})===!1},T.prototype._destroy=function(){this._listeners={}},T.prototype._invokeListeners=function(P,m,l){for(var t;l&&!P.cancelBubble;)t=this._invokeListener(P,m,l),l=l.next;return t},T.prototype._invokeListener=function(P,m,l){var t;try{t=_(l.callback,m),t!==void 0&&(P.returnValue=t,P.stopPropagation()),t===!1&&P.preventDefault()}catch(p){if(!this.handleError(p))throw console.error("unhandled error in event listener"),console.error(p.stack),p}return t},T.prototype._addListener=function(P,m){var l=this._getListeners(P),t;if(!l){this._setListeners(P,m);return}for(;l;){if(l.priority<m.priority){m.next=l,t?t.next=m:this._setListeners(P,m);return}t=l,l=l.next}t.next=m},T.prototype._getListeners=function(P){return this._listeners[P]},T.prototype._setListeners=function(P,m){this._listeners[P]=m},T.prototype._removeListener=function(P,m){var l=this._getListeners(P),t,p,e;if(!m){this._setListeners(P,null);return}for(;l;)t=l.next,e=l.callback,(e===m||e[d]===m)&&(p?p.next=t:this._setListeners(P,t)),p=l,l=t};function u(){}u.prototype.stopPropagation=function(){this.cancelBubble=!0},u.prototype.preventDefault=function(){this.defaultPrevented=!0},u.prototype.init=function(P){(0,a.assign)(this,P||{})};function _(P,m){return P.apply(null,m)}},97975:(ot,V,h)=>{h.d(V,{A:()=>N});var a=1e3;function N(d,C){var g=this;C=C||a,d.on(["render.shape","render.connection"],C,function(T,u){var _=T.type,P=u.element,m=u.gfx;if(g.canRender(P))return _==="render.shape"?g.drawShape(m,P):g.drawConnection(m,P)}),d.on(["render.getShapePath","render.getConnectionPath"],C,function(T,u){if(g.canRender(u))return T.type==="render.getShapePath"?g.getShapePath(u):g.getConnectionPath(u)})}N.prototype.canRender=function(){},N.prototype.drawShape=function(){},N.prototype.drawConnection=function(){},N.prototype.getShapePath=function(){},N.prototype.getConnectionPath=function(){}},19187:(ot,V,h)=>{h.d(V,{A:()=>d});var a=h(98218),N=h.n(a);function d(){var C={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},g=this;this.cls=function(T,u,_){var P=this.style(u,_);return(0,a.assign)(P,{class:T})},this.style=function(T,u){!(0,a.isArray)(T)&&!u&&(u=T,T=[]);var _=(0,a.reduce)(T,function(P,m){return(0,a.assign)(P,C[m]||{})},{});return u?(0,a.assign)(_,u):_},this.computeStyle=function(T,u,_){return(0,a.isArray)(u)||(_=u,u=[]),g.style(u||[],(0,a.assign)({},_,T||{}))}}},41666:(ot,V,h)=>{h.d(V,{A:()=>u});var a=h(98218);function N(_){return _&&_[_.length-1]}function d(_){return _.y}function C(_){return _.x}var g={left:C,center:C,right:function(_){return _.x+_.width},top:d,middle:d,bottom:function(_){return _.y+_.height}};function T(_){this._modeling=_}T.$inject=["modeling"],T.prototype._getOrientationDetails=function(_){var P=["top","bottom","middle"],m="x",l="width";return P.indexOf(_)!==-1&&(m="y",l="height"),{axis:m,dimension:l}},T.prototype._isType=function(_,P){return P.indexOf(_)!==-1},T.prototype._alignmentPosition=function(_,P){var m=this._getOrientationDetails(_),l=m.axis,t=m.dimension,p={},e={},s=!1,o,y,E;function v(M,O){return Math.round((M[l]+O[l]+O[t])/2)}if(this._isType(_,["left","top"]))p[_]=P[0][l];else if(this._isType(_,["right","bottom"]))E=N(P),p[_]=E[l]+E[t];else if(this._isType(_,["center","middle"])){if((0,a.forEach)(P,function(M){var O=M[l]+Math.round(M[t]/2);e[O]?e[O].elements.push(M):e[O]={elements:[M],center:O}}),o=(0,a.sortBy)(e,function(M){return M.elements.length>1&&(s=!0),M.elements.length}),s)return p[_]=N(o).center,p;y=P[0],P=(0,a.sortBy)(P,function(M){return M[l]+M[t]}),E=N(P),p[_]=v(y,E)}return p},T.prototype.trigger=function(_,P){var m=this._modeling,l=(0,a.filter)(_,function(s){return!(s.waypoints||s.host||s.labelTarget)}),t=g[P],p=(0,a.sortBy)(l,t),e=this._alignmentPosition(P,p);m.alignElements(p,e)};const u={__init__:["alignElements"],alignElements:["type",T]}},20418:(ot,V,h)=>{h.d(V,{A:()=>m});var a=h(51270),N=h.n(a),d=h(10018),C=h(65911),g=h(98218),T=h(6705);function u(l,t,p,e){T.A.call(this,l),this._elementRegistry=t,this._modeling=p,this._rules=e;var s=this;this.postExecuted(["shape.create"],function(o){var y=o.context,E=y.hints||{},v=y.shape,M=y.parent||y.newParent;E.autoResize!==!1&&s._expand([v],M)}),this.postExecuted(["elements.move"],function(o){var y=o.context,E=(0,g.flatten)((0,g.values)(y.closure.topLevel)),v=y.hints,M=v?v.autoResize:!0;if(M!==!1){var O=(0,g.groupBy)(E,function(b){return b.parent.id});(0,g.forEach)(O,function(b,x){(0,g.isArray)(M)&&(b=b.filter(function(R){return(0,g.find)(M,(0,g.matchPattern)({id:R.id}))})),s._expand(b,x)})}}),this.postExecuted(["shape.toggleCollapse"],function(o){var y=o.context,E=y.hints,v=y.shape;E&&E.autoResize===!1||v.collapsed||s._expand(v.children||[],v)}),this.postExecuted(["shape.resize"],function(o){var y=o.context,E=y.hints,v=y.shape,M=v.parent;E&&E.autoResize===!1||M&&s._expand([v],M)})}u.$inject=["eventBus","elementRegistry","modeling","rules"],N()(u,T.A),u.prototype._getOptimalBounds=function(l,t){var p=this.getOffset(t),e=this.getPadding(t),s=(0,C.Fy)((0,d.U7)(l)),o=(0,C.Fy)(t),y={};return s.top-o.top<e.top&&(y.top=s.top-p.top),s.left-o.left<e.left&&(y.left=s.left-p.left),o.right-s.right<e.right&&(y.right=s.right+p.right),o.bottom-s.bottom<e.bottom&&(y.bottom=s.bottom+p.bottom),(0,C.cD)((0,g.assign)({},o,y))},u.prototype._expand=function(l,t){typeof t=="string"&&(t=this._elementRegistry.get(t));var p=this._rules.allowed("element.autoResize",{elements:l,target:t});if(p){var e=this._getOptimalBounds(l,t);if(_(e,t)){var s=P((0,g.pick)(t,["x","y","width","height"]),e);this.resize(t,e,{autoResize:s});var o=t.parent;o&&this._expand([t],o)}}},u.prototype.getOffset=function(l){return{top:60,bottom:60,left:100,right:100}},u.prototype.getPadding=function(l){return{top:2,bottom:2,left:15,right:15}},u.prototype.resize=function(l,t,p){this._modeling.resizeShape(l,t,null,p)};function _(l,t){return l.x!==t.x||l.y!==t.y||l.width!==t.width||l.height!==t.height}function P(l,t){var p="";return l=(0,C.Fy)(l),t=(0,C.Fy)(t),l.top>t.top&&(p=p.concat("n")),l.right<t.right&&(p=p.concat("w")),l.bottom<t.bottom&&(p=p.concat("s")),l.left>t.left&&(p=p.concat("e")),p}const m={__init__:["autoResize"],autoResize:["type",u]}},69855:(ot,V,h)=>{h.d(V,{LS:()=>s,qh:()=>o,zk:()=>v,fU:()=>O,Pj:()=>b,YU:()=>E});var a=h(86439),N=h(92159),d=h(33225),C=h(52965),g=h(38305),T=h.n(g),u=Math.round,_=Math.max;function P(R,S){var I=R.x,W=R.y;return[["M",I,W],["m",0,-S],["a",S,S,0,1,1,0,2*S],["a",S,S,0,1,1,0,-2*S],["z"]]}function m(R){var S=[];return R.forEach(function(I,W){S.push([W===0?"M":"L",I.x,I.y])}),S}var l=10;function t(R,S){var I,W;for(I=0;W=R[I];I++)if((0,N.cK)(W,S)<=l)return{point:R[I],bendpoint:!0,index:I};return null}function p(R,S){var I=T()(P(S,l),m(R)),W=I[0],Y=I[I.length-1],rt;return W?W!==Y?W.segment2!==Y.segment2?(rt=_(W.segment2,Y.segment2)-1,{point:R[rt],bendpoint:!0,index:rt}):{point:{x:u(W.x+Y.x)/2,y:u(W.y+Y.y)/2},index:W.segment2}:{point:{x:u(W.x),y:u(W.y)},index:W.segment2}:null}function e(R,S){return t(R,S)||p(R,S)}var s="djs-bendpoint",o="djs-segment-dragger";function y(R,S){var I=(0,a.gK)(S),W=R._container.getBoundingClientRect(),Y;Y={x:W.left,y:W.top};var rt=R.viewbox();return{x:rt.x+(I.x-Y.x)/rt.scale,y:rt.y+(I.y-Y.y)/rt.scale}}function E(R,S,I){var W=y(R,I),Y=e(S,W);return Y}function v(R,S){var I=(0,d.vt)("g");(0,d.Ly)(I).add(s),(0,d.BC)(R,I);var W=(0,d.vt)("circle");(0,d.CF)(W,{cx:0,cy:0,r:4}),(0,d.Ly)(W).add("djs-visual"),(0,d.BC)(I,W);var Y=(0,d.vt)("circle");return(0,d.CF)(Y,{cx:0,cy:0,r:10}),(0,d.Ly)(Y).add("djs-hit"),(0,d.BC)(I,Y),S&&(0,d.Ly)(I).add(S),I}function M(R,S,I,W){var Y=(0,d.vt)("g");(0,d.BC)(R,Y);var rt=14,tt=3,J=6,z=x(S,I,W),U=tt+J,A=(0,d.vt)("rect");(0,d.CF)(A,{x:-rt/2,y:-tt/2,width:rt,height:tt}),(0,d.Ly)(A).add("djs-visual"),(0,d.BC)(Y,A);var c=(0,d.vt)("rect");return(0,d.CF)(c,{x:-z/2,y:-U/2,width:z,height:U}),(0,d.Ly)(c).add("djs-hit"),(0,d.BC)(Y,c),(0,C.e$)(Y,W==="v"?90:0,0,0),Y}function O(R,S,I){var W=(0,d.vt)("g"),Y=(0,N.P8)(S,I),rt=(0,N.ke)(S,I);return(0,d.BC)(R,W),M(W,S,I,rt),(0,d.Ly)(W).add(o),(0,d.Ly)(W).add(rt==="h"?"horizontal":"vertical"),(0,C.Tl)(W,Y.x,Y.y),W}function b(R){return Math.abs(Math.round(R*2/3))}function x(R,S,I){var W=S.x-R.x,Y=S.y-R.y;return b(I==="h"?W:Y)}},6513:(ot,V,h)=>{h.d(V,{A:()=>l});var a=h(98218),N=h.n(a),d=h(52687),C=h.n(d),g=h(69855),T=h(25141),u=h.n(T),_=h(92159),P=h(33225),m=h(52965);function l(p,e,s,o,y){var E=this;function v(U,A,c){var i=U.index,n=U.point,r,f,D,F,G,Z;return i<=0||U.bendpoint?!1:(r=A[i-1],f=A[i],D=(0,_.P8)(r,f),F=(0,_.ke)(r,f),G=Math.abs(n.x-D.x),Z=Math.abs(n.y-D.y),F&&G<=c&&Z<=c)}function M(U,A){var c=U.waypoints,i,n,r,f;return A.index<=0||A.bendpoint||(i={start:c[A.index-1],end:c[A.index]},n=(0,_.ke)(i.start,i.end),!n)?null:(n==="h"?r=i.end.x-i.start.x:r=i.end.y-i.start.y,f=(0,g.Pj)(r)/2,f)}function O(U,A){var c=A.waypoints,i=(0,g.YU)(e,c,U),n;if(i)return n=M(A,i),v(i,c,n)?y.start(U,A,i.index):o.start(U,A,i.index,!i.bendpoint),!0}function b(U,A,c){d.event.bind(U,A,function(i){s.triggerMouseEvent(A,i,c),i.stopPropagation()})}function x(U,A){var c=e.getLayer("overlays"),i=(0,d.query)('.djs-bendpoints[data-element-id="'+u()(U.id)+'"]',c);return!i&&A&&(i=(0,P.vt)("g"),(0,P.CF)(i,{"data-element-id":U.id}),(0,P.Ly)(i).add("djs-bendpoints"),(0,P.BC)(c,i),b(i,"mousedown",U),b(i,"click",U),b(i,"dblclick",U)),i}function R(U,A){return(0,d.query)('.djs-segment-dragger[data-segment-idx="'+U+'"]',A)}function S(U,A){A.waypoints.filter(E.getConnectionBendpointsFilter).forEach(function(c,i){var n=(0,g.zk)(U);(0,P.BC)(U,n),(0,m.Tl)(n,c.x,c.y)}),(0,g.zk)(U,"floating")}function I(U,A){for(var c=A.waypoints,i,n,r,f=1;f<c.length;f++)i=c[f-1],n=c[f],(0,_.ke)(i,n)&&(r=(0,g.fU)(U,i,n),(0,P.CF)(r,{"data-segment-idx":f}),b(r,"mousemove",A))}function W(U){(0,a.forEach)((0,d.queryAll)("."+g.LS,U),function(A){(0,P.TF)(A)})}function Y(U){(0,a.forEach)((0,d.queryAll)("."+g.qh,U),function(A){(0,P.TF)(A)})}function rt(U){var A=x(U);return A||(A=x(U,!0),S(A,U),I(A,U)),A}function tt(U){var A=x(U);A&&(Y(A),W(A),I(A,U),S(A,U))}function J(U,A){var c=(0,d.query)(".floating",U),i=A.point;c&&(0,m.Tl)(c,i.x,i.y)}function z(U,A,c){var i=R(A.index,U),n=c[A.index-1],r=c[A.index],f=A.point,D=(0,_.P8)(n,r),F=(0,_.ke)(n,r),G,Z;i&&(G=t(i),Z={x:f.x-D.x,y:f.y-D.y},F==="v"&&(Z={x:Z.y,y:Z.x}),(0,m.Tl)(G,Z.x,Z.y))}p.on("connection.changed",function(U){tt(U.element)}),p.on("connection.remove",function(U){var A=x(U.element);A&&(0,P.TF)(A)}),p.on("element.marker.update",function(U){var A=U.element,c;A.waypoints&&(c=rt(A),U.add?(0,P.Ly)(c).add(U.marker):(0,P.Ly)(c).remove(U.marker))}),p.on("element.mousemove",function(U){var A=U.element,c=A.waypoints,i,n;if(c){if(i=x(A,!0),n=(0,g.YU)(e,c,U.originalEvent),!n)return;J(i,n),n.bendpoint||z(i,n,c)}}),p.on("element.mousedown",function(U){var A=U.originalEvent,c=U.element,i=c.waypoints;if(i)return O(A,c)}),p.on("selection.changed",function(U){var A=U.newSelection,c=A[0];c&&c.waypoints&&rt(c)}),p.on("element.hover",function(U){var A=U.element;A.waypoints&&(rt(A),s.registerEvent(U.gfx,"mousemove","element.mousemove"))}),p.on("element.out",function(U){s.unregisterEvent(U.gfx,"mousemove","element.mousemove")}),p.on("element.updateId",function(U){var A=U.element,c=U.newId;if(A.waypoints){var i=x(A);i&&(0,P.CF)(i,{"data-element-id":c})}}),this.addHandles=rt,this.updateHandles=tt,this.getBendpointsContainer=x,this.getSegmentDragger=R}l.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function t(p){return(0,d.query)(".djs-visual",p)}l.prototype.getConnectionBendpointsFilter=function(p,e,s){return!0}},45041:(ot,V,h)=>{h.d(V,{A:()=>p});var a=h(92159),N=h(69855),d=h(65911),C=h(33225),g=h(52965),T="connect-hover",u="djs-updating";function _(e,s,o){return P(e,s,e[s]+o)}function P(e,s,o){return{x:s==="x"?o:e.x,y:s==="y"?o:e.y}}function m(e,s,o,y){var E=Math.max(s[y],o[y]),v=Math.min(s[y],o[y]),M=20,O=Math.min(Math.max(v+M,e[y]),E-M);return P(s,y,O)}function l(e){return e==="x"?"y":"x"}function t(e,s,o){var y,E;return e.original?e.original:(y=(0,d.pp)(s),E=l(o),P(e,E,y[E]))}function p(e,s,o,y,E,v){var M=e.get("connectionDocking",!1);this.start=function(S,I,W){var Y,rt=o.getGraphics(I),tt=W-1,J=W,z=I.waypoints,U=z[tt],A=z[J],c=(0,N.YU)(o,z,S),i,n,r;i=(0,a.ke)(U,A),i&&(n=i==="v"?"x":"y",tt===0&&(U=t(U,I.source,n)),J===z.length-1&&(A=t(A,I.target,n)),c?r=c.point:r={x:(U.x+A.x)/2,y:(U.y+A.y)/2},Y={connection:I,segmentStartIndex:tt,segmentEndIndex:J,segmentStart:U,segmentEnd:A,axis:n,dragPosition:r},y.init(S,r,"connectionSegment.move",{cursor:n==="x"?"resize-ew":"resize-ns",data:{connection:I,connectionGfx:rt,context:Y}}))};function O(S,I){if(!M)return I;var W=S.waypoints,Y;return S.waypoints=I,Y=M.getCroppedWaypoints(S),S.waypoints=W,Y}function b(S){E.update("connection",S.connection,S.connectionGfx)}function x(S,I,W){var Y=S.newWaypoints,rt=S.segmentStartIndex+I,tt=Y[rt],J=S.segmentEndIndex+I,z=Y[J],U=l(S.axis),A=m(W,tt,z,U);(0,g.Tl)(S.draggerGfx,A.x,A.y)}function R(S,I){var W=0,Y=S.filter(function(rt,tt){return(0,a.XP)(S[tt-1],S[tt+1],rt)?(W=tt<=I?W-1:W,!1):!0});return{waypoints:Y,segmentOffset:W}}s.on("connectionSegment.move.start",function(S){var I=S.context,W=S.connection,Y=o.getLayer("overlays");I.originalWaypoints=W.waypoints.slice(),I.draggerGfx=(0,N.fU)(Y,I.segmentStart,I.segmentEnd),(0,C.Ly)(I.draggerGfx).add("djs-dragging"),o.addMarker(W,u)}),s.on("connectionSegment.move.move",function(S){var I=S.context,W=I.connection,Y=I.segmentStartIndex,rt=I.segmentEndIndex,tt=I.segmentStart,J=I.segmentEnd,z=I.axis,U=I.originalWaypoints.slice(),A=_(tt,z,S["d"+z]),c=_(J,z,S["d"+z]),i=U.length,n=0;U[Y]=A,U[rt]=c;var r,f;Y<2&&(r=(0,d.vc)(W.source,A),Y===1?r==="intersect"&&(U.shift(),U[0]=A,n--):r!=="intersect"&&(U.unshift(tt),n++)),rt>i-3&&(f=(0,d.vc)(W.target,c),rt===i-2?f==="intersect"&&(U.pop(),U[U.length-1]=c):f!=="intersect"&&U.push(J)),I.newWaypoints=W.waypoints=O(W,U),x(I,n,S),I.newSegmentStartIndex=Y+n,b(S)}),s.on("connectionSegment.move.hover",function(S){S.context.hover=S.hover,o.addMarker(S.hover,T)}),s.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(S){var I=S.context.hover;I&&o.removeMarker(I,T)}),s.on("connectionSegment.move.cleanup",function(S){var I=S.context,W=I.connection;I.draggerGfx&&(0,C.TF)(I.draggerGfx),o.removeMarker(W,u)}),s.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(S){var I=S.context,W=I.connection;W.waypoints=I.originalWaypoints,b(S)}),s.on("connectionSegment.move.end",function(S){var I=S.context,W=I.connection,Y=I.newWaypoints,rt=I.newSegmentStartIndex;Y=Y.map(function(c){var i={x:Math.round(c.x),y:Math.round(c.y)};return c.original&&(i.original=c.original),i});var tt=R(Y,rt),J=tt.waypoints,z=O(W,J),U=tt.segmentOffset,A={segmentMove:{segmentStartIndex:I.segmentStartIndex,newSegmentStartIndex:rt+U}};v.updateWaypoints(W,z,A)})}p.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"]},39255:(ot,V,h)=>{h.d(V,{A:()=>J});var a=h(84654),N=h(11918),d=h(6513),C=h(65911),g=Math.round,T="reconnectStart",u="reconnectEnd",_="updateWaypoints";function P(z,U,A,c,i,n){this._injector=z,this.start=function(r,f,D,F){var G=A.getGraphics(f),Z=f.source,X=f.target,q=f.waypoints,it;!F&&D===0?it=T:!F&&D===q.length-1?it=u:it=_;var K=it===_?"connection.updateWaypoints":"connection.reconnect",$=i.allowed(K,{connection:f,source:Z,target:X});$===!1&&($=i.allowed(K,{connection:f,source:X,target:Z})),$!==!1&&c.init(r,"bendpoint.move",{data:{connection:f,connectionGfx:G,context:{allowed:$,bendpointIndex:D,connection:f,source:Z,target:X,insert:F,type:it}}})},U.on("bendpoint.move.hover",function(r){var f=r.context,D=f.connection,F=D.source,G=D.target,Z=r.hover,X=f.type;f.hover=Z;var q;if(Z){var it=X===_?"connection.updateWaypoints":"connection.reconnect";if(q=f.allowed=i.allowed(it,{connection:D,source:X===T?Z:F,target:X===u?Z:G,type:X}),q){f.source=X===T?Z:F,f.target=X===u?Z:G;return}q===!1&&(q=f.allowed=i.allowed(it,{connection:D,source:X===u?Z:G,target:X===T?Z:F,type:X})),q&&(f.source=X===u?Z:G,f.target=X===T?Z:F)}}),U.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(r){var f=r.context;f.hover=null,f.source=null,f.target=null,f.allowed=!1}),U.on("bendpoint.move.end",function(r){var f=r.context,D=f.allowed,F=f.bendpointIndex,G=f.connection,Z=f.insert,X=G.waypoints.slice(),q=f.source,it=f.target,K=f.type,$={},k={x:g(r.x),y:g(r.y)};if(!D)return!1;K===_?(Z?X.splice(F,0,k):X[F]=k,$={bendpointMove:{insert:Z,bendpointIndex:F}},X=this.cropWaypoints(G,X),n.updateWaypoints(G,(0,C.Wy)(X),$)):(K===T?($.docking="source",m(f)&&($.docking="target",$.newWaypoints=X.reverse())):K===u&&($.docking="target",m(f)&&($.docking="source",$.newWaypoints=X.reverse())),n.reconnect(G,q,it,k,$))},this)}P.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],P.prototype.cropWaypoints=function(z,U){var A=this._injector.get("connectionDocking",!1);if(!A)return U;var c=z.waypoints;return z.waypoints=U,z.waypoints=A.getCroppedWaypoints(z),U=z.waypoints,z.waypoints=c,U};function m(z){var U=z.hover,A=z.source,c=z.target,i=z.type;if(i===T)return U&&c&&U===c&&A!==c;if(i===u)return U&&A&&U===A&&A!==c}var l=h(33225),t=h(69855),p=h(52965),e="reconnectStart",s="reconnectEnd",o="updateWaypoints",y="connect-ok",E="connect-not-ok",v="connect-hover",M="djs-updating",O="djs-element-hidden",b=1100;function x(z,U,A,c){this._injector=U;var i=U.get("connectionPreview",!1);A.on("bendpoint.move.start",function(n){var r=n.context,f=r.bendpointIndex,D=r.connection,F=r.insert,G=D.waypoints,Z=G.slice();r.waypoints=G,F&&Z.splice(f,0,{x:n.x,y:n.y}),D.waypoints=Z;var X=r.draggerGfx=(0,t.zk)(c.getLayer("overlays"));(0,l.Ly)(X).add("djs-dragging"),c.addMarker(D,O),c.addMarker(D,M)}),A.on("bendpoint.move.hover",function(n){var r=n.context,f=r.allowed,D=r.hover,F=r.type;if(D){if(c.addMarker(D,v),F===o)return;f?(c.removeMarker(D,E),c.addMarker(D,y)):f===!1&&(c.removeMarker(D,y),c.addMarker(D,E))}}),A.on(["bendpoint.move.out","bendpoint.move.cleanup"],b,function(n){var r=n.context,f=r.hover,D=r.target;f&&(c.removeMarker(f,v),c.removeMarker(f,D?y:E))}),A.on("bendpoint.move.move",function(n){var r=n.context,f=r.allowed,D=r.bendpointIndex,F=r.draggerGfx,G=r.hover,Z=r.type,X=r.connection,q=X.source,it=X.target,K=X.waypoints.slice(),$=K.slice().reverse(),k={x:n.x,y:n.y},L;i&&(L={source:q,target:it},Z===e?m(r)?(L.connectionEnd=k,L.source=it,L.target=G||q,K=$):(L.connectionStart=k,L.source=G||q):Z===s?m(r)?(L.connectionStart=k,L.target=q,L.source=G||it,K=$):(L.connectionEnd=k,L.target=G||it):(L.noCropping=!0,L.noLayout=!0,K[D]=k),Z===o&&(K=z.cropWaypoints(X,K)),L.waypoints=K,i.drawPreview(r,f,L)),(0,p.Tl)(F,n.x,n.y)},this),A.on(["bendpoint.move.end","bendpoint.move.cancel"],b,function(n){var r=n.context,f=r.connection,D=r.draggerGfx,F=r.hover,G=r.target,Z=r.waypoints;f.waypoints=Z,(0,l.TF)(D),c.removeMarker(f,M),c.removeMarker(f,O),F&&(c.removeMarker(F,y),c.removeMarker(F,G?y:E)),i&&i.cleanUp(r)})}x.$inject=["bendpointMove","injector","eventBus","canvas"];var R=h(45041),S=h(98218),I=h(17521),W=Math.abs,Y=Math.round,rt=10;function tt(z){function U(n,r){if((0,S.isArray)(n)){for(var f=n.length;f--;)if(W(n[f]-r)<=rt)return n[f]}else{n=+n;var D=r%n;if(D<rt)return r-D;if(D>n-rt)return r-D+n}return r}function A(n){if(n.width)return{x:Y(n.width/2+n.x),y:Y(n.height/2+n.y)}}function c(n){var r=n.snapPoints,f=n.connection,D=f.waypoints,F=n.segmentStart,G=n.segmentStartIndex,Z=n.segmentEnd,X=n.segmentEndIndex,q=n.axis;if(r)return r;var it=[D[G-1],F,Z,D[X+1]];return G<2&&it.unshift(A(f.source)),X>D.length-3&&it.unshift(A(f.target)),n.snapPoints=r={horizontal:[],vertical:[]},(0,S.forEach)(it,function(K){K&&(K=K.original||K,q==="y"&&r.horizontal.push(K.y),q==="x"&&r.vertical.push(K.x))}),r}z.on("connectionSegment.move.move",1500,function(n){var r=n.context,f=c(r),D=n.x,F=n.y,G,Z;if(f){G=U(f.vertical,D),Z=U(f.horizontal,F);var X=D-G,q=F-Z;(0,S.assign)(n,{dx:n.dx-X,dy:n.dy-q,x:G,y:Z}),(X||f.vertical.indexOf(D)!==-1)&&(0,I.CU)(n,"x",G),(q||f.horizontal.indexOf(F)!==-1)&&(0,I.CU)(n,"y",Z)}});function i(n){var r=n.snapPoints,f=n.connection.waypoints,D=n.bendpointIndex;if(r)return r;var F=[f[D-1],f[D+1]];return n.snapPoints=r={horizontal:[],vertical:[]},(0,S.forEach)(F,function(G){G&&(G=G.original||G,r.horizontal.push(G.y),r.vertical.push(G.x))}),r}z.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(n){var r=n.context,f=i(r),D=r.hover,F=D&&A(D),G=n.x,Z=n.y,X,q;if(f){X=U(F?f.vertical.concat([F.x]):f.vertical,G),q=U(F?f.horizontal.concat([F.y]):f.horizontal,Z);var it=G-X,K=Z-q;(0,S.assign)(n,{dx:n.dx-it,dy:n.dy-K,x:n.x-it,y:n.y-K}),(it||f.vertical.indexOf(G)!==-1)&&(0,I.CU)(n,"x",X),(K||f.horizontal.indexOf(Z)!==-1)&&(0,I.CU)(n,"y",q)}})}tt.$inject=["eventBus"];const J={__depends__:[a.A,N.A],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",d.A],bendpointMove:["type",P],bendpointMovePreview:["type",x],connectionSegmentMove:["type",R.A],bendpointSnapping:["type",tt]}},54100:(ot,V,h)=>{h.d(V,{A:()=>d});var a=h(10018);function N(C,g,T,u){C.on("element.changed",function(_){var P=_.element;(P.parent||P===g.getRootElement())&&(_.gfx=T.getGraphics(P)),_.gfx&&C.fire((0,a.Pw)(P)+".changed",_)}),C.on("elements.changed",function(_){var P=_.elements;P.forEach(function(m){C.fire("element.changed",{element:m})}),u.updateContainments(P)}),C.on("shape.changed",function(_){u.update("shape",_.element,_.gfx)}),C.on("connection.changed",function(_){u.update("connection",_.element,_.gfx)})}N.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const d={__init__:["changeSupport"],changeSupport:["type",N]}},95576:(ot,V,h)=>{h.d(V,{A:()=>p});var a=h(41458),N=h(11918),d=h(84654),C=h(65911),g=h(98218);function T(e,s,o,y){function E(M,O){return y.allowed("connection.create",{source:M,target:O})}function v(M,O){return E(O,M)}e.on("connect.hover",function(M){var O=M.context,b=O.start,x=M.hover,R;if(O.hover=x,R=O.canExecute=E(b,x),!(0,g.isNil)(R)){if(R!==!1){O.source=b,O.target=x;return}R=O.canExecute=v(b,x),!(0,g.isNil)(R)&&R!==!1&&(O.source=x,O.target=b)}}),e.on(["connect.out","connect.cleanup"],function(M){var O=M.context;O.hover=null,O.source=null,O.target=null,O.canExecute=!1}),e.on("connect.end",function(M){var O=M.context,b=O.canExecute,x=O.connectionStart,R={x:M.x,y:M.y},S=O.source,I=O.target;if(!b)return!1;var W=null,Y={connectionStart:u(O)?R:x,connectionEnd:u(O)?x:R};(0,g.isObject)(b)&&(W=b);var rt=o.connect(S,I,W,Y);M.context.connection=rt}),this.start=function(M,O,b,x){(0,g.isObject)(b)||(x=b,b=(0,C.pp)(O)),s.init(M,"connect",{autoActivate:x,data:{shape:O,context:{start:O,connectionStart:b}}})}}T.$inject=["eventBus","dragging","modeling","rules"];function u(e){var s=e.hover,o=e.source,y=e.target;return s&&o&&s===o&&o!==y}var _=1100,P=900,m="connect-ok",l="connect-not-ok";function t(e,s,o){var y=e.get("connectionPreview",!1);y&&s.on("connect.move",function(E){var v=E.context,M=v.canExecute,O=v.hover,b=v.source,x=v.start,R=v.startPosition,S=v.target,I=u(v)?{x:E.x,y:E.y}:R,W=u(v)?R:{x:E.x,y:E.y};y.drawPreview(v,M,{source:b||x,target:S||O,connectionStart:I,connectionEnd:W})}),s.on("connect.hover",P,function(E){var v=E.context,M=E.hover,O=v.canExecute;O!==null&&o.addMarker(M,O?m:l)}),s.on(["connect.out","connect.cleanup"],_,function(E){var v=E.hover;v&&(o.removeMarker(v,m),o.removeMarker(v,l))}),y&&s.on("connect.cleanup",function(E){y.cleanUp(E.context)})}t.$inject=["injector","eventBus","canvas"];const p={__depends__:[a.A,N.A,d.A],__init__:["connectPreview"],connect:["type",T],connectPreview:["type",t]}},28012:(ot,V,h)=>{h.d(V,{A:()=>T});var a=h(33225),N=h(98218),d=h.n(N),C=h(65911),g="djs-connection-preview";function T(P,m,l,t){this._canvas=m,this._graphicsFactory=l,this._elementFactory=t,this._connectionDocking=P.get("connectionDocking",!1),this._layouter=P.get("layouter",!1)}T.$inject=["injector","canvas","graphicsFactory","elementFactory"],T.prototype.drawPreview=function(P,m,l){l=l||{};var t=P.connectionPreviewGfx,p=P.getConnection,e=l.source,s=l.target,o=l.waypoints,y=l.connectionStart,E=l.connectionEnd,v=l.noLayout,M=l.noCropping,O=l.noNoop,b,x=this;if(t||(t=P.connectionPreviewGfx=this.createConnectionPreviewGfx()),(0,a.IU)(t),p||(p=P.getConnection=u(function(R,S,I){return x.getConnection(R,S,I)})),m&&(b=p(m,e,s)),!b){!O&&this.drawNoopPreview(t,l);return}b.waypoints=o||[],this._layouter&&!v&&(b.waypoints=this._layouter.layoutConnection(b,{source:e,target:s,connectionStart:y,connectionEnd:E,waypoints:l.waypoints||b.waypoints})),(!b.waypoints||!b.waypoints.length)&&(b.waypoints=[e?(0,C.pp)(e):y,s?(0,C.pp)(s):E]),this._connectionDocking&&(e||s)&&!M&&(b.waypoints=this._connectionDocking.getCroppedWaypoints(b,e,s)),this._graphicsFactory.drawConnection(t,b)},T.prototype.drawNoopPreview=function(P,m){var l=m.source,t=m.target,p=m.connectionStart||(0,C.pp)(l),e=m.connectionEnd||(0,C.pp)(t),s=this.cropWaypoints(p,e,l,t),o=this.createNoopConnection(s[0],s[1]);(0,a.BC)(P,o)},T.prototype.cropWaypoints=function(P,m,l,t){var p=this._graphicsFactory,e=l&&p.getShapePath(l),s=t&&p.getShapePath(t),o=p.getConnectionPath({waypoints:[P,m]});return P=l&&(0,C.ki)(e,o,!0)||P,m=t&&(0,C.ki)(s,o,!1)||m,[P,m]},T.prototype.cleanUp=function(P){P&&P.connectionPreviewGfx&&(0,a.TF)(P.connectionPreviewGfx)},T.prototype.getConnection=function(P){var m=_(P);return this._elementFactory.createConnection(m)},T.prototype.createConnectionPreviewGfx=function(){var P=(0,a.vt)("g");return(0,a.CF)(P,{pointerEvents:"none"}),(0,a.Ly)(P).add(g),(0,a.BC)(this._canvas.getDefaultLayer(),P),P},T.prototype.createNoopConnection=function(P,m){var l=(0,a.vt)("polyline");return(0,a.CF)(l,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),(0,a.CF)(l,{points:[P.x,P.y,m.x,m.y]}),l};function u(P){var m={};return function(l){var t=JSON.stringify(l),p=m[t];return p||(p=m[t]=P.apply(null,arguments)),p}}function _(P){return(0,N.isObject)(P)?P:{}}},85284:(ot,V,h)=>{h.d(V,{A:()=>N});var a=h(28012);const N={__init__:["connectionPreview"],connectionPreview:["type",a.A]}},26316:(ot,V,h)=>{h.d(V,{A:()=>E});var a=h(69380),N=h(98218),d=h(52687),C=h(10018),g=h(50941),T=new g.A("ov"),u=500;function _(v,M,O,b){this._eventBus=M,this._canvas=O,this._elementRegistry=b,this._ids=T,this._overlayDefaults=(0,N.assign)({show:null,scale:!0},v&&v.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=P(O.getContainer()),this._init()}_.$inject=["config.overlays","eventBus","canvas","elementRegistry"],_.prototype.get=function(v){if((0,N.isString)(v)&&(v={id:v}),(0,N.isString)(v.element)&&(v.element=this._elementRegistry.get(v.element)),v.element){var M=this._getOverlayContainer(v.element,!0);return M?v.type?(0,N.filter)(M.overlays,(0,N.matchPattern)({type:v.type})):M.overlays.slice():[]}else return v.type?(0,N.filter)(this._overlays,(0,N.matchPattern)({type:v.type})):v.id?this._overlays[v.id]:null},_.prototype.add=function(v,M,O){if((0,N.isObject)(M)&&(O=M,M=null),v.id||(v=this._elementRegistry.get(v)),!O.position)throw new Error("must specifiy overlay position");if(!O.html)throw new Error("must specifiy overlay html");if(!v)throw new Error("invalid element specified");var b=this._ids.next();return O=(0,N.assign)({},this._overlayDefaults,O,{id:b,type:M,element:v,html:O.html}),this._addOverlay(O),b},_.prototype.remove=function(v){var M=this.get(v)||[];(0,N.isArray)(M)||(M=[M]);var O=this;(0,N.forEach)(M,function(b){var x=O._getOverlayContainer(b.element,!0);if(b&&((0,d.remove)(b.html),(0,d.remove)(b.htmlContainer),delete b.htmlContainer,delete b.element,delete O._overlays[b.id]),x){var R=x.overlays.indexOf(b);R!==-1&&x.overlays.splice(R,1)}})},_.prototype.show=function(){l(this._overlayRoot)},_.prototype.hide=function(){l(this._overlayRoot,!1)},_.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,d.clear)(this._overlayRoot)},_.prototype._updateOverlayContainer=function(v){var M=v.element,O=v.html,b=M.x,x=M.y;if(M.waypoints){var R=(0,C.U7)(M);b=R.x,x=R.y}m(O,b,x),(0,d.attr)(v.html,"data-container-id",M.id)},_.prototype._updateOverlay=function(v){var M=v.position,O=v.htmlContainer,b=v.element,x=M.left,R=M.top;if(M.right!==void 0){var S;b.waypoints?S=(0,C.U7)(b).width:S=b.width,x=M.right*-1+S}if(M.bottom!==void 0){var I;b.waypoints?I=(0,C.U7)(b).height:I=b.height,R=M.bottom*-1+I}m(O,x||0,R||0)},_.prototype._createOverlayContainer=function(v){var M=(0,d.domify)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(M);var O={html:M,element:v,overlays:[]};return this._updateOverlayContainer(O),this._overlayContainers.push(O),O},_.prototype._updateRoot=function(v){var M=v.scale||1,O="matrix("+[M,0,0,M,-1*v.x*M,-1*v.y*M].join(",")+")";t(this._overlayRoot,O)},_.prototype._getOverlayContainer=function(v,M){var O=(0,N.find)(this._overlayContainers,function(b){return b.element===v});return!O&&!M?this._createOverlayContainer(v):O},_.prototype._addOverlay=function(v){var M=v.id,O=v.element,b=v.html,x,R;b.get&&b.constructor.prototype.jquery&&(b=b.get(0)),(0,N.isString)(b)&&(b=(0,d.domify)(b)),R=this._getOverlayContainer(O),x=(0,d.domify)('<div class="djs-overlay" data-overlay-id="'+M+'" style="position: absolute">'),x.appendChild(b),v.type&&(0,d.classes)(x).add("djs-overlay-"+v.type),v.htmlContainer=x,R.overlays.push(v),R.html.appendChild(x),this._overlays[M]=v,this._updateOverlay(v),this._updateOverlayVisibilty(v,this._canvas.viewbox())},_.prototype._updateOverlayVisibilty=function(v,M){var O=v.show,b=O&&O.minZoom,x=O&&O.maxZoom,R=v.htmlContainer,S=!0;O&&(((0,N.isDefined)(b)&&b>M.scale||(0,N.isDefined)(x)&&x<M.scale)&&(S=!1),l(R,S)),this._updateOverlayScale(v,M)},_.prototype._updateOverlayScale=function(v,M){var O=v.scale,b,x,R=v.htmlContainer,S,I="";O!==!0&&(O===!1?(b=1,x=1):(b=O.min,x=O.max),(0,N.isDefined)(b)&&M.scale<b&&(S=(1/M.scale||1)*b),(0,N.isDefined)(x)&&M.scale>x&&(S=(1/M.scale||1)*x)),(0,N.isDefined)(S)&&(I="scale("+S+","+S+")"),t(R,I)},_.prototype._updateOverlaysVisibilty=function(v){var M=this;(0,N.forEach)(this._overlays,function(O){M._updateOverlayVisibilty(O,v)})},_.prototype._init=function(){var v=this._eventBus,M=this;function O(b){M._updateRoot(b),M._updateOverlaysVisibilty(b),M.show()}v.on("canvas.viewbox.changing",function(b){M.hide()}),v.on("canvas.viewbox.changed",function(b){O(b.viewbox)}),v.on(["shape.remove","connection.remove"],function(b){var x=b.element,R=M.get({element:x});(0,N.forEach)(R,function(W){M.remove(W.id)});var S=M._getOverlayContainer(x);if(S){(0,d.remove)(S.html);var I=M._overlayContainers.indexOf(S);I!==-1&&M._overlayContainers.splice(I,1)}}),v.on("element.changed",u,function(b){var x=b.element,R=M._getOverlayContainer(x,!0);R&&((0,N.forEach)(R.overlays,function(S){M._updateOverlay(S)}),M._updateOverlayContainer(R))}),v.on("element.marker.update",function(b){var x=M._getOverlayContainer(b.element,!0);x&&(0,d.classes)(x.html)[b.add?"add":"remove"](b.marker)}),v.on("diagram.clear",this.clear,this)};function P(v){var M=(0,d.domify)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return v.insertBefore(M,v.firstChild),M}function m(v,M,O){(0,N.assign)(v.style,{left:M+"px",top:O+"px"})}function l(v,M){v.style.display=M===!1?"none":""}function t(v,M){v.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(O){v.style[O+"transform"]=M})}const p={__init__:["overlays"],overlays:["type",_]};var e=".entry",s=1e3;function o(v,M,O){this._eventBus=M,this._overlays=O;var b=(0,N.isDefined)(v&&v.scale)?v.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:b},this._current=null,this._init()}o.$inject=["config.contextPad","eventBus","overlays"],o.prototype._init=function(){var v=this._eventBus,M=this;v.on("selection.changed",function(O){var b=O.newSelection;b.length===1?M.open(b[0]):M.close()}),v.on("elements.delete",function(O){var b=O.elements;(0,N.forEach)(b,function(x){M.isOpen(x)&&M.close()})}),v.on("element.changed",function(O){var b=O.element,x=M._current;x&&x.element===b&&M.open(b,!0)})},o.prototype.registerProvider=function(v,M){M||(M=v,v=s),this._eventBus.on("contextPad.getProviders",v,function(O){O.providers.push(M)})},o.prototype.getEntries=function(v){var M=this._getProviders(),O={};return(0,N.forEach)(M,function(b){var x=b.getContextPadEntries(v);(0,N.isFunction)(x)?O=x(O):(0,N.forEach)(x,function(R,S){O[S]=R})}),O},o.prototype.trigger=function(v,M,O){var b=this._current.element,x=this._current.entries,R,S,I,W=M.delegateTarget||M.target;if(!W)return M.preventDefault();if(R=x[(0,d.attr)(W,"data-action")],S=R.action,I=M.originalEvent||M,(0,N.isFunction)(S)){if(v==="click")return S(I,b,O)}else if(S[v])return S[v](I,b,O);M.preventDefault()},o.prototype.open=function(v,M){!M&&this.isOpen(v)||(this.close(),this._updateAndOpen(v))},o.prototype._getProviders=function(v){var M=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(M),M.providers},o.prototype._updateAndOpen=function(v){var M=this.getEntries(v),O=this.getPad(v),b=O.html;(0,N.forEach)(M,function(x,R){var S=x.group||"default",I=(0,d.domify)(x.html||'<div class="entry" draggable="true"></div>'),W;(0,d.attr)(I,"data-action",R),W=(0,d.query)("[data-group="+S+"]",b),W||(W=(0,d.domify)('<div class="group" data-group="'+S+'"></div>'),b.appendChild(W)),W.appendChild(I),x.className&&y(I,x.className),x.title&&(0,d.attr)(I,"title",x.title),x.imageUrl&&I.appendChild((0,d.domify)('<img src="'+x.imageUrl+'">'))}),(0,d.classes)(b).add("open"),this._current={element:v,pad:O,entries:M},this._eventBus.fire("contextPad.open",{current:this._current})},o.prototype.getPad=function(v){if(this.isOpen())return this._current.pad;var M=this,O=this._overlays,b=(0,d.domify)('<div class="djs-context-pad"></div>'),x=(0,N.assign)({html:b},this._overlaysConfig);d.delegate.bind(b,e,"click",function(S){M.trigger("click",S)}),d.delegate.bind(b,e,"dragstart",function(S){M.trigger("dragstart",S)}),d.event.bind(b,"mousedown",function(S){S.stopPropagation()}),this._overlayId=O.add(v,"context-pad",x);var R=O.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:v,pad:R}),R},o.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},o.prototype.isOpen=function(v){return!!this._current&&(v?this._current.element===v:!0)};function y(v,M){var O=(0,d.classes)(v),b=(0,N.isArray)(M)?M:M.split(/\s+/g);b.forEach(function(x){O.add(x)})}const E={__depends__:[a.A,p],contextPad:["type",o]}},7034:(ot,V,h)=>{h.d(V,{A:()=>l});var a=h(98218),N=h.n(a),d=h(10018);function C(t,p,e,s,o,y,E,v){this._canvas=t,this._create=p,this._clipboard=e,this._elementFactory=s,this._eventBus=o,this._modeling=y,this._mouse=E,this._rules=v,o.on("copyPaste.copyElement",function(M){var O=M.descriptor,b=M.element,x=M.elements;O.priority=1,O.id=b.id;var R=(0,a.find)(x,function(S){return S===b.parent});R&&(O.parent=b.parent.id),g(b)&&(O.priority=2,O.host=b.host.id),T(b)&&(O.priority=3,O.source=b.source.id,O.target=b.target.id,O.waypoints=_(b)),u(b)&&(O.priority=4,O.labelTarget=b.labelTarget.id),(0,a.forEach)(["x","y","width","height"],function(S){(0,a.isNumber)(b[S])&&(O[S]=b[S])}),O.hidden=b.hidden,O.collapsed=b.collapsed}),o.on("copyPaste.pasteElements",function(M){var O=M.hints;(0,a.assign)(O,{createElementsBehavior:!1})})}C.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],C.prototype.copy=function(t){var p,e;return(0,a.isArray)(t)||(t=t?[t]:[]),p=this._eventBus.fire("copyPaste.canCopyElements",{elements:t}),p===!1?e={}:e=this.createTree((0,a.isArray)(p)?p:t),this._clipboard.set(e),this._eventBus.fire("copyPaste.elementsCopied",{elements:t,tree:e}),e},C.prototype.paste=function(t){var p=this._clipboard.get();if(!this._clipboard.isEmpty()){var e=t&&t.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:e});var s=this._createElements(p);if(t&&t.element&&t.point)return this._paste(s,t.element,t.point,e);this._create.start(this._mouse.getLastMoveEvent(),s,{hints:e})}},C.prototype._paste=function(t,p,e,s){(0,a.forEach)(t,function(y){(0,a.isNumber)(y.x)||(y.x=0),(0,a.isNumber)(y.y)||(y.y=0)});var o=(0,d.U7)(t);return(0,a.forEach)(t,function(y){T(y)&&(y.waypoints=(0,a.map)(y.waypoints,function(E){return{x:E.x-o.x-o.width/2,y:E.y-o.y-o.height/2}})),(0,a.assign)(y,{x:y.x-o.x-o.width/2,y:y.y-o.y-o.height/2})}),this._modeling.createElements(t,e,p,(0,a.assign)({},s))},C.prototype._createElements=function(t){var p=this,e=this._eventBus,s={},o=[];return(0,a.forEach)(t,function(y,E){E=parseInt(E,10),y=(0,a.sortBy)(y,"priority"),(0,a.forEach)(y,function(v){var M=(0,a.assign)({},(0,a.omit)(v,["priority"]));s[v.parent]?M.parent=s[v.parent]:delete M.parent,e.fire("copyPaste.pasteElement",{cache:s,descriptor:M});var O;if(T(M)){M.source=s[v.source],M.target=s[v.target],O=s[v.id]=p.createConnection(M),o.push(O);return}if(u(M)){M.labelTarget=s[M.labelTarget],O=s[v.id]=p.createLabel(M),o.push(O);return}M.host&&(M.host=s[M.host]),O=s[v.id]=p.createShape(M),o.push(O)})}),o},C.prototype.createConnection=function(t){var p=this._elementFactory.createConnection((0,a.omit)(t,["id"]));return p},C.prototype.createLabel=function(t){var p=this._elementFactory.createLabel((0,a.omit)(t,["id"]));return p},C.prototype.createShape=function(t){var p=this._elementFactory.createShape((0,a.omit)(t,["id"]));return p},C.prototype.hasRelations=function(t,p){var e,s,o;return!(T(t)&&(s=(0,a.find)(p,(0,a.matchPattern)({id:t.source.id})),o=(0,a.find)(p,(0,a.matchPattern)({id:t.target.id})),!s||!o)||u(t)&&(e=(0,a.find)(p,(0,a.matchPattern)({id:t.labelTarget.id})),!e))},C.prototype.createTree=function(t){var p=this._rules,e=this,s={},o=[],y=(0,d.wT)(t);function E(O,b){return p.allowed("element.copy",{element:O,elements:b})}function v(O,b){var x=(0,a.find)(o,function(R){return O===R.element});if(!x){o.push({element:O,depth:b});return}x.depth<b&&(o=M(x,o),o.push({element:x.element,depth:b}))}function M(O,b){var x=b.indexOf(O);return x!==-1&&b.splice(x,1),b}return(0,d.qO)(y,function(O,b,x){if(u(O))return;(0,a.forEach)(O.labels,function(S){v(S,x)});function R(S){S&&S.length&&(0,a.forEach)(S,function(I){(0,a.forEach)(I.labels,function(W){v(W,x)}),v(I,x)})}return(0,a.forEach)([O.attachers,O.incoming,O.outgoing],R),v(O,x),O.children}),t=(0,a.map)(o,function(O){return O.element}),o=(0,a.map)(o,function(O){return O.descriptor={},e._eventBus.fire("copyPaste.copyElement",{descriptor:O.descriptor,element:O.element,elements:t}),O}),o=(0,a.sortBy)(o,function(O){return O.descriptor.priority}),t=(0,a.map)(o,function(O){return O.element}),(0,a.forEach)(o,function(O){var b=O.depth;if(!e.hasRelations(O.element,t)){m(O.element,t);return}if(!E(O.element,t)){m(O.element,t);return}s[b]||(s[b]=[]),s[b].push(O.descriptor)}),s};function g(t){return!!t.host}function T(t){return!!t.waypoints}function u(t){return!!t.labelTarget}function _(t){return(0,a.map)(t.waypoints,function(p){return p=P(p),p.original&&(p.original=P(p.original)),p})}function P(t){return(0,a.assign)({},t)}function m(t,p){var e=p.indexOf(t);return e===-1?p:p.splice(e,1)}const l=C},78768:(ot,V,h)=>{h.d(V,{A:()=>P});function a(){}a.prototype.get=function(){return this._data},a.prototype.set=function(m){this._data=m},a.prototype.clear=function(){var m=this._data;return delete this._data,m},a.prototype.isEmpty=function(){return!this._data};const N={clipboard:["type",a]};var d=h(54559);function C(m){var l=this;this._lastMoveEvent=null;function t(p){l._lastMoveEvent=p}m.on("canvas.init",function(p){var e=l._svg=p.svg;e.addEventListener("mousemove",t)}),m.on("canvas.destroy",function(){l._lastMouseEvent=null,l._svg.removeEventListener("mousemove",t)})}C.$inject=["eventBus"],C.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||g(0,0)};function g(m,l){var t=document.createEvent("MouseEvent"),p=m,e=l,s=m,o=l;return t.initMouseEvent&&t.initMouseEvent("mousemove",!0,!0,window,0,p,e,s,o,!1,!1,!1,!1,0,null),t}const T={__init__:["mouse"],mouse:["type",C]};var u=h(11918),_=h(7034);const P={__depends__:[N,d.A,T,u.A],__init__:["copyPaste"],copyPaste:["type",_.A]}},54559:(ot,V,h)=>{h.d(V,{A:()=>x});var a=h(84654),N=h(71953),d=h(11918),C=h(41458),g=h(98218),T=h(10018),u="drop-ok",_="drop-not-ok",P="attach-ok",m="new-parent",l="create",t=2e3;function p(R,S,I,W,Y){function rt(z,U,A,c){if(!U)return!1;z=(0,g.filter)(z,function(D){var F=D.labelTarget;return!D.parent&&!(y(D)&&z.indexOf(F)!==-1)});var i=(0,g.find)(z,function(D){return!s(D)}),n=!1,r=!1,f=!1;return o(z)&&(n=Y.allowed("shape.attach",{position:A,shape:i,target:U})),n||(o(z)?f=Y.allowed("shape.create",{position:A,shape:i,source:c,target:U}):f=Y.allowed("elements.create",{elements:z,position:A,target:U})),f||n?(i&&c&&(r=Y.allowed("connection.create",{source:c,target:i,hints:{targetParent:U,targetAttach:n}})),{attach:n,connect:r}):f===null||n===null?null:!1}function tt(z,U){[P,u,_,m].forEach(function(A){A===U?R.addMarker(z,A):R.removeMarker(z,A)})}I.on(["create.move","create.hover"],function(z){var U=z.context,A=U.elements,c=z.hover,i=U.source;if(!c){U.canExecute=!1,U.target=null;return}e(z);var n={x:z.x,y:z.y},r=U.canExecute=c&&rt(A,c,n,i);c&&r!==null&&(U.target=c,r&&r.attach?tt(c,P):tt(c,r?m:_))}),I.on(["create.end","create.out","create.cleanup"],function(z){var U=z.hover;U&&tt(U,null)}),I.on("create.end",function(z){var U=z.context,A=U.source,c=U.shape,i=U.elements,n=U.target,r=U.hints,f=U.canExecute,D=f&&f.attach,F=f&&f.connect;if(f===!1||!n)return!1;e(z);var G={x:z.x,y:z.y};F?c=W.appendShape(A,c,G,n,{attach:D,connection:F===!0?{}:F}):(i=W.createElements(i,G,n,(0,g.assign)({},r,{attach:D})),c=(0,g.find)(i,function(Z){return!s(Z)})),(0,g.assign)(U,{elements:i,shape:c}),(0,g.assign)(z,{elements:i,shape:c})});function J(){var z=S.context();z&&z.prefix===l&&S.cancel()}I.on("create.init",function(){I.on("elements.changed",J),I.once(["create.cancel","create.end"],t,function(){I.off("elements.changed",J)})}),this.start=function(z,U,A){(0,g.isArray)(U)||(U=[U]);var c=(0,g.find)(U,function(n){return!s(n)});if(c){A=(0,g.assign)({elements:U,hints:{},shape:c},A||{}),(0,g.forEach)(U,function(n){(0,g.isNumber)(n.x)||(n.x=0),(0,g.isNumber)(n.y)||(n.y=0)});var i=(0,T.U7)(U);(0,g.forEach)(U,function(n){s(n)&&(n.waypoints=(0,g.map)(n.waypoints,function(r){return{x:r.x-i.x-Math.round(i.width/2),y:r.y-i.y-Math.round(i.height/2)}})),(0,g.assign)(n,{x:n.x-i.x-Math.round(i.width/2),y:n.y-i.y-Math.round(i.height/2)})}),S.init(z,l,{cursor:"grabbing",autoActivate:!0,data:{shape:c,elements:U,context:A}})}}}p.$inject=["canvas","dragging","eventBus","modeling","rules"];function e(R){var S=R.context,I=S.createConstraints;I&&(I.left&&(R.x=Math.max(R.x,I.left)),I.right&&(R.x=Math.min(R.x,I.right)),I.top&&(R.y=Math.max(R.y,I.top)),I.bottom&&(R.y=Math.min(R.y,I.bottom)))}function s(R){return!!R.waypoints}function o(R){return R&&R.length===1&&!s(R[0])}function y(R){return!!R.labelTarget}var E=h(52965),v=h(12266),M=h(33225),O=750;function b(R,S,I,W,Y){function rt(tt){var J=(0,M.vt)("g");(0,M.CF)(J,Y.cls("djs-drag-group",["no-events"]));var z=(0,M.vt)("g");return tt.forEach(function(U){var A;(0,M.CF)(J,{"data-element-id":U.id}),!U.hidden&&(U.waypoints?(A=I._createContainer("connection",z),I.drawConnection((0,v.P)(A),U)):(A=I._createContainer("shape",z),I.drawShape((0,v.P)(A),U),(0,E.Tl)(A,U.x,U.y)),W.addDragger(U,J,A))}),J}S.on("create.move",O,function(tt){var J=tt.hover,z=tt.context,U=z.elements,A=z.dragGroup;A||(A=z.dragGroup=rt(U));var c;J?(A.parentNode||(c=R.getDefaultLayer(),(0,M.BC)(c,A)),(0,E.Tl)(A,tt.x,tt.y)):(0,M.TF)(A)}),S.on("create.cleanup",function(tt){var J=tt.context,z=J.dragGroup;z&&(0,M.TF)(z)})}b.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const x={__depends__:[a.A,N.A,d.A,C.A],__init__:["create","createPreview"],create:["type",p],createPreview:["type",b]}},84654:(ot,V,h)=>{h.d(V,{A:()=>y});var a=h(41458),N=h(98218),d=h(52687),C=h(86439),g=h(46837),T=h(200),u=h(56764),_=Math.round,P="djs-drag-active";function m(E){E.preventDefault()}function l(E){return typeof TouchEvent<"u"&&E instanceof TouchEvent}function t(E){return Math.sqrt(Math.pow(E.x,2)+Math.pow(E.y,2))}function p(E,v,M,O){var b={threshold:5,trapClick:!0},x;function R(n){var r=v.viewbox(),f=v._container.getBoundingClientRect();return{x:r.x+(n.x-f.left)/r.scale,y:r.y+(n.y-f.top)/r.scale}}function S(n,r){r=r||x;var f=E.createEvent((0,N.assign)({},r.payload,r.data,{isTouch:r.isTouch}));return E.fire("drag."+n,f)===!1?!1:E.fire(r.prefix+"."+n,f)}function I(n){var r=n.filter(function(f){return O.get(f.id)});r.length&&M.select(r)}function W(n,r){var f=x.payload,D=x.displacement,F=x.globalStart,G=(0,C.gK)(n),Z=(0,u.p)(G,F),X=x.localStart,q=R(G),it=(0,u.p)(q,X);if(!x.active&&(r||t(Z)>x.threshold)){if((0,N.assign)(f,{x:_(X.x+D.x),y:_(X.y+D.y),dx:0,dy:0},{originalEvent:n}),S("start")===!1)return A();x.active=!0,x.keepSelection||(f.previousSelection=M.get(),M.select(null)),x.cursor&&(0,g.hZ)(x.cursor),v.addMarker(v.getRootElement(),P)}(0,C.dG)(n),x.active&&((0,N.assign)(f,{x:_(q.x+D.x),y:_(q.y+D.y),dx:_(it.x),dy:_(it.y)},{originalEvent:n}),S("move"))}function Y(n){var r,f=!0;x.active&&(n&&(x.payload.originalEvent=n,(0,C.dG)(n)),f=S("end")),f===!1&&S("rejected"),r=c(f!==!0),S("ended",r)}function rt(n){n.which===27&&(m(n),A())}function tt(n){var r;x.active&&(r=(0,T.a)(E),setTimeout(r,400),m(n)),Y(n)}function J(n){W(n)}function z(n){var r=x.payload;r.hoverGfx=n.gfx,r.hover=n.element,S("hover")}function U(n){S("out");var r=x.payload;r.hoverGfx=null,r.hover=null}function A(n){var r;if(x){var f=x.active;f&&S("cancel"),r=c(n),f&&S("canceled",r)}}function c(n){var r,f;S("cleanup"),(0,g.wC)(),x.trapClick?f=tt:f=Y,d.event.unbind(document,"mousemove",W),d.event.unbind(document,"dragstart",m),d.event.unbind(document,"selectstart",m),d.event.unbind(document,"mousedown",f,!0),d.event.unbind(document,"mouseup",f,!0),d.event.unbind(document,"keyup",rt),d.event.unbind(document,"touchstart",J,!0),d.event.unbind(document,"touchcancel",A,!0),d.event.unbind(document,"touchmove",W,!0),d.event.unbind(document,"touchend",Y,!0),E.off("element.hover",z),E.off("element.out",U),v.removeMarker(v.getRootElement(),P);var D=x.payload.previousSelection;return n!==!1&&D&&!M.get().length&&I(D),r=x,x=null,r}function i(n,r,f,D){x&&A(!1),typeof r=="string"&&(D=f,f=r,r=null),D=(0,N.assign)({},b,D||{});var F=D.data||{},G,Z,X,q,it;D.trapClick?q=tt:q=Y,n?(G=(0,C.AF)(n)||n,Z=(0,C.gK)(n),(0,C.dG)(n),G.type==="dragstart"&&m(G)):(G=null,Z={x:0,y:0}),X=R(Z),r||(r=X),it=l(G),x=(0,N.assign)({prefix:f,data:F,payload:{},globalStart:Z,displacement:(0,u.p)(r,X),localStart:X,isTouch:it},D),D.manual||(it?(d.event.bind(document,"touchstart",J,!0),d.event.bind(document,"touchcancel",A,!0),d.event.bind(document,"touchmove",W,!0),d.event.bind(document,"touchend",Y,!0)):(d.event.bind(document,"mousemove",W),d.event.bind(document,"dragstart",m),d.event.bind(document,"selectstart",m),d.event.bind(document,"mousedown",q,!0),d.event.bind(document,"mouseup",q,!0)),d.event.bind(document,"keyup",rt),E.on("element.hover",z),E.on("element.out",U)),S("init"),D.autoActivate&&W(n,!0)}E.on("diagram.destroy",A),this.init=i,this.move=W,this.hover=z,this.out=U,this.end=Y,this.cancel=A,this.context=function(){return x},this.setOptions=function(n){(0,N.assign)(b,n)}}p.$inject=["eventBus","canvas","selection","elementRegistry"];var e=1500;function s(E,v,M){var O=this;function b(x){if(!x.hover){var R=x.originalEvent,S=O._findTargetGfx(R),I=S&&M.get(S);S&&I&&(x.stopPropagation(),v.hover({element:I,gfx:S}),v.move(R))}}E.on("drag.start",function(x){E.once("drag.move",e,function(R){b(R)})}),E.on("drag.init",function(){var x,R;function S(Y){x=Y.hover,R=Y.hoverGfx}function I(){x=null,R=null}function W(){if(x){var Y=x,rt=R;x=null,R=null,v.out({element:Y,gfx:rt})}}E.on("drag.hover",S),E.on("element.out",I),E.on("element.hover",e,W),E.once("drag.cleanup",function(){E.off("drag.hover",S),E.off("element.out",I),E.off("element.hover",W)})}),this._findTargetGfx=function(x){var R,S;if(x instanceof MouseEvent)return R=(0,C.gK)(x),S=document.elementFromPoint(R.x,R.y),o(S)}}s.$inject=["eventBus","dragging","elementRegistry"];function o(E){return(0,d.closest)(E,"svg, .djs-element",!0)}const y={__init__:["hoverFix"],__depends__:[a.A],dragging:["type",p],hoverFix:["type",s]}},20990:(ot,V,h)=>{h.d(V,{A:()=>g});var a=h(98218),N=h.n(a),d="is not a registered action",C="is already registered";function g(u,_){this._actions={};var P=this;u.on("diagram.init",function(){P._registerDefaultActions(_),u.fire("editorActions.init",{editorActions:P})})}g.$inject=["eventBus","injector"],g.prototype._registerDefaultActions=function(u){var _=u.get("commandStack",!1),P=u.get("modeling",!1),m=u.get("selection",!1),l=u.get("zoomScroll",!1),t=u.get("copyPaste",!1),p=u.get("canvas",!1),e=u.get("rules",!1),s=u.get("keyboardMove",!1),o=u.get("keyboardMoveSelection",!1);_&&(this.register("undo",function(){_.undo()}),this.register("redo",function(){_.redo()})),t&&m&&this.register("copy",function(){var y=m.get();t.copy(y)}),t&&this.register("paste",function(){t.paste()}),l&&this.register("stepZoom",function(y){l.stepZoom(y.value)}),p&&this.register("zoom",function(y){p.zoom(y.value)}),P&&m&&e&&this.register("removeSelection",function(){var y=m.get();if(y.length){var E=e.allowed("elements.delete",{elements:y}),v;E!==!1&&((0,a.isArray)(E)?v=E:v=y,v.length&&P.removeElements(v.slice()))}}),s&&this.register("moveCanvas",function(y){s.moveCanvas(y)}),o&&this.register("moveSelection",function(y){o.moveSelection(y.direction,y.accelerated)})},g.prototype.trigger=function(u,_){if(!this._actions[u])throw T(u,d);return this._actions[u](_)},g.prototype.register=function(u,_){var P=this;if(typeof u=="string")return this._registerAction(u,_);(0,a.forEach)(u,function(m,l){P._registerAction(l,m)})},g.prototype._registerAction=function(u,_){if(this.isRegistered(u))throw T(u,C);this._actions[u]=_},g.prototype.unregister=function(u){if(!this.isRegistered(u))throw T(u,d);this._actions[u]=void 0},g.prototype.getActions=function(){return Object.keys(this._actions)},g.prototype.isRegistered=function(u){return!!this._actions[u]};function T(u,_){return new Error(u+" "+_)}},46902:(ot,V,h)=>{h.d(V,{A:()=>g});var a=h(60053),N=h(34495),d=1500,C="grab";function g(u,_,P,m,l){this._dragging=P;var t=this,p=m.get("keyboard",!1);l.registerTool("hand",{tool:"hand",dragging:"hand.move"}),u.on("element.mousedown",d,function(e){if((0,a.Io)(e))return this.activateMove(e.originalEvent),!1},this),p&&p.addListener(d,function(e){if(!T(e.keyEvent)||t.isActive())return;function s(y){t.activateMove(y),window.removeEventListener("mousemove",s)}window.addEventListener("mousemove",s);function o(y){T(y.keyEvent)&&(window.removeEventListener("mousemove",s),p.removeListener(o,"keyboard.keyup"),P.cancel())}p.addListener(d,o,"keyboard.keyup")},"keyboard.keydown"),u.on("hand.end",function(e){var s=e.originalEvent.target;if(!e.hover&&!(s instanceof SVGElement))return!1;u.once("hand.ended",function(){this.activateMove(e.originalEvent,{reactivate:!0})},this)},this),u.on("hand.move.move",function(e){var s=_.viewbox().scale;_.scroll({dx:e.dx*s,dy:e.dy*s})}),u.on("hand.move.end",function(e){var s=e.context,o=s.reactivate;return!(0,a.Io)(e)&&o&&u.once("hand.move.ended",function(y){this.activateHand(y.originalEvent,!0,!0)},this),!1},this)}g.$inject=["eventBus","canvas","dragging","injector","toolManager"],g.prototype.activateMove=function(u,_,P){typeof _=="object"&&(P=_,_=!1),this._dragging.init(u,"hand.move",{autoActivate:_,cursor:C,data:{context:P||{}}})},g.prototype.activateHand=function(u,_,P){this._dragging.init(u,"hand",{trapClick:!1,autoActivate:_,cursor:C,data:{context:{reactivate:P}}})},g.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},g.prototype.isActive=function(){var u=this._dragging.context();return u?/^(hand|hand\.move)$/.test(u.prefix):!1};function T(u){return(0,N.m0)(" ",u)}},69380:(ot,V,h)=>{h.d(V,{A:()=>P});var a=h(98218),N=h(52687),d=h(60053),C=h(33225),g=h(12619);function T(m){return!0}var u=500;function _(m,l,t){var p=this;function e(U,A,c){if(!y(U,A)){var i,n,r;c?n=l.getGraphics(c):(i=A.delegateTarget||A.target,i&&(n=i,c=l.get(n))),!(!n||!c)&&(r=m.fire(U,{element:c,gfx:n,originalEvent:A}),r===!1&&(A.stopPropagation(),A.preventDefault()))}}var s={};function o(U){return s[U]}function y(U,A){var c=v[U]||d.ls;return!c(A)}var E={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},v={"element.contextmenu":T};function M(U,A,c){var i=E[U];if(!i)throw new Error("unmapped DOM event name <"+U+">");return e(i,A,c)}var O="svg, .djs-element";function b(U,A,c,i){var n=s[c]=function(r){e(c,r)};i&&(v[c]=i),n.$delegate=N.delegate.bind(U,O,A,n)}function x(U,A,c){var i=o(c);i&&N.delegate.unbind(U,A,i.$delegate)}function R(U){(0,a.forEach)(E,function(A,c){b(U,c,A)})}function S(U){(0,a.forEach)(E,function(A,c){x(U,c,A)})}m.on("canvas.destroy",function(U){S(U.svg)}),m.on("canvas.init",function(U){R(U.svg)}),m.on(["shape.added","connection.added"],function(U){var A=U.element,c=U.gfx;m.fire("interactionEvents.createHit",{element:A,gfx:c})}),m.on(["shape.changed","connection.changed"],u,function(U){var A=U.element,c=U.gfx;m.fire("interactionEvents.updateHit",{element:A,gfx:c})}),m.on("interactionEvents.createHit",u,function(U){var A=U.element,c=U.gfx;p.createDefaultHit(A,c)}),m.on("interactionEvents.updateHit",function(U){var A=U.element,c=U.gfx;p.updateDefaultHit(A,c)});var I=tt("djs-hit djs-hit-stroke"),W=tt("djs-hit djs-hit-click-stroke"),Y=tt("djs-hit djs-hit-all"),rt={all:Y,"click-stroke":W,stroke:I};function tt(U,A){return A=(0,a.assign)({stroke:"white",strokeWidth:15},A||{}),t.cls(U,["no-fill","no-border"],A)}function J(U,A){var c=rt[A];if(!c)throw new Error("invalid hit type <"+A+">");return(0,C.CF)(U,c),U}function z(U,A){(0,C.BC)(U,A)}this.removeHits=function(U){var A=(0,N.queryAll)(".djs-hit",U);(0,a.forEach)(A,C.TF)},this.createDefaultHit=function(U,A){var c=U.waypoints,i=U.isFrame,n;return c?this.createWaypointsHit(A,c):(n=i?"stroke":"all",this.createBoxHit(A,n,{width:U.width,height:U.height}))},this.createWaypointsHit=function(U,A){var c=(0,g.RJ)(A);return J(c,"stroke"),z(U,c),c},this.createBoxHit=function(U,A,c){c=(0,a.assign)({x:0,y:0},c);var i=(0,C.vt)("rect");return J(i,A),(0,C.CF)(i,c),z(U,i),i},this.updateDefaultHit=function(U,A){var c=(0,N.query)(".djs-hit",A);if(c)return U.waypoints?(0,g.si)(c,U.waypoints):(0,C.CF)(c,{width:U.width,height:U.height}),c},this.fire=e,this.triggerMouseEvent=M,this.mouseHandler=o,this.registerEvent=b,this.unregisterEvent=x}_.$inject=["eventBus","elementRegistry","styles"];const P={__init__:["interactionEvents"],interactionEvents:["type",_]}},77117:(ot,V,h)=>{h.d(V,{A:()=>d});var a=h(34495),N=500;function d(C,g){var T=this;C.on("editorActions.init",N,function(u){var _=u.editorActions;T.registerBindings(g,_)})}d.$inject=["eventBus","keyboard"],d.prototype.registerBindings=function(C,g){function T(u,_){g.isRegistered(u)&&C.addListener(_)}T("undo",function(u){var _=u.keyEvent;if((0,a.nM)(_)&&!(0,a.Tu)(_)&&(0,a.m0)(["z","Z"],_))return g.trigger("undo"),!0}),T("redo",function(u){var _=u.keyEvent;if((0,a.nM)(_)&&((0,a.m0)(["y","Y"],_)||(0,a.m0)(["z","Z"],_)&&(0,a.Tu)(_)))return g.trigger("redo"),!0}),T("copy",function(u){var _=u.keyEvent;if((0,a.nM)(_)&&(0,a.m0)(["c","C"],_))return g.trigger("copy"),!0}),T("paste",function(u){var _=u.keyEvent;if((0,a.nM)(_)&&(0,a.m0)(["v","V"],_))return g.trigger("paste"),!0}),T("stepZoom",function(u){var _=u.keyEvent;if((0,a.m0)(["+","Add"],_)&&(0,a.nM)(_))return g.trigger("stepZoom",{value:1}),!0}),T("stepZoom",function(u){var _=u.keyEvent;if((0,a.m0)(["-","Subtract"],_)&&(0,a.nM)(_))return g.trigger("stepZoom",{value:-1}),!0}),T("zoom",function(u){var _=u.keyEvent;if((0,a.m0)("0",_)&&(0,a.nM)(_))return g.trigger("zoom",{value:1}),!0}),T("removeSelection",function(u){var _=u.keyEvent;if((0,a.m0)(["Delete","Del"],_))return g.trigger("removeSelection"),!0})}},34495:(ot,V,h)=>{h.d(V,{Tu:()=>T,m0:()=>g,mp:()=>d,nM:()=>C});var a=h(98218),N=h.n(a);function d(u){return u.ctrlKey||u.metaKey||u.shiftKey||u.altKey}function C(u){return u.altKey?!1:u.ctrlKey||u.metaKey}function g(u,_){return u=(0,a.isArray)(u)?u:[u],u.indexOf(_.key)>-1}function T(u){return u.shiftKey}},50317:(ot,V,h)=>{h.d(V,{A:()=>m});var a=h(98218),N=h(52687),d=h(34495),C="keyboard.keydown",g="keyboard.keyup",T=1e3;function u(l,t){var p=this;this._config=l||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){p._fire("destroy"),p.unbind()}),t.on("diagram.init",function(){p._fire("init")}),t.on("attach",function(){l&&l.bindTo&&p.bind(l.bindTo)}),t.on("detach",function(){p.unbind()})}u.$inject=["config.keyboard","eventBus"],u.prototype._keydownHandler=function(l){this._keyHandler(l,C)},u.prototype._keyupHandler=function(l){this._keyHandler(l,g)},u.prototype._keyHandler=function(l,t){var p=l.target,e;if(!_(p)){var s={keyEvent:l};e=this._eventBus.fire(t||C,s),!(l.ctrlKey&&!l.altKey&&!l.shiftKey&&l.keyCode===67)&&e&&l.preventDefault()}},u.prototype.bind=function(l){this.unbind(),this._node=l,N.event.bind(l,"keydown",this._keydownHandler,!0),N.event.bind(l,"keyup",this._keyupHandler,!0),this._fire("bind")},u.prototype.getBinding=function(){return this._node},u.prototype.unbind=function(){var l=this._node;l&&(this._fire("unbind"),N.event.unbind(l,"keydown",this._keydownHandler,!0),N.event.unbind(l,"keyup",this._keyupHandler,!0)),this._node=null},u.prototype._fire=function(l){this._eventBus.fire("keyboard."+l,{node:this._node})},u.prototype.addListener=function(l,t,p){(0,a.isFunction)(l)&&(p=t,t=l,l=T),this._eventBus.on(p||C,l,t)},u.prototype.removeListener=function(l,t){this._eventBus.off(t||C,l)},u.prototype.hasModifier=d.mp,u.prototype.isCmd=d.nM,u.prototype.isShift=d.Tu,u.prototype.isKey=d.m0;function _(l){return l&&((0,N.matches)(l,"input, textarea")||l.contentEditable==="true")}var P=h(77117);const m={__init__:["keyboard","keyboardBindings"],keyboard:["type",u],keyboardBindings:["type",P.A]}},22170:(ot,V,h)=>{h.d(V,{A:()=>m});var a=h(98218),N=h.n(a),d=h(51270),C=h.n(d),g=h(6958),T=h(91799),u=h(6705),_=250,P=1400;function m(t,p,e){u.A.call(this,p);var s=t.get("movePreview",!1);p.on("shape.move.start",P,function(o){var y=o.context,E=y.shapes,v=y.validatedShapes;y.shapes=l(E),y.validatedShapes=l(v)}),s&&p.on("shape.move.start",_,function(o){var y=o.context,E=y.shapes,v=[];(0,a.forEach)(E,function(M){(0,a.forEach)(M.labels,function(O){!O.hidden&&y.shapes.indexOf(O)===-1&&v.push(O),M.labelTarget&&v.push(M)})}),(0,a.forEach)(v,function(M){s.makeDraggable(y,M,!0)})}),this.preExecuted("elements.move",P,function(o){var y=o.context,E=y.closure,v=E.enclosedElements,M=[];(0,a.forEach)(v,function(O){(0,a.forEach)(O.labels,function(b){v[b.id]||M.push(b)})}),E.addAll(M)}),this.preExecute(["connection.delete","shape.delete"],function(o){var y=o.context,E=y.connection||y.shape;(0,T.l)(E.labels,function(v){e.removeShape(v,{nested:!0})})}),this.execute("shape.delete",function(o){var y=o.context,E=y.shape,v=E.labelTarget;v&&(y.labelTargetIndex=(0,g.qh)(v.labels,E),y.labelTarget=v,E.labelTarget=null)}),this.revert("shape.delete",function(o){var y=o.context,E=y.shape,v=y.labelTarget,M=y.labelTargetIndex;v&&((0,g.WQ)(v.labels,E,M),E.labelTarget=v)})}C()(m,u.A),m.$inject=["injector","eventBus","modeling"];function l(t){return(0,a.filter)(t,function(p){return t.indexOf(p.labelTarget)===-1})}},40406:(ot,V,h)=>{h.d(V,{A:()=>u});var a=h(98218),N=h.n(a),d=h(10018),C=h(60053),g=h(33225),T="crosshair";function u(P,m,l,t,p,e){this._selection=p,this._dragging=l;var s=this,o={create:function(y){var E=m.getDefaultLayer(),v;v=y.frame=(0,g.vt)("rect"),(0,g.CF)(v,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),(0,g.BC)(E,v)},update:function(y){var E=y.frame,v=y.bbox;(0,g.CF)(E,{x:v.x,y:v.y,width:v.width,height:v.height})},remove:function(y){y.frame&&(0,g.TF)(y.frame)}};e.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),P.on("lasso.selection.end",function(y){var E=y.originalEvent.target;!y.hover&&!(E instanceof SVGElement)||P.once("lasso.selection.ended",function(){s.activateLasso(y.originalEvent,!0)})}),P.on("lasso.end",function(y){var E=_(y),v=t.filter(function(M){return M});s.select(v,E)}),P.on("lasso.start",function(y){var E=y.context;E.bbox=_(y),o.create(E)}),P.on("lasso.move",function(y){var E=y.context;E.bbox=_(y),o.update(E)}),P.on("lasso.cleanup",function(y){var E=y.context;o.remove(E)}),P.on("element.mousedown",1500,function(y){if((0,C.KH)(y))return s.activateLasso(y.originalEvent),!0})}u.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],u.prototype.activateLasso=function(P,m){this._dragging.init(P,"lasso",{autoActivate:m,cursor:T,data:{context:{}}})},u.prototype.activateSelection=function(P){this._dragging.init(P,"lasso.selection",{trapClick:!1,cursor:T,data:{context:{}}})},u.prototype.select=function(P,m){var l=(0,d.rx)(P,m);this._selection.select((0,a.values)(l))},u.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},u.prototype.isActive=function(){var P=this._dragging.context();return P&&/^lasso/.test(P.prefix)};function _(P){var m={x:P.x-P.dx,y:P.y-P.dy},l={x:P.x,y:P.y},t;return m.x<=l.x&&m.y<l.y||m.x<l.x&&m.y<=l.y?t={x:m.x,y:m.y,width:l.x-m.x,height:l.y-m.y}:m.x>=l.x&&m.y<l.y||m.x>l.x&&m.y<=l.y?t={x:l.x,y:m.y,width:m.x-l.x,height:l.y-m.y}:m.x<=l.x&&m.y>l.y||m.x<l.x&&m.y>=l.y?t={x:m.x,y:l.y,width:l.x-m.x,height:m.y-l.y}:m.x>=l.x&&m.y>l.y||m.x>l.x&&m.y>=l.y?t={x:l.x,y:l.y,width:m.x-l.x,height:m.y-l.y}:t={x:l.x,y:l.y,width:0,height:0},t}},50101:(ot,V,h)=>{h.d(V,{A:()=>_});var a=h(84654),N=h(98218),d=h(52687),C=250;function g(P,m){this._eventBus=P,this._dragging=m,this._tools=[],this._active=null}g.$inject=["eventBus","dragging"],g.prototype.registerTool=function(P,m){var l=this._tools;if(!m)throw new Error(`A tool has to be registered with it's "events"`);l.push(P),this.bindEvents(P,m)},g.prototype.isActive=function(P){return P&&this._active===P},g.prototype.length=function(P){return this._tools.length},g.prototype.setActive=function(P){var m=this._eventBus;this._active!==P&&(this._active=P,m.fire("tool-manager.update",{tool:P}))},g.prototype.bindEvents=function(P,m){var l=this._eventBus,t=this._dragging,p=[];l.on(m.tool+".init",function(e){var s=e.context;if(!s.reactivate&&this.isActive(P)){this.setActive(null),t.cancel();return}this.setActive(P)},this),(0,N.forEach)(m,function(e){p.push(e+".ended"),p.push(e+".canceled")}),l.on(p,C,function(e){var s=e.originalEvent;this._active&&(s&&(0,d.closest)(s.target,'.group[data-group="tools"]')||this.setActive(null))},this)};const T={__depends__:[a.A],__init__:["toolManager"],toolManager:["type",g]};var u=h(40406);const _={__depends__:[T],__init__:["lassoTool"],lassoTool:["type",u.A]}},76584:(ot,V,h)=>{h.d(V,{A:()=>A});var a=h(98218),N=h(49096);function d(c,i){this._modeling=c,this._canvas=i}d.$inject=["modeling","canvas"],d.prototype.preExecute=function(c){var i=this._modeling,n=c.elements,r=c.alignment;(0,a.forEach)(n,function(f){var D={x:0,y:0};r.left?D.x=r.left-f.x:r.right?D.x=r.right-f.width-f.x:r.center?D.x=r.center-Math.round(f.width/2)-f.x:r.top?D.y=r.top-f.y:r.bottom?D.y=r.bottom-f.height-f.y:r.middle&&(D.y=r.middle-Math.round(f.height/2)-f.y),i.moveElements([f],D,f.parent)})},d.prototype.postExecute=function(c){};function C(c){this._modeling=c}C.$inject=["modeling"],C.prototype.preExecute=function(c){var i=c.source;if(!i)throw new Error("source required");var n=c.target||i.parent,r=c.shape;r=c.shape=this._modeling.createShape(r,c.position,n,{attach:c.attach}),c.shape=r},C.prototype.postExecute=function(c){var i=c.connectionParent||c.shape.parent;g(c.source,c.shape)||this._modeling.connect(c.source,c.shape,c.connection,i)};function g(c,i){return(0,a.some)(c.outgoing,function(n){return n.target===i})}function T(c,i){this._canvas=c,this._layouter=i}T.$inject=["canvas","layouter"],T.prototype.execute=function(c){var i=c.connection,n=c.source,r=c.target,f=c.parent,D=c.parentIndex,F=c.hints;if(!n||!r)throw new Error("source and target required");if(!f)throw new Error("parent required");return i.source=n,i.target=r,i.waypoints||(i.waypoints=this._layouter.layoutConnection(i,F)),this._canvas.addConnection(i,f,D),i},T.prototype.revert=function(c){var i=c.connection;return this._canvas.removeConnection(i),i.source=null,i.target=null,i};var u=h(90006),_=h(34635),P=h(2050),m=h(6958);function l(c,i){this._canvas=c,this._modeling=i}l.$inject=["canvas","modeling"],l.prototype.execute=function(c){var i=c.connection,n=i.parent;return c.parent=n,c.parentIndex=(0,m.qh)(n.children,i),c.source=i.source,c.target=i.target,this._canvas.removeConnection(i),i.source=null,i.target=null,i},l.prototype.revert=function(c){var i=c.connection,n=c.parent,r=c.parentIndex;return i.source=c.source,i.target=c.target,(0,m.WQ)(n.children,i,r),this._canvas.addConnection(i,n),i};function t(c,i){this._modeling=c,this._elementRegistry=i}t.$inject=["modeling","elementRegistry"],t.prototype.postExecute=function(c){var i=this._modeling,n=this._elementRegistry,r=c.elements;(0,a.forEach)(r,function(f){n.get(f.id)&&(f.waypoints?i.removeConnection(f):i.removeShape(f))})};var p=h(81493);function e(c){this._modeling=c}e.$inject=["modeling"];var s={x:"y",y:"x"};e.prototype.preExecute=function(c){var i=this._modeling,n=c.groups,r=c.axis,f=c.dimension;function D(H,Q){H.range.min=Math.min(Q[r],H.range.min),H.range.max=Math.max(Q[r]+Q[f],H.range.max)}function F(H){return H[r]+H[f]/2}function G(H){return H.length-1}function Z(H){return H.max-H.min}function X(H,Q){var nt={y:0};nt[r]=H-F(Q),nt[r]&&(nt[s[r]]=0,i.moveElements([Q],nt,Q.parent))}var q=n[0],it=G(n),K=n[it],$,k,L=0;(0,a.forEach)(n,function(H,Q){var nt,st,lt;if(H.elements.length<2){Q&&Q!==n.length-1&&(D(H,H.elements[0]),L+=Z(H.range));return}nt=(0,a.sortBy)(H.elements,r),st=nt[0],Q===it&&(st=nt[G(nt)]),lt=F(st),H.range=null,(0,a.forEach)(nt,function(ft){if(X(lt,ft),H.range===null){H.range={min:ft[r],max:ft[r]+ft[f]};return}D(H,ft)}),Q&&Q!==n.length-1&&(L+=Z(H.range))}),k=Math.abs(K.range.min-q.range.max),$=Math.round((k-L)/(n.length-1)),!($<n.length-1)&&(0,a.forEach)(n,function(H,Q){var nt={},st;H===q||H===K||(st=n[Q-1],H.range.max=0,(0,a.forEach)(H.elements,function(lt,ft){nt[s[r]]=0,nt[r]=st.range.max-lt[r]+$,H.range.min!==lt[r]&&(nt[r]+=lt[r]-H.range.min),nt[r]&&i.moveElements([lt],nt,lt.parent),H.range.max=Math.max(lt[r]+lt[f],ft?H.range.max:0)}))})},e.prototype.postExecute=function(c){};function o(c,i){this._layouter=c,this._canvas=i}o.$inject=["layouter","canvas"],o.prototype.execute=function(c){var i=c.connection,n=i.waypoints;return(0,a.assign)(c,{oldWaypoints:n}),i.waypoints=this._layouter.layoutConnection(i,c.hints),i},o.prototype.revert=function(c){var i=c.connection;return i.waypoints=c.oldWaypoints,i};function y(){}y.prototype.execute=function(c){var i=c.connection,n=c.delta,r=c.newParent||i.parent,f=c.newParentIndex,D=i.parent;return c.oldParent=D,c.oldParentIndex=(0,m.TF)(D.children,i),(0,m.WQ)(r.children,i,f),i.parent=r,(0,a.forEach)(i.waypoints,function(F){F.x+=n.x,F.y+=n.y,F.original&&(F.original.x+=n.x,F.original.y+=n.y)}),i},y.prototype.revert=function(c){var i=c.connection,n=i.parent,r=c.oldParent,f=c.oldParentIndex,D=c.delta;return(0,m.TF)(n.children,i),(0,m.WQ)(r.children,i,f),i.parent=r,(0,a.forEach)(i.waypoints,function(F){F.x-=D.x,F.y-=D.y,F.original&&(F.original.x-=D.x,F.original.y-=D.y)}),i};var E=h(12301),v=h(35797),M=h(39226);function O(c){this._modeling=c,this._helper=new v.A(c)}O.$inject=["modeling"],O.prototype.execute=function(c){var i=c.shape,n=c.delta,r=c.newParent||i.parent,f=c.newParentIndex,D=i.parent;return c.oldBounds=(0,a.pick)(i,["x","y","width","height"]),c.oldParent=D,c.oldParentIndex=(0,m.TF)(D.children,i),(0,m.WQ)(r.children,i,f),(0,a.assign)(i,{parent:r,x:i.x+n.x,y:i.y+n.y}),i},O.prototype.postExecute=function(c){var i=c.shape,n=c.delta,r=c.hints,f=this._modeling;r.layout!==!1&&((0,a.forEach)(i.incoming,function(D){f.layoutConnection(D,{connectionEnd:(0,M.OF)(D,i,n)})}),(0,a.forEach)(i.outgoing,function(D){f.layoutConnection(D,{connectionStart:(0,M.IY)(D,i,n)})})),r.recurse!==!1&&this.moveChildren(c)},O.prototype.revert=function(c){var i=c.shape,n=c.oldParent,r=c.oldParentIndex,f=c.delta;return(0,m.WQ)(n.children,i,r),(0,a.assign)(i,{parent:n,x:i.x-f.x,y:i.y-f.y}),i},O.prototype.moveChildren=function(c){var i=c.delta,n=c.shape;this._helper.moveRecursive(n.children,i,null)},O.prototype.getNewParent=function(c){return c.newParent||c.shape.parent};var b=h(97970);function x(c,i){this._modeling=c,this._rules=i}x.$inject=["modeling","rules"],x.prototype.preExecute=function(c){var i=this,n=this._modeling,r=this._rules,f=c.oldShape,D=c.newData,F=c.hints||{},G;function Z(k,L,H){return r.allowed("connection.reconnect",{connection:H,source:k,target:L})}var X={x:D.x,y:D.y},q={x:f.x,y:f.y,width:f.width,height:f.height};G=c.newShape=c.newShape||i.createShape(D,X,f.parent,F),f.host&&n.updateAttachment(G,f.host);var it;F.moveChildren!==!1&&(it=f.children.slice(),n.moveElements(it,{x:0,y:0},G,F));var K=f.incoming.slice(),$=f.outgoing.slice();(0,a.forEach)(K,function(k){var L=k.source,H=Z(L,G,k);H&&i.reconnectEnd(k,G,(0,M.tQ)(k,G,q),F)}),(0,a.forEach)($,function(k){var L=k.target,H=Z(G,L,k);H&&i.reconnectStart(k,G,(0,M.Fe)(k,G,q),F)})},x.prototype.postExecute=function(c){var i=c.oldShape;this._modeling.removeShape(i)},x.prototype.execute=function(c){},x.prototype.revert=function(c){},x.prototype.createShape=function(c,i,n,r){return this._modeling.createShape(c,i,n,r)},x.prototype.reconnectStart=function(c,i,n,r){this._modeling.reconnectStart(c,i,n,r)},x.prototype.reconnectEnd=function(c,i,n,r){this._modeling.reconnectEnd(c,i,n,r)};function R(c){this._modeling=c}R.$inject=["modeling"],R.prototype.execute=function(c){var i=c.shape,n=c.newBounds,r=c.minBounds;if(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(r&&(n.width<r.width||n.height<r.height))throw new Error("width and height cannot be less than minimum height and width");if(!r&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return c.oldBounds={width:i.width,height:i.height,x:i.x,y:i.y},(0,a.assign)(i,{width:n.width,height:n.height,x:n.x,y:n.y}),i},R.prototype.postExecute=function(c){var i=this._modeling,n=c.shape,r=c.oldBounds,f=c.hints||{};f.layout!==!1&&((0,a.forEach)(n.incoming,function(D){i.layoutConnection(D,{connectionEnd:(0,M.tQ)(D,n,r)})}),(0,a.forEach)(n.outgoing,function(D){i.layoutConnection(D,{connectionStart:(0,M.Fe)(D,n,r)})}))},R.prototype.revert=function(c){var i=c.shape,n=c.oldBounds;return(0,a.assign)(i,{width:n.width,height:n.height,x:n.x,y:n.y}),i};var S=h(57261);function I(c){this._modeling=c}I.$inject=["modeling"],I.prototype.execute=function(c){var i=c.shape,n=i.children;c.oldChildrenVisibility=W(n),i.collapsed=!i.collapsed;var r=Y(n,i.collapsed);return[i].concat(r)},I.prototype.revert=function(c){var i=c.shape,n=c.oldChildrenVisibility,r=i.children,f=rt(r,n);return i.collapsed=!i.collapsed,[i].concat(f)};function W(c){var i={};return(0,a.forEach)(c,function(n){i[n.id]=n.hidden,n.children&&(i=(0,a.assign)({},i,W(n.children)))}),i}function Y(c,i){var n=[];return(0,a.forEach)(c,function(r){r.hidden=i,n=n.concat(r),r.children&&(n=n.concat(Y(r.children,r.collapsed||i)))}),n}function rt(c,i){var n=[];return(0,a.forEach)(c,function(r){r.hidden=i[r.id],n=n.concat(r),r.children&&(n=n.concat(rt(r.children,i)))}),n}function tt(c){this._modeling=c}tt.$inject=["modeling"],tt.prototype.execute=function(c){var i=c.shape,n=c.newHost,r=i.host;return c.oldHost=r,c.attacherIdx=J(r,i),z(n,i),i.host=n,i},tt.prototype.revert=function(c){var i=c.shape,n=c.newHost,r=c.oldHost,f=c.attacherIdx;return i.host=r,J(n,i),z(r,i,f),i};function J(c,i){return(0,m.TF)(c&&c.attachers,i)}function z(c,i,n){if(c){var r=c.attachers;r||(c.attachers=r=[]),(0,m.WQ)(r,i,n)}}function U(){}U.prototype.execute=function(c){var i=c.connection,n=c.newWaypoints;return c.oldWaypoints=i.waypoints,i.waypoints=n,i},U.prototype.revert=function(c){var i=c.connection,n=c.oldWaypoints;return i.waypoints=n,i};function A(c,i,n){this._eventBus=c,this._elementFactory=i,this._commandStack=n;var r=this;c.on("diagram.init",function(){r.registerHandlers(n)})}A.$inject=["eventBus","elementFactory","commandStack"],A.prototype.getHandlers=function(){return{"shape.append":C,"shape.create":P.A,"shape.delete":p.A,"shape.move":O,"shape.resize":R,"shape.replace":x,"shape.toggleCollapse":I,spaceTool:S.A,"label.create":_.A,"connection.create":T,"connection.delete":l,"connection.move":y,"connection.layout":o,"connection.updateWaypoints":U,"connection.reconnect":b.A,"elements.create":u.A,"elements.move":E.A,"elements.delete":t,"elements.distribute":e,"elements.align":d,"element.updateAttachment":tt}},A.prototype.registerHandlers=function(c){(0,a.forEach)(this.getHandlers(),function(i,n){c.registerHandler(n,i)})},A.prototype.moveShape=function(c,i,n,r,f){typeof r=="object"&&(f=r,r=null);var D={shape:c,delta:i,newParent:n,newParentIndex:r,hints:f||{}};this._commandStack.execute("shape.move",D)},A.prototype.updateAttachment=function(c,i){var n={shape:c,newHost:i};this._commandStack.execute("element.updateAttachment",n)},A.prototype.moveElements=function(c,i,n,r){r=r||{};var f=r.attach,D=n,F;f===!0?(F=n,D=n.parent):f===!1&&(F=null);var G={shapes:c,delta:i,newParent:D,newHost:F,hints:r};this._commandStack.execute("elements.move",G)},A.prototype.moveConnection=function(c,i,n,r,f){typeof r=="object"&&(f=r,r=void 0);var D={connection:c,delta:i,newParent:n,newParentIndex:r,hints:f||{}};this._commandStack.execute("connection.move",D)},A.prototype.layoutConnection=function(c,i){var n={connection:c,hints:i||{}};this._commandStack.execute("connection.layout",n)},A.prototype.createConnection=function(c,i,n,r,f,D){typeof n=="object"&&(D=f,f=r,r=n,n=void 0),r=this._create("connection",r);var F={source:c,target:i,parent:f,parentIndex:n,connection:r,hints:D};return this._commandStack.execute("connection.create",F),F.connection},A.prototype.createShape=function(c,i,n,r,f){typeof r!="number"&&(f=r,r=void 0),f=f||{};var D=f.attach,F,G;c=this._create("shape",c),D?(F=n.parent,G=n):F=n;var Z={position:i,shape:c,parent:F,parentIndex:r,host:G,hints:f};return this._commandStack.execute("shape.create",Z),Z.shape},A.prototype.createElements=function(c,i,n,r,f){(0,a.isArray)(c)||(c=[c]),typeof r!="number"&&(f=r,r=void 0),f=f||{};var D={position:i,elements:c,parent:n,parentIndex:r,hints:f};return this._commandStack.execute("elements.create",D),D.elements},A.prototype.createLabel=function(c,i,n,r){n=this._create("label",n);var f={labelTarget:c,position:i,parent:r||c.parent,shape:n};return this._commandStack.execute("label.create",f),f.shape},A.prototype.appendShape=function(c,i,n,r,f){f=f||{},i=this._create("shape",i);var D={source:c,position:n,target:r,shape:i,connection:f.connection,connectionParent:f.connectionParent,attach:f.attach};return this._commandStack.execute("shape.append",D),D.shape},A.prototype.removeElements=function(c){var i={elements:c};this._commandStack.execute("elements.delete",i)},A.prototype.distributeElements=function(c,i,n){var r={groups:c,axis:i,dimension:n};this._commandStack.execute("elements.distribute",r)},A.prototype.removeShape=function(c,i){var n={shape:c,hints:i||{}};this._commandStack.execute("shape.delete",n)},A.prototype.removeConnection=function(c,i){var n={connection:c,hints:i||{}};this._commandStack.execute("connection.delete",n)},A.prototype.replaceShape=function(c,i,n){var r={oldShape:c,newData:i,hints:n||{}};return this._commandStack.execute("shape.replace",r),r.newShape},A.prototype.alignElements=function(c,i){var n={elements:c,alignment:i};this._commandStack.execute("elements.align",n)},A.prototype.resizeShape=function(c,i,n,r){var f={shape:c,newBounds:i,minBounds:n,hints:r};this._commandStack.execute("shape.resize",f)},A.prototype.createSpace=function(c,i,n,r,f){var D={delta:n,direction:r,movingShapes:c,resizingShapes:i,start:f};this._commandStack.execute("spaceTool",D)},A.prototype.updateWaypoints=function(c,i,n){var r={connection:c,newWaypoints:i,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",r)},A.prototype.reconnect=function(c,i,n,r,f){var D={connection:c,newSource:i,newTarget:n,dockingOrPoints:r,hints:f||{}};this._commandStack.execute("connection.reconnect",D)},A.prototype.reconnectStart=function(c,i,n,r){r||(r={}),this.reconnect(c,i,c.target,n,(0,a.assign)(r,{docking:"source"}))},A.prototype.reconnectEnd=function(c,i,n,r){r||(r={}),this.reconnect(c,c.source,i,n,(0,a.assign)(r,{docking:"target"}))},A.prototype.connect=function(c,i,n,r){return this.createConnection(c,i,n||{},c.parent,r)},A.prototype._create=function(c,i){return i instanceof N.C6?i:this._elementFactory.create(c,i)},A.prototype.toggleCollapse=function(c,i){var n={shape:c,hints:i||{}};this._commandStack.execute("shape.toggleCollapse",n)}},90006:(ot,V,h)=>{h.d(V,{A:()=>g});var a=h(98218),N=h.n(a),d=h(10018),C=Math.round;function g(u){this._modeling=u}g.$inject=["modeling"],g.prototype.preExecute=function(u){var _=u.elements,P=u.parent,m=u.parentIndex,l=u.position,t=u.hints,p=this._modeling;(0,a.forEach)(_,function(E){(0,a.isNumber)(E.x)||(E.x=0),(0,a.isNumber)(E.y)||(E.y=0)});var e=(0,d.U7)(_);(0,a.forEach)(_,function(E){T(E)&&(E.waypoints=(0,a.map)(E.waypoints,function(v){return{x:v.x-e.x-C(e.width/2)+l.x,y:v.y-e.y-C(e.height/2)+l.y}})),(0,a.assign)(E,{x:E.x-e.x-C(e.width/2)+l.x,y:E.y-e.y-C(e.height/2)+l.y})});var s=(0,d.wT)(_),o={},y=this;(0,a.forEach)(_,function(E){if(T(E)){o[E.id]=(0,a.isNumber)(m)?p.createConnection(o[E.source.id],o[E.target.id],m,E,E.parent||P,t):p.createConnection(o[E.source.id],o[E.target.id],E,E.parent||P,t);return}var v=(0,a.assign)({},t);s.indexOf(E)===-1&&(v.autoResize=!1),o[E.id]=(0,a.isNumber)(m)?p.createShape(E,(0,a.pick)(E,["x","y","width","height"]),y.getParent(E,u),m,v):p.createShape(E,(0,a.pick)(E,["x","y","width","height"]),y.getParent(E,u),v)}),u.elements=(0,a.values)(o)},g.prototype.getParent=function(u,_){return u.parent||_.parent};function T(u){return!!u.waypoints}},34635:(ot,V,h)=>{h.d(V,{A:()=>C});var a=h(51270),N=h.n(a),d=h(2050);function C(_){d.A.call(this,_)}N()(C,d.A),C.$inject=["canvas"];var g=d.A.prototype.execute;C.prototype.execute=function(_){var P=_.shape;return u(P),P.labelTarget=_.labelTarget,g.call(this,_)};var T=d.A.prototype.revert;C.prototype.revert=function(_){return _.shape.labelTarget=null,T.call(this,_)};function u(_){["width","height"].forEach(function(P){typeof _[P]>"u"&&(_[P]=0)})}},2050:(ot,V,h)=>{h.d(V,{A:()=>C});var a=h(98218),N=h.n(a),d=Math.round;function C(g){this._canvas=g}C.$inject=["canvas"],C.prototype.execute=function(g){var T=g.shape,u=g.position,_=g.parent,P=g.parentIndex;if(!_)throw new Error("parent required");if(!u)throw new Error("position required");return u.width!==void 0?(0,a.assign)(T,u):(0,a.assign)(T,{x:u.x-d(T.width/2),y:u.y-d(T.height/2)}),this._canvas.addShape(T,_,P),T},C.prototype.revert=function(g){var T=g.shape;return this._canvas.removeShape(T),T}},81493:(ot,V,h)=>{h.d(V,{A:()=>d});var a=h(6958),N=h(91799);function d(g,T){this._canvas=g,this._modeling=T}d.$inject=["canvas","modeling"],d.prototype.preExecute=function(g){var T=this._modeling,u=g.shape;(0,N.l)(u.incoming,function(_){T.removeConnection(_,{nested:!0})}),(0,N.l)(u.outgoing,function(_){T.removeConnection(_,{nested:!0})}),(0,N.l)(u.children,function(_){C(_)?T.removeConnection(_,{nested:!0}):T.removeShape(_,{nested:!0})})},d.prototype.execute=function(g){var T=this._canvas,u=g.shape,_=u.parent;return g.oldParent=_,g.oldParentIndex=(0,a.qh)(_.children,u),T.removeShape(u),u},d.prototype.revert=function(g){var T=this._canvas,u=g.shape,_=g.oldParent,P=g.oldParentIndex;return(0,a.WQ)(_.children,u,P),T.addShape(u,_),u};function C(g){return g.waypoints}},12301:(ot,V,h)=>{h.d(V,{A:()=>N});var a=h(35797);function N(d){this._helper=new a.A(d)}N.$inject=["modeling"],N.prototype.preExecute=function(d){d.closure=this._helper.getClosure(d.shapes)},N.prototype.postExecute=function(d){var C=d.hints,g;C&&C.primaryShape&&(g=C.primaryShape,C.oldParent=g.parent),this._helper.moveClosure(d.closure,d.delta,d.newParent,d.newHost,g)}},97970:(ot,V,h)=>{h.d(V,{A:()=>d});var a=h(98218),N=h.n(a);function d(g){this._modeling=g}d.$inject=["modeling"],d.prototype.execute=function(g){var T=g.newSource,u=g.newTarget,_=g.connection,P=g.dockingOrPoints;if(!T&&!u)throw new Error("newSource or newTarget required");return(0,a.isArray)(P)&&(g.oldWaypoints=_.waypoints,_.waypoints=P),T&&(g.oldSource=_.source,_.source=T),u&&(g.oldTarget=_.target,_.target=u),_},d.prototype.postExecute=function(g){var T=g.connection,u=g.newSource,_=g.newTarget,P=g.dockingOrPoints,m=g.hints||{};if(m.layoutConnection!==!1){var l={};u&&(!_||m.docking==="source")&&(l.connectionStart=C((0,a.isArray)(P)?P[0]:P)),_&&(!u||m.docking==="target")&&(l.connectionEnd=C((0,a.isArray)(P)?P[P.length-1]:P)),m.newWaypoints&&(l.waypoints=m.newWaypoints),this._modeling.layoutConnection(T,l)}},d.prototype.revert=function(g){var T=g.oldSource,u=g.oldTarget,_=g.oldWaypoints,P=g.connection;return T&&(P.source=T),u&&(P.target=u),_&&(P.waypoints=_),P};function C(g){return g.original||g}},57261:(ot,V,h)=>{h.d(V,{A:()=>C});var a=h(98218),N=h.n(a),d=h(45240);function C(P){this._modeling=P}C.$inject=["modeling"],C.prototype.preExecute=function(P){var m=P.delta,l=P.direction,t=P.movingShapes,p=P.resizingShapes,e=P.start;this.moveShapes(t,m),this.resizeShapes(p,m,l),this.updateConnectionWaypoints((0,d.Gq)(t,p),m,l,e,t,p)},C.prototype.execute=function(){},C.prototype.revert=function(){},C.prototype.moveShapes=function(P,m){var l=this;(0,a.forEach)(P,function(t){l._modeling.moveShape(t,m,null,{autoResize:!1,layout:!1,recurse:!1})})},C.prototype.resizeShapes=function(P,m,l){var t=this;(0,a.forEach)(P,function(p){var e=(0,d.Ih)(p,l,m);t._modeling.resizeShape(p,e,null,{attachSupport:!1,autoResize:!1,layout:!1})})},C.prototype.updateConnectionWaypoints=function(P,m,l,t,p,e){var s=this;(0,a.forEach)(P,function(o){var y=o.source,E=o.target,v=T(o),M=u(l);v=(0,a.map)(v,function(O,b){var x=b===0,R=b===v.length-1;return x&&!_(p.concat(e),y)||R&&!_(p.concat(e),E)||((O[M]>t&&/e|s/.test(l)||O[M]<t&&/n|w/.test(l))&&(O[M]=O[M]+m[M]),O.original&&(O.original[M]>t&&/e|s/.test(l)||O.original[M]<t&&/n|w/.test(l))&&(O.original[M]=O.original[M]+m[M])),O}),s._modeling.updateWaypoints(o,v,{labelBehavior:!1})})};function g(P){return(0,a.assign)({},P)}function T(P){return(0,a.map)(P.waypoints,function(m){return m=g(m),m.original&&(m.original=g(m.original)),m})}function u(P){switch(P){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function _(P,m){return P.indexOf(m)!==-1}},39226:(ot,V,h)=>{h.d(V,{IY:()=>u,OF:()=>_,Fe:()=>g,tQ:()=>T});var a=h(65911),N=h(56764);function d(l,t,p){var e=(0,N.g)(t),s=(0,N.g)(p),o=(0,N.p)(l,e),y={x:o.x*(p.width/t.width),y:o.y*(p.height/t.height)};return(0,a.PG)({x:s.x+y.x,y:s.y+y.y})}function C(l,t,p){var e=center(l),s=center(t),o=center(p),y=delta(l,e),E=delta(e,s),v={x:E.x*(p.width/t.width),y:E.y*(p.height/t.height)},M={x:o.x+v.x,y:o.y+v.y};return roundPoint({x:M.x+y.x-l.x,y:M.y+y.y-l.y})}function g(l,t,p){var e=m(l),s=e[0];return d(s.original||s,p,t)}function T(l,t,p){var e=m(l),s=e[e.length-1];return d(s.original||s,p,t)}function u(l,t,p){return g(l,t,P(t,p))}function _(l,t,p){return T(l,t,P(t,p))}function P(l,t){return{x:l.x-t.x,y:l.y-t.y,width:l.width,height:l.height}}function m(l){var t=l.waypoints;if(!t.length)throw new Error("connection#"+l.id+": no waypoints");return t}},35797:(ot,V,h)=>{h.d(V,{A:()=>g});var a=h(98218),N=h(39226),d=h(10018);function C(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}C.prototype.add=function(T,u){return this.addAll([T],u)},C.prototype.addAll=function(T,u){var _=(0,d.yO)(T,!!u,this);return(0,a.assign)(this,_),this};function g(T){this._modeling=T}g.prototype.moveRecursive=function(T,u,_){return T?this.moveClosure(this.getClosure(T),u,_):[]},g.prototype.moveClosure=function(T,u,_,P,m){var l=this._modeling,t=T.allShapes,p=T.allConnections,e=T.enclosedConnections,s=T.topLevel,o=!1;m&&m.parent===_&&(o=!0),(0,a.forEach)(t,function(y){l.moveShape(y,u,s[y.id]&&!o&&_,{recurse:!1,layout:!1})}),(0,a.forEach)(p,function(y){var E=!!t[y.source.id],v=!!t[y.target.id];e[y.id]&&E&&v?l.moveConnection(y,u,s[y.id]&&!o&&_):l.layoutConnection(y,{connectionStart:E&&(0,N.IY)(y,y.source,u),connectionEnd:v&&(0,N.OF)(y,y.target,u),shapeMoving:!0})})},g.prototype.getClosure=function(T){return new C().addAll(T,!0)}},77648:(ot,V,h)=>{h.d(V,{A:()=>_});var a=h(17389);const N={commandStack:["type",a.A]};var d=h(54100),C=h(41458),g=h(11918),T=h(76584),u=h(10033);const _={__depends__:[N,d.A,C.A,g.A],__init__:["modeling"],modeling:["type",T.A],layouter:["type",u.A]}},79691:(ot,V,h)=>{h.d(V,{A:()=>rt});var a=h(69380),N=h(41458),d=h(35576),C=h(11918),g=h(84654),T=h(71953),u=h(98218),_=h(86439),P=500,m=1250,l=1500,t=Math.round;function p(tt){return{x:tt.x+t(tt.width/2),y:tt.y+t(tt.height/2)}}function e(tt,J,z,U,A){function c(n,r,f,D){return A.allowed("elements.move",{shapes:n,delta:r,position:f,target:D})}tt.on("shape.move.start",l,function(n){var r=n.context,f=n.shape,D=U.get().slice();D.indexOf(f)===-1&&(D=[f]),D=s(D),(0,u.assign)(r,{shapes:D,validatedShapes:D,shape:f})}),tt.on("shape.move.start",m,function(n){var r=n.context,f=r.validatedShapes,D;if(D=r.canExecute=c(f),!D)return!1}),tt.on("shape.move.move",P,function(n){var r=n.context,f=r.validatedShapes,D=n.hover,F={x:n.dx,y:n.dy},G={x:n.x,y:n.y},Z;if(Z=c(f,F,G,D),r.delta=F,r.canExecute=Z,Z===null){r.target=null;return}r.target=D}),tt.on("shape.move.end",function(n){var r=n.context,f=r.delta,D=r.canExecute,F=D==="attach",G=r.shapes;if(D===!1)return!1;f.x=t(f.x),f.y=t(f.y),!(f.x===0&&f.y===0)&&z.moveElements(G,f,r.target,{primaryShape:r.shape,attach:F})}),tt.on("element.mousedown",function(n){var r=(0,_.AF)(n);if(!r)throw new Error("must supply DOM mousedown event");return i(r,n.element)});function i(n,r,f,D){if((0,u.isObject)(f)&&(D=f,f=!1),!(r.waypoints||!r.parent)){var F=p(r);return J.init(n,F,"shape.move",{cursor:"grabbing",autoActivate:f,data:{shape:r,context:D||{}}}),!0}}this.start=i}e.$inject=["eventBus","dragging","modeling","selection","rules"];function s(tt){var J=(0,u.groupBy)(tt,"id");return(0,u.filter)(tt,function(z){for(;z=z.parent;)if(J[z.id])return!1;return!0})}var o=h(10018),y=h(33225),E=h(52965),v=499,M="djs-dragging",O="drop-ok",b="drop-not-ok",x="new-parent",R="attach-ok";function S(tt,J,z,U){function A(r){var f=c(r),D=I(f);return D}function c(r){var f=(0,o.cZ)(r,!0),D=(0,u.map)(f,function(F){return(F.incoming||[]).concat(F.outgoing||[])});return(0,u.flatten)(f.concat(D))}function i(r,f){[R,O,b,x].forEach(function(D){D===f?J.addMarker(r,D):J.removeMarker(r,D)})}function n(r,f,D){U.addDragger(f,r.dragGroup),D&&J.addMarker(f,M),r.allDraggedElements?r.allDraggedElements.push(f):r.allDraggedElements=[f]}tt.on("shape.move.start",v,function(r){var f=r.context,D=f.shapes,F=f.allDraggedElements,G=A(D);if(!f.dragGroup){var Z=(0,y.vt)("g");(0,y.CF)(Z,z.cls("djs-drag-group",["no-events"]));var X=J.getDefaultLayer();(0,y.BC)(X,Z),f.dragGroup=Z}G.forEach(function(q){U.addDragger(q,f.dragGroup)}),F?F=(0,u.flatten)([F,c(D)]):F=c(D),(0,u.forEach)(F,function(q){J.addMarker(q,M)}),f.allDraggedElements=F,f.differentParents=W(D)}),tt.on("shape.move.move",v,function(r){var f=r.context,D=f.dragGroup,F=f.target,G=f.shape.parent,Z=f.canExecute;F&&(Z==="attach"?i(F,R):f.canExecute&&F&&F.id!==G.id?i(F,x):i(F,f.canExecute?O:b)),(0,E.Tl)(D,r.dx,r.dy)}),tt.on(["shape.move.out","shape.move.cleanup"],function(r){var f=r.context,D=f.target;D&&i(D,null)}),tt.on("shape.move.cleanup",function(r){var f=r.context,D=f.allDraggedElements,F=f.dragGroup;(0,u.forEach)(D,function(G){J.removeMarker(G,M)}),F&&(0,y.TF)(F)}),this.makeDraggable=n}S.$inject=["eventBus","canvas","styles","previewSupport"];function I(tt){var J=(0,u.filter)(tt,function(z){return Y(z)?(0,u.find)(tt,(0,u.matchPattern)({id:z.source.id}))&&(0,u.find)(tt,(0,u.matchPattern)({id:z.target.id})):!0});return J}function W(tt){return(0,u.size)((0,u.groupBy)(tt,function(J){return J.parent&&J.parent.id}))!==1}function Y(tt){return tt.waypoints}const rt={__depends__:[a.A,N.A,d.A,C.A,g.A,T.A],__init__:["move","movePreview"],move:["type",e],movePreview:["type",S]}},35576:(ot,V,h)=>{h.d(V,{A:()=>u});var a=h(10018),N=h(33225),d=h(52687),C=h(98218),g=500;function T(_,P,m){this.offset=6;var l=P.cls("djs-outline",["no-fill"]),t=this;function p(e,s){var o=(0,N.vt)("rect");return(0,N.CF)(o,(0,C.assign)({x:10,y:10,width:100,height:100},l)),(0,N.BC)(e,o),o}_.on(["shape.added","shape.changed"],g,function(e){var s=e.element,o=e.gfx,y=(0,d.query)(".djs-outline",o);y||(y=p(o,s)),t.updateShapeOutline(y,s)}),_.on(["connection.added","connection.changed"],function(e){var s=e.element,o=e.gfx,y=(0,d.query)(".djs-outline",o);y||(y=p(o,s)),t.updateConnectionOutline(y,s)})}T.prototype.updateShapeOutline=function(_,P){(0,N.CF)(_,{x:-this.offset,y:-this.offset,width:P.width+this.offset*2,height:P.height+this.offset*2})},T.prototype.updateConnectionOutline=function(_,P){var m=(0,a.U7)(P);(0,N.CF)(_,{x:m.x-this.offset,y:m.y-this.offset,width:m.width+this.offset*2,height:m.height+this.offset*2})},T.$inject=["eventBus","styles","elementRegistry"];const u={__init__:["outline"],outline:["type",T]}},18587:(ot,V,h)=>{h.d(V,{A:()=>l});var a=h(98218),N=h.n(a),d=h(52687),C=h.n(d),g=".djs-palette-toggle",T=".entry",u=g+", "+T,_="open",P="two-column",m=1e3;function l(e,s){this._eventBus=e,this._canvas=s;var o=this;e.on("tool-manager.update",function(y){var E=y.tool;o.updateToolHighlight(E)}),e.on("i18n.changed",function(){o._update()}),e.on("diagram.init",function(){o._diagramInitialized=!0,o._rebuild()})}l.$inject=["eventBus","canvas"],l.prototype.registerProvider=function(e,s){s||(s=e,e=m),this._eventBus.on("palette.getProviders",e,function(o){o.providers.push(s)}),this._rebuild()},l.prototype.getEntries=function(){var e=this._getProviders();return e.reduce(p,{})},l.prototype._rebuild=function(){if(this._diagramInitialized){var e=this._getProviders();e.length&&(this._container||this._init(),this._update())}},l.prototype._init=function(){var e=this,s=this._eventBus,o=this._getParentContainer(),y=this._container=(0,d.domify)(l.HTML_MARKUP);o.appendChild(y),d.delegate.bind(y,u,"click",function(E){var v=E.delegateTarget;if((0,d.matches)(v,g))return e.toggle();e.trigger("click",E)}),d.event.bind(y,"mousedown",function(E){E.stopPropagation()}),d.delegate.bind(y,T,"dragstart",function(E){e.trigger("dragstart",E)}),s.on("canvas.resized",this._layoutChanged,this),s.fire("palette.create",{container:y})},l.prototype._getProviders=function(e){var s=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(s),s.providers},l.prototype._toggleState=function(e){e=e||{};var s=this._getParentContainer(),o=this._container,y=this._eventBus,E,v=(0,d.classes)(o);"twoColumn"in e?E=e.twoColumn:E=this._needsCollapse(s.clientHeight,this._entries||{}),v.toggle(P,E),"open"in e&&v.toggle(_,e.open),y.fire("palette.changed",{twoColumn:E,open:this.isOpen()})},l.prototype._update=function(){var e=(0,d.query)(".djs-palette-entries",this._container),s=this._entries=this.getEntries();(0,d.clear)(e),(0,a.forEach)(s,function(o,y){var E=o.group||"default",v=(0,d.query)("[data-group="+E+"]",e);v||(v=(0,d.domify)('<div class="group" data-group="'+E+'"></div>'),e.appendChild(v));var M=o.html||(o.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),O=(0,d.domify)(M);v.appendChild(O),o.separator||((0,d.attr)(O,"data-action",y),o.title&&(0,d.attr)(O,"title",o.title),o.className&&t(O,o.className),o.imageUrl&&O.appendChild((0,d.domify)('<img src="'+o.imageUrl+'">')))}),this.open()},l.prototype.trigger=function(e,s,o){var y=this._entries,E,v,M,O=s.delegateTarget||s.target;if(!O)return s.preventDefault();E=y[(0,d.attr)(O,"data-action")],E&&(v=E.action,M=s.originalEvent||s,(0,a.isFunction)(v)?e==="click"&&v(M,o):v[e]&&v[e](M,o),s.preventDefault())},l.prototype._layoutChanged=function(){this._toggleState({})},l.prototype._needsCollapse=function(e,s){var o=50,y=Object.keys(s).length*46;return e<y+o},l.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},l.prototype.open=function(){this._toggleState({open:!0})},l.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},l.prototype.isActiveTool=function(e){return e&&this._activeTool===e},l.prototype.updateToolHighlight=function(e){var s,o;this._toolsContainer||(s=(0,d.query)(".djs-palette-entries",this._container),this._toolsContainer=(0,d.query)("[data-group=tools]",s)),o=this._toolsContainer,(0,a.forEach)(o.children,function(y){var E=y.getAttribute("data-action");if(E){var v=(0,d.classes)(y);E=E.replace("-tool",""),v.contains("entry")&&E===e?v.add("highlighted-entry"):v.remove("highlighted-entry")}})},l.prototype.isOpen=function(){return(0,d.classes)(this._container).has(_)},l.prototype._getParentContainer=function(){return this._canvas.getContainer()},l.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function t(e,s){var o=(0,d.classes)(e),y=(0,a.isArray)(s)?s:s.split(/\s+/g);y.forEach(function(E){o.add(E)})}function p(e,s){var o=s.getPaletteEntries();return(0,a.isFunction)(o)?o(e):((0,a.forEach)(o,function(y,E){e[E]=y}),e)}},85868:(ot,V,h)=>{h.d(V,{A:()=>N});var a=h(18587);const N={__init__:["palette"],palette:["type",a.A]}},6226:(ot,V,h)=>{h.d(V,{A:()=>_});var a=h(98218),N=h.n(a),d=h(52687),C=h.n(d),g="data-id",T=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],u=1e3;function _(m,l,t){var p=(0,a.isDefined)(m&&m.scale)?m.scale:{min:1,max:1.5};this._config={scale:p},this._eventBus=l,this._canvas=t,this._providers={},this._current={}}_.$inject=["config.popupMenu","eventBus","canvas"],_.prototype.registerProvider=function(m,l,t){t||(t=l,l=u),this._eventBus.on("popupMenu.getProviders."+m,l,function(p){p.providers.push(t)})},_.prototype.isEmpty=function(m,l){if(!m)throw new Error("element parameter is missing");if(!l)throw new Error("providerId parameter is missing");var t=this._getProviders(l);if(!t)return!0;var p=this._getEntries(m,t),e=this._getHeaderEntries(m,t),s=(0,a.size)(p)>0,o=e&&(0,a.size)(e)>0;return!s&&!o},_.prototype.open=function(m,l,t){var p=this._getProviders(l);if(!m)throw new Error("Element is missing");if(!p||!p.length)throw new Error("No registered providers for: "+l);if(!t)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var e=this._current={className:l,element:m,position:t},s=this._getEntries(m,p),o=this._getHeaderEntries(m,p);e.entries=(0,a.assign)({},s,o),e.container=this._createContainer(),(0,a.size)(o)&&e.container.appendChild(this._createEntries(o,"djs-popup-header")),(0,a.size)(s)&&e.container.appendChild(this._createEntries(s,"djs-popup-body"));var y=this._canvas,E=y.getContainer();this._attachContainer(e.container,E,t.cursor),this._bindAutoClose()},_.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),(0,d.remove)(this._current.container),this._current.container=null)},_.prototype.isOpen=function(){return!!this._current.container},_.prototype.trigger=function(m){m.preventDefault();var l=m.delegateTarget||m.target,t=(0,d.attr)(l,g),p=this._getEntry(t);if(p.action)return p.action.call(null,m,p)},_.prototype._getProviders=function(m){var l=this._eventBus.createEvent({type:"popupMenu.getProviders."+m,providers:[]});return this._eventBus.fire(l),l.providers},_.prototype._getEntries=function(m,l){var t={};return(0,a.forEach)(l,function(p){if(!p.getPopupMenuEntries){(0,a.forEach)(p.getEntries(m),function(s){var o=s.id;if(!o)throw new Error("every entry must have the id property set");t[o]=(0,a.omit)(s,["id"])});return}var e=p.getPopupMenuEntries(m);(0,a.isFunction)(e)?t=e(t):(0,a.forEach)(e,function(s,o){t[o]=s})}),t},_.prototype._getHeaderEntries=function(m,l){var t={};return(0,a.forEach)(l,function(p){if(!p.getPopupMenuHeaderEntries){if(!p.getHeaderEntries)return;(0,a.forEach)(p.getHeaderEntries(m),function(s){var o=s.id;if(!o)throw new Error("every entry must have the id property set");t[o]=(0,a.omit)(s,["id"])});return}var e=p.getPopupMenuHeaderEntries(m);(0,a.isFunction)(e)?t=e(t):(0,a.forEach)(e,function(s,o){t[o]=s})}),t},_.prototype._getEntry=function(m){var l=this._current.entries[m];if(!l)throw new Error("entry not found");return l},_.prototype._emit=function(m){this._eventBus.fire("popupMenu."+m)},_.prototype._createContainer=function(){var m=(0,d.domify)('<div class="djs-popup">'),l=this._current.position,t=this._current.className;return(0,a.assign)(m.style,{position:"absolute",left:l.x+"px",top:l.y+"px",visibility:"hidden"}),(0,d.classes)(m).add(t),m},_.prototype._attachContainer=function(m,l,t){var p=this;d.delegate.bind(m,".entry","click",function(e){p.trigger(e)}),this._updateScale(m),l.appendChild(m),t&&this._assureIsInbounds(m,t)},_.prototype._updateScale=function(m){var l=this._canvas.zoom(),t=this._config.scale,p,e,s=l;t!==!0&&(t===!1?(p=1,e=1):(p=t.min,e=t.max),(0,a.isDefined)(p)&&l<p&&(s=p),(0,a.isDefined)(e)&&l>e&&(s=e)),P(m,"scale("+s+")")},_.prototype._assureIsInbounds=function(m,l){var t=this._canvas,p=t._container.getBoundingClientRect(),e=m.offsetLeft,s=m.offsetTop,o=m.scrollWidth,y=m.scrollHeight,E={},v,M,O={x:l.x-p.left,y:l.y-p.top};e+o>p.width&&(E.x=!0),s+y>p.height&&(E.y=!0),E.x&&E.y?(v=O.x-o+"px",M=O.y-y+"px"):E.x?(v=O.x-o+"px",M=O.y+"px"):E.y&&O.y<y?(v=O.x+"px",M="10px"):E.y&&(v=O.x+"px",M=O.y-y+"px"),(0,a.assign)(m.style,{left:v,top:M},{visibility:"visible","z-index":1e3})},_.prototype._createEntries=function(m,l){var t=(0,d.domify)("<div>"),p=this;return(0,d.classes)(t).add(l),(0,a.forEach)(m,function(e,s){var o=p._createEntry(e,s);t.appendChild(o)}),t},_.prototype._createEntry=function(m,l){var t=(0,d.domify)("<div>"),p=(0,d.classes)(t);if(p.add("entry"),m.className&&m.className.split(" ").forEach(function(s){p.add(s)}),(0,d.attr)(t,g,l),m.label){var e=(0,d.domify)("<span>");e.textContent=m.label,t.appendChild(e)}return m.imageUrl&&t.appendChild((0,d.domify)('<img src="'+m.imageUrl+'" />')),m.active===!0&&p.add("active"),m.disabled===!0&&p.add("disabled"),m.title&&(t.title=m.title),t},_.prototype._bindAutoClose=function(){this._eventBus.once(T,this.close,this)},_.prototype._unbindAutoClose=function(){this._eventBus.off(T,this.close,this)};function P(m,l){m.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(t){m.style[t+"transform"]=l})}},40127:(ot,V,h)=>{h.d(V,{A:()=>N});var a=h(6226);const N={__init__:["popupMenu"],popupMenu:["type",a.A]}},38134:(ot,V,h)=>{h.d(V,{A:()=>P});var a=h(98218),N=h.n(a),d=h(33225),C=h(52687),g=h.n(C),T=h(12266),u=["marker-start","marker-mid","marker-end"],_=["circle","ellipse","line","path","polygon","polyline","rect"];function P(e,s,o,y){this._elementRegistry=e,this._canvas=o,this._styles=y,this._clonedMarkers={};var E=this;s.on("drag.cleanup",function(){(0,a.forEach)(E._clonedMarkers,function(v){(0,d.TF)(v)}),E._clonedMarkers={}})}P.$inject=["elementRegistry","eventBus","canvas","styles"],P.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},P.prototype.addDragger=function(e,s,o){o=o||this.getGfx(e);var y=(0,d.o8)(o),E=o.getBoundingClientRect();return this._cloneMarkers((0,T.P)(y)),(0,d.CF)(y,this._styles.cls("djs-dragger",[],{x:E.top,y:E.left})),(0,d.BC)(s,y),y},P.prototype.addFrame=function(e,s){var o=(0,d.vt)("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return(0,d.BC)(s,o),o},P.prototype._cloneMarkers=function(e){var s=this;if(e.childNodes)for(var o=0;o<e.childNodes.length;o++)s._cloneMarkers(e.childNodes[o]);p(e)&&u.forEach(function(y){if((0,d.CF)(e,y)){var E=m(e,y,s._canvas.getContainer());s._cloneMarker(e,E,y)}})},P.prototype._cloneMarker=function(e,s,o){var y=s.id,E=this._clonedMarkers[y];if(!E){E=(0,d.o8)(s);var v=y+"-clone";E.id=v,(0,d.Ly)(E).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[y]=E;var M=(0,C.query)("defs",this._canvas._svg);M||(M=(0,d.vt)("defs"),(0,d.BC)(this._canvas._svg,M)),(0,d.BC)(M,E)}var O=t(this._clonedMarkers[y].id);(0,d.CF)(e,o,O)};function m(e,s,o){var y=l((0,d.CF)(e,s));return(0,C.query)("marker#"+y,o||document)}function l(e){return e.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function t(e){return"url(#"+e+")"}function p(e){return _.indexOf(e.nodeName)!==-1}},71953:(ot,V,h)=>{h.d(V,{A:()=>N});var a=h(38134);const N={__init__:["previewSupport"],previewSupport:["type",a.A]}},76357:(ot,V,h)=>{h.d(V,{A:()=>v,a:()=>O});var a=h(98218),N=h(10018),d=h(65911),C=Math.max,g=Math.min,T=20;function u(x,R){return{top:x.top-R.top,right:x.right-R.right,bottom:x.bottom-R.bottom,left:x.left-R.left}}function _(x,R,S){var I=S.x,W=S.y,Y={x:x.x,y:x.y,width:x.width,height:x.height};return R.indexOf("n")!==-1?(Y.y=x.y+W,Y.height=x.height-W):R.indexOf("s")!==-1&&(Y.height=x.height+W),R.indexOf("e")!==-1?Y.width=x.width+I:R.indexOf("w")!==-1&&(Y.x=x.x+I,Y.width=x.width-I),Y}function P(x,R){return{x:x.x+(R.left||0),y:x.y+(R.top||0),width:x.width-(R.left||0)+(R.right||0),height:x.height-(R.top||0)+(R.bottom||0)}}function m(x,R,S){var I=x.width/R.width,W=x.height/R.height;return{x:Math.round(R.x+R.width/2)-Math.floor((x.x+x.width/2-S.x)/I),y:Math.round(R.y+R.height/2)-Math.floor((x.y+x.height/2-S.y)/W)}}function l(x,R,S){var I=R[x],W=S.min&&S.min[x],Y=S.max&&S.max[x];return(0,a.isNumber)(W)&&(I=(/top|left/.test(x)?g:C)(I,W)),(0,a.isNumber)(Y)&&(I=(/top|left/.test(x)?C:g)(I,Y)),I}function t(x,R){if(!R)return x;var S=(0,d.Fy)(x);return(0,d.cD)({top:l("top",S,R),right:l("right",S,R),bottom:l("bottom",S,R),left:l("left",S,R)})}function p(x,R,S,I){var W=(0,d.Fy)(R),Y={top:/n/.test(x)?W.bottom-S.height:W.top,left:/w/.test(x)?W.right-S.width:W.left,bottom:/s/.test(x)?W.top+S.height:W.bottom,right:/e/.test(x)?W.left+S.width:W.right},rt=I?(0,d.Fy)(I):Y,tt={top:g(Y.top,rt.top),left:g(Y.left,rt.left),bottom:C(Y.bottom,rt.bottom),right:C(Y.right,rt.right)};return(0,d.cD)(tt)}function e(x,R){return typeof x<"u"?x:T}function s(x,R){var S,I,W,Y;return typeof R=="object"?(S=e(R.left),I=e(R.right),W=e(R.top),Y=e(R.bottom)):S=I=W=Y=e(R),{x:x.x-S,y:x.y-W,width:x.width+S+I,height:x.height+W+Y}}function o(x){return!(x.waypoints||x.type==="label")}function y(x,R){var S;if(x.length===void 0?S=(0,a.filter)(x.children,o):S=x,S.length)return s((0,N.U7)(S),R)}var E=10;function v(x,R,S,I){this._dragging=I,this._rules=R;var W=this;function Y(J,z){var U=J.shape,A=J.direction,c=J.resizeConstraints,i;J.delta=z,i=_(U,A,z),J.newBounds=t(i,c),J.canExecute=W.canResize(J)}function rt(J){var z=J.resizeConstraints,U=J.minBounds;z===void 0&&(U===void 0&&(U=W.computeMinResizeBox(J)),J.resizeConstraints={min:(0,d.Fy)(U)})}function tt(J){var z=J.shape,U=J.canExecute,A=J.newBounds;if(U){if(A=(0,d.Au)(A),!M(z,A))return;S.resizeShape(z,A)}}x.on("resize.start",function(J){rt(J.context)}),x.on("resize.move",function(J){var z={x:J.dx,y:J.dy};Y(J.context,z)}),x.on("resize.end",function(J){tt(J.context)})}v.prototype.canResize=function(x){var R=this._rules,S=(0,a.pick)(x,["newBounds","shape","delta","direction"]);return R.allowed("shape.resize",S)},v.prototype.activate=function(x,R,S){var I=this._dragging,W,Y;if(typeof S=="string"&&(S={direction:S}),W=(0,a.assign)({shape:R},S),Y=W.direction,!Y)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");I.init(x,O(R,Y),"resize",{autoActivate:!0,cursor:b(Y),data:{shape:R,context:W}})},v.prototype.computeMinResizeBox=function(x){var R=x.shape,S=x.direction,I,W;return I=x.minDimensions||{width:E,height:E},W=y(R,x.childrenBoxPadding),p(S,R,I,W)},v.$inject=["eventBus","rules","modeling","dragging"];function M(x,R){return x.x!==R.x||x.y!==R.y||x.width!==R.width||x.height!==R.height}function O(x,R){var S=(0,d.pp)(x),I=(0,d.Fy)(x),W={x:S.x,y:S.y};return R.indexOf("n")!==-1?W.y=I.top:R.indexOf("s")!==-1&&(W.y=I.bottom),R.indexOf("e")!==-1?W.x=I.right:R.indexOf("w")!==-1&&(W.x=I.left),W}function b(x){var R="resize-";return x==="n"||x==="s"?R+"ns":x==="e"||x==="w"?R+"ew":x==="nw"||x==="se"?R+"nwse":R+"nesw"}},25342:(ot,V,h)=>{h.d(V,{A:()=>e});var a=h(98218),N=h.n(a),d=h(33225),C=h(52687),g=h.n(C),T=h(60053),u=h(52965),_=h(76357),P=-6,m=4,l=20,t="djs-resizer",p=["n","w","s","e","nw","ne","se","sw"];function e(o,y,E,v){this._resize=v,this._canvas=y;var M=this;o.on("selection.changed",function(O){var b=O.newSelection;M.removeResizers(),b.length===1&&(0,a.forEach)(b,(0,a.bind)(M.addResizer,M))}),o.on("shape.changed",function(O){var b=O.element;E.isSelected(b)&&(M.removeResizers(),M.addResizer(b))})}e.prototype.makeDraggable=function(o,y,E){var v=this._resize;function M(O){(0,T.ls)(O)&&v.activate(O,o,E)}C.event.bind(y,"mousedown",M),C.event.bind(y,"touchstart",M)},e.prototype._createResizer=function(o,y,E,v){var M=this._getResizersParent(),O=s(v),b=(0,d.vt)("g");(0,d.Ly)(b).add(t),(0,d.Ly)(b).add(t+"-"+o.id),(0,d.Ly)(b).add(t+"-"+v),(0,d.BC)(M,b);var x=(0,d.vt)("rect");(0,d.CF)(x,{x:-m/2+O.x,y:-m/2+O.y,width:m,height:m}),(0,d.Ly)(x).add(t+"-visual"),(0,d.BC)(b,x);var R=(0,d.vt)("rect");return(0,d.CF)(R,{x:-l/2+O.x,y:-l/2+O.y,width:l,height:l}),(0,d.Ly)(R).add(t+"-hit"),(0,d.BC)(b,R),(0,u.pd)(b,y,E),b},e.prototype.createResizer=function(o,y){var E=(0,_.a)(o,y),v=this._createResizer(o,E.x,E.y,y);this.makeDraggable(o,v,y)},e.prototype.addResizer=function(o){var y=this,E=this._resize;E.canResize({shape:o})&&(0,a.forEach)(p,function(v){y.createResizer(o,v)})},e.prototype.removeResizers=function(){var o=this._getResizersParent();(0,d.IU)(o)},e.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},e.$inject=["eventBus","canvas","selection","resize"];function s(o){var y={x:0,y:0};return o.indexOf("e")!==-1?y.x=-P:o.indexOf("w")!==-1&&(y.x=P),o.indexOf("s")!==-1?y.y=-P:o.indexOf("n")!==-1&&(y.y=P),y}},88729:(ot,V,h)=>{h.d(V,{A:()=>g});var a=h(33225),N="djs-resizing",d="resize-not-ok",C=500;function g(T,u,_){function P(l){var t=l.shape,p=l.newBounds,e=l.frame;e||(e=l.frame=_.addFrame(t,u.getDefaultLayer()),u.addMarker(t,N)),p.width>5&&(0,a.CF)(e,{x:p.x,width:p.width}),p.height>5&&(0,a.CF)(e,{y:p.y,height:p.height}),l.canExecute?(0,a.Ly)(e).remove(d):(0,a.Ly)(e).add(d)}function m(l){var t=l.shape,p=l.frame;p&&(0,a.TF)(l.frame),u.removeMarker(t,N)}T.on("resize.move",C,function(l){P(l.context)}),T.on("resize.cleanup",function(l){m(l.context)})}g.$inject=["eventBus","canvas","previewSupport"]},43537:(ot,V,h)=>{h.d(V,{A:()=>C});var a=h(51270),N=h.n(a),d=h(6705);function C(g){d.A.call(this,g),this.init()}C.$inject=["eventBus"],N()(C,d.A),C.prototype.addRule=function(g,T,u){var _=this;typeof g=="string"&&(g=[g]),g.forEach(function(P){_.canExecute(P,T,function(m,l,t){return u(m)},!0)})},C.prototype.init=function(){}},11918:(ot,V,h)=>{h.d(V,{A:()=>N});function a(d){this._commandStack=d.get("commandStack",!1)}a.$inject=["injector"],a.prototype.allowed=function(d,C){var g=!0,T=this._commandStack;return T&&(g=T.canExecute(d,C)),g===void 0?!0:g};const N={__init__:["rules"],rules:["type",a]}},41458:(ot,V,h)=>{h.d(V,{A:()=>l});var a=h(69380),N=h(35576),d=h(98218);function C(t){this._eventBus=t,this._selectedElements=[];var p=this;t.on(["shape.remove","connection.remove"],function(e){var s=e.element;p.deselect(s)}),t.on(["diagram.clear"],function(e){p.select(null)})}C.$inject=["eventBus"],C.prototype.deselect=function(t){var p=this._selectedElements,e=p.indexOf(t);if(e!==-1){var s=p.slice();p.splice(e,1),this._eventBus.fire("selection.changed",{oldSelection:s,newSelection:p})}},C.prototype.get=function(){return this._selectedElements},C.prototype.isSelected=function(t){return this._selectedElements.indexOf(t)!==-1},C.prototype.select=function(t,p){var e=this._selectedElements,s=e.slice();(0,d.isArray)(t)||(t=t?[t]:[]),p?(0,d.forEach)(t,function(o){e.indexOf(o)===-1&&e.push(o)}):this._selectedElements=e=t.slice(),this._eventBus.fire("selection.changed",{oldSelection:s,newSelection:e})};var g="hover",T="selected";function u(t,p,e,s){this._multiSelectionBox=null;function o(E,v){p.addMarker(E,v)}function y(E,v){p.removeMarker(E,v)}t.on("element.hover",function(E){o(E.element,g)}),t.on("element.out",function(E){y(E.element,g)}),t.on("selection.changed",function(E){function v(x){y(x,T)}function M(x){o(x,T)}var O=E.oldSelection,b=E.newSelection;(0,d.forEach)(O,function(x){b.indexOf(x)===-1&&v(x)}),(0,d.forEach)(b,function(x){O.indexOf(x)===-1&&M(x)})})}u.$inject=["eventBus","canvas","selection","styles"];var _=h(60053);function P(t,p,e,s){t.on("create.end",500,function(o){var y=o.context,E=y.canExecute,v=y.elements,M=y.hints||{},O=M.autoSelect;if(E){if(O===!1)return;(0,d.isArray)(O)?p.select(O):p.select(v.filter(m))}}),t.on("connect.end",500,function(o){o.context.canExecute&&o.context.connection&&p.select(o.context.connection)}),t.on("shape.move.end",500,function(o){var y=o.previousSelection||[],E=s.get(o.context.shape.id),v=(0,d.find)(y,function(M){return E.id===M.id});v||p.select(E)}),t.on("element.click",function(o){var y=o.element;y===e.getRootElement()&&(y=null);var E=p.isSelected(y),v=p.get().length>1,M=(0,_.Io)(o);if(E&&v)return M?p.deselect(y):p.select(y);E||p.select(y,M)})}P.$inject=["eventBus","selection","canvas","elementRegistry"];function m(t){return!t.hidden}const l={__init__:["selectionVisuals","selectionBehavior"],__depends__:[a.A,N.A],selection:["type",C],selectionVisuals:["type",u],selectionBehavior:["type",P]}},17521:(ot,V,h)=>{h.d(V,{AC:()=>P,CU:()=>m,_:()=>d,i0:()=>l,jz:()=>_,lA:()=>C,oF:()=>u});var a=Math.abs,N=Math.round;function d(t,p,e){e=e===void 0?10:e;var s,o;for(s=0;s<p.length;s++)if(o=p[s],a(o-t)<=e)return o}function C(t){return{x:t.x,y:t.y}}function g(t){return{x:t.x+t.width,y:t.y}}function T(t){return{x:t.x,y:t.y+t.height}}function u(t){return{x:t.x+t.width,y:t.y+t.height}}function _(t,p){return!t||isNaN(t.x)||isNaN(t.y)?p:{x:N(t.x+t.width/2),y:N(t.y+t.height/2)}}function P(t,p){var e=t.snapped;return e?typeof p=="string"?e[p]:e.x&&e.y:!1}function m(t,p,e){if(typeof p!="string")throw new Error("axis must be in [x, y]");if(typeof e!="number"&&e!==!1)throw new Error("value must be Number or false");var s,o=t[p],y=t.snapped=t.snapped||{};return e===!1?y[p]=!1:(y[p]=!0,s=e-o,t[p]+=s,t["d"+p]+=s),o}function l(t){return t.children||[]}},97317:(ot,V,h)=>{h.d(V,{A:()=>u});var a=h(98218),N=h.n(a),d=h(17521),C=h(33225),g=7,T=1e3;function u(_){this._canvas=_,this._asyncHide=(0,a.debounce)((0,a.bind)(this.hide,this),T)}u.$inject=["canvas"],u.prototype.snap=function(_,P){var m=_.context,l=m.snapContext,t=l.getSnapLocations(),p={x:(0,d.AC)(_,"x"),y:(0,d.AC)(_,"y")};(0,a.forEach)(t,function(e){var s=l.getSnapOrigin(e),o={x:_.x+s.x,y:_.y+s.y};if((0,a.forEach)(["x","y"],function(y){var E;p[y]||(E=P.snap(o,e,y,g),E!==void 0&&(p[y]={value:E,originValue:E-s[y]}))}),p.x&&p.y)return!1}),this.showSnapLine("vertical",p.x&&p.x.value),this.showSnapLine("horizontal",p.y&&p.y.value),(0,a.forEach)(["x","y"],function(e){var s=p[e];(0,a.isObject)(s)&&(0,d.CU)(_,e,s.originValue)})},u.prototype._createLine=function(_){var P=this._canvas.getLayer("snap"),m=(0,C.vt)("path");return(0,C.CF)(m,{d:"M0,0 L0,0"}),(0,C.Ly)(m).add("djs-snap-line"),(0,C.BC)(P,m),{update:function(l){(0,a.isNumber)(l)?_==="horizontal"?(0,C.CF)(m,{d:"M-100000,"+l+" L+100000,"+l,display:""}):(0,C.CF)(m,{d:"M "+l+",-100000 L "+l+", +100000",display:""}):(0,C.CF)(m,{display:"none"})}}},u.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},u.prototype.showSnapLine=function(_,P){var m=this.getSnapLine(_);m&&m.update(P),this._asyncHide()},u.prototype.getSnapLine=function(_){return this._snapLines||this._createSnapLines(),this._snapLines[_]},u.prototype.hide=function(){(0,a.forEach)(this._snapLines,function(_){_.update()})}},62514:(ot,V,h)=>{h.d(V,{A:()=>b});var a=h(98218),N=h(17521);function d(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}d.prototype.getSnapOrigin=function(x){return this._snapOrigins[x]},d.prototype.setSnapOrigin=function(x,R){this._snapOrigins[x]=R,this._snapLocations.indexOf(x)===-1&&this._snapLocations.push(x)},d.prototype.addDefaultSnap=function(x,R){var S=this._defaultSnaps[x];S||(S=this._defaultSnaps[x]=[]),S.push(R)},d.prototype.getSnapLocations=function(){return this._snapLocations},d.prototype.setSnapLocations=function(x){this._snapLocations=x},d.prototype.pointsForTarget=function(x){var R=x.id||x,S=this._targets[R];return S||(S=this._targets[R]=new C,S.initDefaults(this._defaultSnaps)),S};function C(x){this._snapValues={}}C.prototype.add=function(x,R){var S=this._snapValues[x];S||(S=this._snapValues[x]={x:[],y:[]}),S.x.indexOf(R.x)===-1&&S.x.push(R.x),S.y.indexOf(R.y)===-1&&S.y.push(R.y)},C.prototype.snap=function(x,R,S,I){var W=this._snapValues[R];return W&&(0,N._)(x[S],W[S],I)},C.prototype.initDefaults=function(x){var R=this;(0,a.forEach)(x||{},function(S,I){(0,a.forEach)(S,function(W){R.add(I,W)})})};var g=h(34495),T=1250;function u(x,R,S){var I=this;this._elementRegistry=x,R.on(["create.start","shape.move.start"],function(W){I.initSnap(W)}),R.on(["create.move","create.end","shape.move.move","shape.move.end"],T,function(W){var Y=W.context,rt=Y.shape,tt=Y.snapContext,J=Y.target;if(!(W.originalEvent&&(0,g.nM)(W.originalEvent))&&!((0,N.AC)(W)||!J)){var z=tt.pointsForTarget(J);z.initialized||(z=I.addSnapTargetPoints(z,rt,J),z.initialized=!0),S.snap(W,z)}}),R.on(["create.cleanup","shape.move.cleanup"],function(){S.hide()})}u.$inject=["elementRegistry","eventBus","snapping"],u.prototype.initSnap=function(x){var R=this._elementRegistry,S=x.context,I=S.shape,W=S.snapContext;W||(W=S.snapContext=new d);var Y;R.get(I.id)?Y=(0,N.jz)(I,x):Y={x:x.x+(0,N.jz)(I).x,y:x.y+(0,N.jz)(I).y};var rt={x:Y.x-I.width/2,y:Y.y-I.height/2},tt={x:Y.x+I.width/2,y:Y.y+I.height/2};return W.setSnapOrigin("mid",{x:Y.x-x.x,y:Y.y-x.y}),m(I)||(W.setSnapOrigin("top-left",{x:rt.x-x.x,y:rt.y-x.y}),W.setSnapOrigin("bottom-right",{x:tt.x-x.x,y:tt.y-x.y})),W},u.prototype.addSnapTargetPoints=function(x,R,S){var I=this.getSnapTargets(R,S);return(0,a.forEach)(I,function(W){if(m(W)){m(R)&&x.add("mid",(0,N.jz)(W));return}if(_(W)){if(W.waypoints.length<3)return;var Y=W.waypoints.slice(1,-1);(0,a.forEach)(Y,function(rt){x.add("mid",rt)});return}x.add("mid",(0,N.jz)(W))}),!(0,a.isNumber)(R.x)||!(0,a.isNumber)(R.y)||this._elementRegistry.get(R.id)&&x.add("mid",(0,N.jz)(R)),x},u.prototype.getSnapTargets=function(x,R){return(0,N.i0)(R).filter(function(S){return!P(S)})};function _(x){return!!x.waypoints}function P(x){return!!x.hidden}function m(x){return!!x.labelTarget}var l=h(65911),t=1250;function p(x,R){var S=this;x.on(["resize.start"],function(I){S.initSnap(I)}),x.on(["resize.move","resize.end"],t,function(I){var W=I.context,Y=W.shape,rt=Y.parent,tt=W.direction,J=W.snapContext;if(!(I.originalEvent&&(0,g.nM)(I.originalEvent))&&!(0,N.AC)(I)){var z=J.pointsForTarget(rt);z.initialized||(z=S.addSnapTargetPoints(z,Y,rt,tt),z.initialized=!0),v(tt)&&(0,N.CU)(I,"x",I.x),M(tt)&&(0,N.CU)(I,"y",I.y),R.snap(I,z)}}),x.on(["resize.cleanup"],function(){R.hide()})}p.prototype.initSnap=function(x){var R=x.context,S=R.shape,I=R.direction,W=R.snapContext;W||(W=R.snapContext=new d);var Y=e(S,I);return W.setSnapOrigin("corner",{x:Y.x-x.x,y:Y.y-x.y}),W},p.prototype.addSnapTargetPoints=function(x,R,S,I){var W=this.getSnapTargets(R,S);return(0,a.forEach)(W,function(Y){x.add("corner",(0,N.oF)(Y)),x.add("corner",(0,N.lA)(Y))}),x.add("corner",e(R,I)),x},p.$inject=["eventBus","snapping"],p.prototype.getSnapTargets=function(x,R){return(0,N.i0)(R).filter(function(S){return!s(S,x)&&!o(S)&&!y(S)&&!E(S)})};function e(x,R){var S=(0,l.pp)(x),I=(0,l.Fy)(x),W={x:S.x,y:S.y};return R.indexOf("n")!==-1?W.y=I.top:R.indexOf("s")!==-1&&(W.y=I.bottom),R.indexOf("e")!==-1?W.x=I.right:R.indexOf("w")!==-1&&(W.x=I.left),W}function s(x,R){return x.host===R}function o(x){return!!x.waypoints}function y(x){return!!x.hidden}function E(x){return!!x.labelTarget}function v(x){return x==="n"||x==="s"}function M(x){return x==="e"||x==="w"}var O=h(97317);const b={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",u],resizeSnapping:["type",p],snapping:["type",O.A]}},19506:(ot,V,h)=>{h.d(V,{A:()=>o});var a=h(98218),N=h.n(a),d=h(65911),C=h(10018),g=h(45240),T=h(60053),u=h(46837),_=Math.abs,P=Math.round,m={x:"width",y:"height"},l="crosshair",t={n:"top",w:"left",s:"bottom",e:"right"},p=1500,e={n:"s",w:"e",s:"n",e:"w"},s=20;function o(x,R,S,I,W,Y){this._canvas=x,this._dragging=R,this._eventBus=S,this._modeling=I,this._rules=W,this._toolManager=Y;var rt=this;Y.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),S.on("spaceTool.selection.end",function(tt){S.once("spaceTool.selection.ended",function(){rt.activateMakeSpace(tt.originalEvent)})}),S.on("spaceTool.move",p,function(tt){var J=tt.context,z=J.initialized;z||(z=J.initialized=rt.init(tt,J)),z&&E(tt)}),S.on("spaceTool.end",function(tt){var J=tt.context,z=J.direction,U=J.movingShapes,A=J.resizingShapes,c=J.start;if(J.initialized){E(tt);var i=rt.getDelta(tt);rt.makeSpace(U,A,i,z,c),S.once("spaceTool.ended",function(n){rt.activateSelection(n.originalEvent,!0,!0)})}})}o.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager"],o.prototype.activateSelection=function(x,R,S){this._dragging.init(x,"spaceTool.selection",{autoActivate:R,cursor:l,data:{context:{reactivate:S}},trapClick:!1})},o.prototype.activateMakeSpace=function(x){this._dragging.init(x,"spaceTool",{autoActivate:!0,cursor:l,data:{context:{}}})},o.prototype.makeSpace=function(x,R,S,I,W){return this._modeling.createSpace(x,R,S,I,W)},o.prototype.init=function(x,R){var S=_(x.dx)>_(x.dy)?"x":"y",I=x["d"+S],W=x[S]-I;if(_(I)<5)return!1;I<0&&(I*=-1),(0,T.Io)(x)&&(I*=-1);var Y=(0,g.u6)(S,I),rt=this._canvas.getRootElement(),tt=(0,C.cZ)(rt,!0),J=this.calculateAdjustments(tt,S,I,W),z=this._eventBus.fire("spaceTool.getMinDimensions",{shapes:J.resizingShapes}),U=v(J,S,Y,W,z);return(0,a.assign)(R,J,{axis:S,direction:Y,spaceToolConstraints:U,start:W}),(0,u.hZ)("resize-"+(S==="x"?"ew":"ns")),!0},o.prototype.calculateAdjustments=function(x,R,S,I){var W=this._rules,Y=[],rt=[];return(0,a.forEach)(x,function(tt){if(!(!tt.parent||O(tt))){var J=tt[R],z=J+tt[m[R]];if(S>0&&J>I||S<0&&z<I)return Y.push(tt);if(J<I&&z>I&&W.allowed("shape.resize",{shape:tt}))return rt.push(tt)}}),{movingShapes:Y,resizingShapes:rt}},o.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},o.prototype.isActive=function(){var x=this._dragging.context();return x&&/^spaceTool/.test(x.prefix)},o.prototype.getDelta=function(x){var R=x.context,S=R.axis,I={x:0,y:0};return I[S]=P(x["d"+S]),I};function y(x){return{top:x.top-s,right:x.right+s,bottom:x.bottom+s,left:x.left-s}}function E(x){var R=x.context,S=R.spaceToolConstraints;if(S){var I,W;(0,a.isNumber)(S.left)&&(I=Math.max(x.x,S.left),x.dx=x.dx+I-x.x,x.x=I),(0,a.isNumber)(S.right)&&(I=Math.min(x.x,S.right),x.dx=x.dx+I-x.x,x.x=I),(0,a.isNumber)(S.top)&&(W=Math.max(x.y,S.top),x.dy=x.dy+W-x.y,x.y=W),(0,a.isNumber)(S.bottom)&&(W=Math.min(x.y,S.bottom),x.dy=x.dy+W-x.y,x.y=W)}}function v(x,R,S,I,W){var Y=x.movingShapes,rt=x.resizingShapes;if(rt.length){var tt={},J,z;return(0,a.forEach)(rt,function(U){var A=(0,d.Fy)(U),c=(0,a.filter)(U.children,function(F){return!O(F)&&!b(F)&&!M(Y,F)&&!M(rt,F)}),i=(0,a.filter)(U.children,function(F){return!O(F)&&!b(F)&&M(Y,F)}),n,r,f;c.length&&(r=y((0,d.Fy)((0,C.U7)(c))),n=I-A[t[S]]+r[t[S]],S==="n"?tt.bottom=z=(0,a.isNumber)(z)?Math.min(z,n):n:S==="w"?tt.right=z=(0,a.isNumber)(z)?Math.min(z,n):n:S==="s"?tt.top=J=(0,a.isNumber)(J)?Math.max(J,n):n:S==="e"&&(tt.left=J=(0,a.isNumber)(J)?Math.max(J,n):n)),i.length&&(f=y((0,d.Fy)((0,C.U7)(i))),n=I-f[t[e[S]]]+A[t[e[S]]],S==="n"?tt.bottom=z=(0,a.isNumber)(z)?Math.min(z,n):n:S==="w"?tt.right=z=(0,a.isNumber)(z)?Math.min(z,n):n:S==="s"?tt.top=J=(0,a.isNumber)(J)?Math.max(J,n):n:S==="e"&&(tt.left=J=(0,a.isNumber)(J)?Math.max(J,n):n));var D=W&&W[U.id];D&&(S==="n"?(n=I+U[m[R]]-D[m[R]],tt.bottom=z=(0,a.isNumber)(z)?Math.min(z,n):n):S==="w"?(n=I+U[m[R]]-D[m[R]],tt.right=z=(0,a.isNumber)(z)?Math.min(z,n):n):S==="s"?(n=I-U[m[R]]+D[m[R]],tt.top=J=(0,a.isNumber)(J)?Math.max(J,n):n):S==="e"&&(n=I-U[m[R]]+D[m[R]],tt.left=J=(0,a.isNumber)(J)?Math.max(J,n):n))}),tt}}function M(x,R){return x.indexOf(R)!==-1}function O(x){return!!x.waypoints}function b(x){return!!x.labelTarget}},7264:(ot,V,h)=>{h.d(V,{A:()=>P});var a=h(98218),N=h.n(a),d=h(33225),C=h(52965),g="djs-dragging",T="djs-resizing",u=250,_=Math.max;function P(l,t,p,e,s){var o=this;function y(E,v){(0,a.forEach)(E,function(M){s.addDragger(M,v),p.addMarker(M,g)})}l.on("spaceTool.selection.start",function(E){var v=p.getLayer("space"),M=E.context,O={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},b=(0,d.vt)("g");(0,d.CF)(b,e.cls("djs-crosshair-group",["no-events"])),(0,d.BC)(v,b);var x=(0,d.vt)("path");(0,d.CF)(x,"d",O.x),(0,d.Ly)(x).add("djs-crosshair"),(0,d.BC)(b,x);var R=(0,d.vt)("path");(0,d.CF)(R,"d",O.y),(0,d.Ly)(R).add("djs-crosshair"),(0,d.BC)(b,R),M.crosshairGroup=b}),l.on("spaceTool.selection.move",function(E){var v=E.context.crosshairGroup;(0,C.Tl)(v,E.x,E.y)}),l.on("spaceTool.selection.cleanup",function(E){var v=E.context,M=v.crosshairGroup;M&&(0,d.TF)(M)}),l.on("spaceTool.move",u,function(E){var v=E.context,M=v.line,O=v.axis,b=v.movingShapes,x=v.resizingShapes;if(v.initialized){if(!v.dragGroup){var R=p.getLayer("space");M=(0,d.vt)("path"),(0,d.CF)(M,"d","M0,0 L0,0"),(0,d.Ly)(M).add("djs-crosshair"),(0,d.BC)(R,M),v.line=M;var S=(0,d.vt)("g");(0,d.CF)(S,e.cls("djs-drag-group",["no-events"])),(0,d.BC)(p.getDefaultLayer(),S),y(b,S);var I=v.movingConnections=t.filter(function(J){var z=!1;(0,a.forEach)(b,function(i){(0,a.forEach)(i.outgoing,function(n){J===n&&(z=!0)})});var U=!1;(0,a.forEach)(b,function(i){(0,a.forEach)(i.incoming,function(n){J===n&&(U=!0)})});var A=!1;(0,a.forEach)(x,function(i){(0,a.forEach)(i.outgoing,function(n){J===n&&(A=!0)})});var c=!1;return(0,a.forEach)(x,function(i){(0,a.forEach)(i.incoming,function(n){J===n&&(c=!0)})}),m(J)&&(z||A)&&(U||c)});y(I,S),v.dragGroup=S}if(!v.frameGroup){var W=(0,d.vt)("g");(0,d.CF)(W,e.cls("djs-frame-group",["no-events"])),(0,d.BC)(p.getDefaultLayer(),W);var Y=[];(0,a.forEach)(x,function(J){var z=s.addFrame(J,W),U=z.getBBox();Y.push({element:z,initialBounds:U}),p.addMarker(J,T)}),v.frameGroup=W,v.frames=Y}var rt={x:"M"+E.x+", -10000 L"+E.x+", 10000",y:"M -10000, "+E.y+" L 10000, "+E.y};(0,d.CF)(M,{d:rt[O]});var tt=o.getDelta(E);(0,C.Tl)(v.dragGroup,tt.x,tt.y),(0,a.forEach)(v.frames,function(J){var z=J.element,U=J.initialBounds,A,c;v.direction==="e"?(0,d.CF)(z,{width:_(U.width+tt.x,5)}):(A=_(U.width-tt.x,5),(0,d.CF)(z,{width:A,x:U.x+U.width-A})),v.direction==="s"?(0,d.CF)(z,{height:_(U.height+tt.y,5)}):(c=_(U.height-tt.y,5),(0,d.CF)(z,{height:c,y:U.y+U.height-c}))})}}),l.on("spaceTool.cleanup",function(E){var v=E.context,M=v.movingShapes,O=v.movingConnections,b=v.resizingShapes,x=v.line,R=v.dragGroup,S=v.frameGroup;(0,a.forEach)(M,function(I){p.removeMarker(I,g)}),(0,a.forEach)(O,function(I){p.removeMarker(I,g)}),R&&((0,d.TF)(x),(0,d.TF)(R)),(0,a.forEach)(b,function(I){p.removeMarker(I,T)}),S&&(0,d.TF)(S)})}P.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];function m(l){return l.waypoints}P.prototype.getDelta=function(l){var t=l.context,p={x:"y",y:"x"},e={x:l.dx,y:l.dy};return e[p[t.axis]]=0,e}},45240:(ot,V,h)=>{h.d(V,{Gq:()=>C,Ih:()=>T,u6:()=>d});var a=h(98218),N=h.n(a);function d(u,_){if(u==="x"){if(_>0)return"e";if(_<0)return"w"}if(u==="y"){if(_>0)return"s";if(_<0)return"n"}return null}function C(u,_){var P=[];return(0,a.forEach)(u,function(m){var l=m.incoming,t=m.outgoing;(0,a.forEach)(l.concat(t),function(p){var e=p.source,s=p.target;(g(u,e)||g(u,s)||g(_,e)||g(_,s))&&(g(P,p)||P.push(p))})}),P}function g(u,_){return u.indexOf(_)!==-1}function T(u,_,P){var m=u.x,l=u.y,t=u.width,p=u.height,e=P.x,s=P.y;switch(_){case"n":return{x:m,y:l+s,width:t,height:p-s};case"s":return{x:m,y:l,width:t,height:p+s};case"w":return{x:m+e,y:l,width:t-e,height:p};case"e":return{x:m,y:l,width:t+e,height:p};default:throw new Error("unknown direction: "+_)}}},28400:(ot,V,h)=>{h.d(V,{A:()=>l});var a=h(98218),N=h(52687),d=h(50941),C=new d.A("tt");function g(t){var p=(0,N.domify)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />');return t.insertBefore(p,t.firstChild),p}function T(t,p,e){(0,a.assign)(t.style,{left:p+"px",top:e+"px"})}function u(t,p){t.style.display=p===!1?"none":""}var _="djs-tooltip",P="."+_;function m(t,p){this._eventBus=t,this._canvas=p,this._ids=C,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=g(p.getContainer());var e=this;N.delegate.bind(this._tooltipRoot,P,"mousedown",function(s){s.stopPropagation()}),N.delegate.bind(this._tooltipRoot,P,"mouseover",function(s){e.trigger("mouseover",s)}),N.delegate.bind(this._tooltipRoot,P,"mouseout",function(s){e.trigger("mouseout",s)}),this._init()}m.$inject=["eventBus","canvas"],m.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var p=this._ids.next();return t=(0,a.assign)({},this._tooltipDefaults,t,{id:p}),this._addTooltip(t),t.timeout&&this.setTimeout(t),p},m.prototype.trigger=function(t,p){var e=p.delegateTarget||p.target,s=this.get((0,N.attr)(e,"data-tooltip-id"));s&&(t==="mouseover"&&s.timeout&&this.clearTimeout(s),t==="mouseout"&&s.timeout&&(s.timeout=1e3,this.setTimeout(s)))},m.prototype.get=function(t){return typeof t!="string"&&(t=t.id),this._tooltips[t]},m.prototype.clearTimeout=function(t){if(t=this.get(t),!!t){var p=t.removeTimer;p&&(clearTimeout(p),t.removeTimer=null)}},m.prototype.setTimeout=function(t){if(t=this.get(t),!!t){this.clearTimeout(t);var p=this;t.removeTimer=setTimeout(function(){p.remove(t)},t.timeout)}},m.prototype.remove=function(t){var p=this.get(t);p&&((0,N.remove)(p.html),(0,N.remove)(p.htmlContainer),delete p.htmlContainer,delete this._tooltips[p.id])},m.prototype.show=function(){u(this._tooltipRoot)},m.prototype.hide=function(){u(this._tooltipRoot,!1)},m.prototype._updateRoot=function(t){var p=t.scale||1,e=t.scale||1,s="matrix("+p+",0,0,"+e+","+-1*t.x*p+","+-1*t.y*e+")";this._tooltipRoot.style.transform=s,this._tooltipRoot.style["-ms-transform"]=s},m.prototype._addTooltip=function(t){var p=t.id,e=t.html,s,o=this._tooltipRoot;e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),(0,a.isString)(e)&&(e=(0,N.domify)(e)),s=(0,N.domify)('<div data-tooltip-id="'+p+'" class="'+_+'" style="position: absolute">'),s.appendChild(e),t.type&&(0,N.classes)(s).add("djs-tooltip-"+t.type),t.className&&(0,N.classes)(s).add(t.className),t.htmlContainer=s,o.appendChild(s),this._tooltips[p]=t,this._updateTooltip(t)},m.prototype._updateTooltip=function(t){var p=t.position,e=t.htmlContainer;T(e,p.x,p.y)},m.prototype._updateTooltipVisibilty=function(t){(0,a.forEach)(this._tooltips,function(p){var e=p.show,s=p.htmlContainer,o=!0;e&&((e.minZoom>t.scale||e.maxZoom<t.scale)&&(o=!1),u(s,o))})},m.prototype._init=function(){var t=this;function p(e){t._updateRoot(e),t._updateTooltipVisibilty(e),t.show()}this._eventBus.on("canvas.viewbox.changing",function(e){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(e){p(e.viewbox)})};const l={__init__:["tooltips"],tooltips:["type",m]}},10033:(ot,V,h)=>{h.d(V,{A:()=>N});var a=h(65911);function N(){}N.prototype.layoutConnection=function(d,C){return C=C||{},[C.connectionStart||(0,a.pp)(C.source||d.source),C.connectionEnd||(0,a.pp)(C.target||d.target)]}},23550:(ot,V,h)=>{h.d(V,{A:()=>g});var a=h(98218),N=h.n(a),d=h(65911);function C(T){return(0,a.assign)({original:T.point.original||T.point},T.actual)}function g(T,u){this._elementRegistry=T,this._graphicsFactory=u}g.$inject=["elementRegistry","graphicsFactory"],g.prototype.getCroppedWaypoints=function(T,u,_){u=u||T.source,_=_||T.target;var P=this.getDockingPoint(T,u,!0),m=this.getDockingPoint(T,_),l=T.waypoints.slice(P.idx+1,m.idx);return l.unshift(C(P)),l.push(C(m)),l},g.prototype.getDockingPoint=function(T,u,_){var P=T.waypoints,m,l,t;return m=_?0:P.length-1,l=P[m],t=this._getIntersection(u,T,_),{point:l,actual:t||l,idx:m}},g.prototype._getIntersection=function(T,u,_){var P=this._getShapePath(T),m=this._getConnectionPath(u);return(0,d.ki)(P,m,_)},g.prototype._getConnectionPath=function(T){return this._graphicsFactory.getConnectionPath(T)},g.prototype._getShapePath=function(T){return this._graphicsFactory.getShapePath(T)},g.prototype._getGfx=function(T){return this._elementRegistry.getGraphics(T)}},65911:(ot,V,h)=>{h.d(V,{Au:()=>T,Fy:()=>_,PG:()=>u,Wy:()=>e,cD:()=>P,ki:()=>t,pp:()=>m,vc:()=>l});var a=h(98218),N=h.n(a),d=h(92159),C=h(38305),g=h.n(C);function T(s){return{x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.width),height:Math.round(s.height)}}function u(s){return{x:Math.round(s.x),y:Math.round(s.y)}}function _(s){return{top:s.y,right:s.x+(s.width||0),bottom:s.y+(s.height||0),left:s.x}}function P(s){return{x:s.left,y:s.top,width:s.right-s.left,height:s.bottom-s.top}}function m(s){return u({x:s.x+(s.width||0)/2,y:s.y+(s.height||0)/2})}function l(s,o,y){y=y||0,(0,a.isObject)(y)||(y={x:y,y});var E=_(s),v=_(o),M=E.bottom+y.y<=v.top,O=E.left-y.x>=v.right,b=E.top-y.y>=v.bottom,x=E.right+y.x<=v.left,R=M?"top":b?"bottom":null,S=x?"left":O?"right":null;return S&&R?R+"-"+S:S||R||"intersect"}function t(s,o,y){var E=p(s,o);return E.length===1||E.length===2&&(0,d.cK)(E[0],E[1])<1?u(E[0]):E.length>1?(E=(0,a.sortBy)(E,function(v){var M=Math.floor(v.t2*100)||1;return M=100-M,M=(M<10?"0":"")+M,v.segment2+"#"+M}),u(E[y?0:E.length-1])):null}function p(s,o){return g()(s,o)}function e(s){s=s.slice();for(var o=0,y,E,v;s[o];)y=s[o],E=s[o-1],v=s[o+1],(0,d.cK)(y,v)===0||(0,d.XP)(E,v,y)?s.splice(o,1):o++;return s}},74419:(ot,V,h)=>{h.d(V,{WI:()=>O,Z9:()=>M,d7:()=>U});var a=h(98218),N=h.n(a),d=h(65911),C=h(92159),g=20,T=5,u=Math.round,_=20,P={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function m(A,c){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[c].test(A)}function l(A,c){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[A].test(c)}function t(A,c,i){var n=(0,d.vc)(c,A,T),r=i.split(":")[0],f=u((c.x-A.x)/2+A.x),D=u((c.y-A.y)/2+A.y),F,G,Z=l(r,n),X=/h|r|l/.test(r),q=!1,it=!1;return Z?(F=X?{x:f,y:A.y}:{x:A.x,y:D},G=X?"h:h":"v:v"):(q=m(n,r),G=X?"h:v":"v:h",q?X?(it=D===A.y,F={x:A.x+g*(/l/.test(r)?-1:1),y:it?D+g:D}):(it=f===A.x,F={x:it?f+g:f,y:A.y+g*(/t/.test(r)?-1:1)}):F={x:f,y:D}),{waypoints:E(A,F,G).concat(F),directions:G,turnNextDirections:it}}function p(A,c,i){return t(A,c,i)}function e(A,c,i){var n=t(c,A,o(i));return{waypoints:n.waypoints.slice().reverse(),directions:o(n.directions),turnNextDirections:n.turnNextDirections}}function s(A,c){var i=A.directions.split(":")[1],n=c.directions.split(":")[0];A.turnNextDirections&&(i=i=="h"?"v":"h"),c.turnNextDirections&&(n=n=="h"?"v":"h");var r=i+":"+n,f=E(A.waypoints[A.waypoints.length-1],c.waypoints[0],r);return{waypoints:f,directions:r}}function o(A){return A.split(":").reverse().join(":")}function y(A,c,i){var n=u((c.x-A.x)/2+A.x),r=u((c.y-A.y)/2+A.y);if(i==="h:v")return[{x:c.x,y:A.y}];if(i==="v:h")return[{x:A.x,y:c.y}];if(i==="h:h")return[{x:n,y:A.y},{x:n,y:c.y}];if(i==="v:v")return[{x:A.x,y:r},{x:c.x,y:r}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function E(A,c,i){if(i=i||"h:h",!rt(i))throw new Error("unknown directions: <"+i+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(tt(i)){var n=p(A,c,i),r=e(A,c,i),f=s(n,r);return[].concat(n.waypoints,f.waypoints,r.waypoints)}return y(A,c,i)}function v(A,c,i){var n=E(A,c,i);return n.unshift(A),n.push(c),U(n)}function M(A,c,i,n,r){var f=r&&r.preferredLayouts||[],D=(0,a.without)(f,"straight")[0]||"h:h",F=P[D]||0,G=(0,d.vc)(A,c,F),Z=Y(G,D);i=i||(0,d.pp)(A),n=n||(0,d.pp)(c);var X=Z.split(":"),q=z(i,A,X[0],J(G)),it=z(n,c,X[1],G);return v(q,it,Z)}function O(A,c,i,n,r,f){(0,a.isArray)(i)&&(r=i,f=n,i=(0,d.pp)(A),n=(0,d.pp)(c)),f=(0,a.assign)({preferredLayouts:[]},f),r=r||[];var D=f.preferredLayouts,F=D.indexOf("straight")!==-1,G;return G=F&&R(A,c,i,n,f),G||(G=f.connectionEnd&&I(c,A,n,r),G)||(G=f.connectionStart&&S(A,c,i,r),G)?G:!f.connectionStart&&!f.connectionEnd&&r&&r.length?r:M(A,c,i,n,f)}function b(A,c,i){return A>=c&&A<=i}function x(A,c,i){var n={x:"width",y:"height"};return b(c[A],i[A],i[A]+i[n[A]])}function R(A,c,i,n,r){var f={},D,F;return F=(0,d.vc)(A,c),/^(top|bottom|left|right)$/.test(F)?(/top|bottom/.test(F)&&(D="x"),/left|right/.test(F)&&(D="y"),r.preserveDocking==="target"?x(D,n,A)?(f[D]=n[D],[{x:f.x!==void 0?f.x:i.x,y:f.y!==void 0?f.y:i.y,original:{x:f.x!==void 0?f.x:i.x,y:f.y!==void 0?f.y:i.y}},{x:n.x,y:n.y}]):null:x(D,i,c)?(f[D]=i[D],[{x:i.x,y:i.y},{x:f.x!==void 0?f.x:n.x,y:f.y!==void 0?f.y:n.y,original:{x:f.x!==void 0?f.x:n.x,y:f.y!==void 0?f.y:n.y}}]):null):null}function S(A,c,i,n){return W(A,c,i,n)}function I(A,c,i,n){var r=n.slice().reverse();return r=W(A,c,i,r),r?r.reverse():null}function W(A,c,i,n){function r(X){return X.length<3?!0:X.length>4?!1:!!(0,a.find)(X,function(q,it){var K=X[it-1];return K&&(0,C.cK)(q,K)<3})}function f(X,q,it){var K=(0,C.ke)(q,X);switch(K){case"v":return{x:it.x,y:X.y};case"h":return{x:X.x,y:it.y}}return{x:X.x,y:X.y}}function D(X,q,it){var K;for(K=X.length-2;K!==0;K--)if((0,C.El)(X[K],q,_)||(0,C.El)(X[K],it,_))return X.slice(K);return X}if(r(n))return null;var F=n[0],G=n.slice(),Z;return G[0]=i,G[1]=f(G[1],F,i),Z=D(G,A,c),Z!==G&&(G=W(A,c,i,Z)),G&&(0,C.ke)(G)?null:G}function Y(A,c){if(tt(c))return c;switch(A){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return c}}function rt(A){return A&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(A)}function tt(A){return A&&/t|r|b|l/.test(A)}function J(A){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[A]}function z(A,c,i,n){if(i==="h"&&(i=/left/.test(n)?"l":"r"),i==="v"&&(i=/top/.test(n)?"t":"b"),i==="t")return{original:A,x:A.x,y:c.y};if(i==="r")return{original:A,x:c.x+c.width,y:A.y};if(i==="b")return{original:A,x:A.x,y:c.y+c.height};if(i==="l")return{original:A,x:c.x,y:A.y};throw new Error("unexpected dockingDirection: <"+i+">")}function U(A){return A.reduce(function(c,i,n){var r=c[c.length-1],f=A[n+1];return(0,C.XP)(r,f,i,0)||c.push(i),c},[])}},49096:(ot,V,h)=>{h.d(V,{C6:()=>t,bL:()=>e,vt:()=>E});var a=h(98218),N=h.n(a),d=h(51270),C=h.n(d),g=h(82867),T=h.n(g),u=new(T())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),_=new(T())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),P=new(T())({name:"attachers",collection:!0},{name:"host"}),m=new(T())({name:"outgoing",collection:!0},{name:"source"}),l=new(T())({name:"incoming",collection:!0},{name:"target"});function t(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(v){var M=this.label,O=this.labels;!v&&M?O.remove(M):O.add(v,0)}}),u.bind(this,"parent"),_.bind(this,"labels"),m.bind(this,"outgoing"),l.bind(this,"incoming")}function p(){t.call(this),u.bind(this,"children"),P.bind(this,"host"),P.bind(this,"attachers")}C()(p,t);function e(){p.call(this)}C()(e,p);function s(){p.call(this),_.bind(this,"labelTarget")}C()(s,p);function o(){t.call(this),m.bind(this,"source"),l.bind(this,"target")}C()(o,t);var y={connection:o,shape:p,label:s,root:e};function E(v,M){var O=y[v];if(!O)throw new Error("unknown type: <"+v+">");return(0,a.assign)(new O,M)}},64916:(ot,V,h)=>{h.d(V,{A:()=>P});var a=h(46837),N=h(200),d=h(56764),C=h(52687),g=h(86439),T=15;function u(m,l){var t;m.on("element.mousedown",500,function(o){return s(o.originalEvent)});function p(o){var y=t.start,E=(0,g.gK)(o),v=(0,d.p)(E,y);if(!t.dragging&&_(v)>T&&(t.dragging=!0,(0,N.a)(m),(0,a.hZ)("grab")),t.dragging){var M=t.last||t.start;v=(0,d.p)(E,M),l.scroll({dx:v.x,dy:v.y}),t.last=E}o.preventDefault()}function e(o){C.event.unbind(document,"mousemove",p),C.event.unbind(document,"mouseup",e),t=null,(0,a.wC)()}function s(o){if(!(0,C.closest)(o.target,".djs-draggable")&&!(o.button||o.ctrlKey||o.shiftKey||o.altKey))return t={start:(0,g.gK)(o)},C.event.bind(document,"mousemove",p),C.event.bind(document,"mouseup",e),!0}}u.$inject=["eventBus","canvas"];function _(m){return Math.sqrt(Math.pow(m.x,2)+Math.pow(m.y,2))}const P={__init__:["moveCanvas"],moveCanvas:["type",u]}},32959:(ot,V,h)=>{h.d(V,{A:()=>E});var a=h(69380),N=h(98218),d=h(52687),C=h(66716),g=h.n(C),T=h(86439),u=.2,_=4,P=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function m(){}function l(v,M){return M.get(v,!1)}function t(v){v.preventDefault(),v.stopPropagation(),typeof v.stopImmediatePropagation=="function"&&v.stopImmediatePropagation()}function p(v){function M(Y){(0,N.forEach)(P,function(rt){d.event.bind(v,rt,t,!0)})}function O(Y){setTimeout(function(){(0,N.forEach)(P,function(rt){d.event.unbind(v,rt,t,!0)})},500)}d.event.bind(v,"touchstart",M,!0),d.event.bind(v,"touchend",O,!0),d.event.bind(v,"touchcancel",O,!0);var b=new(g()).Manager(v,{inputClass:g().TouchInput,recognizers:[]}),x=new(g()).Tap,R=new(g()).Pan({threshold:10}),S=new(g()).Press,I=new(g()).Pinch,W=new(g()).Tap({event:"doubletap",taps:2});return I.requireFailure(R),I.requireFailure(S),b.add([R,S,I,W,x]),b.reset=function(Y){var rt=this.recognizers,tt=this.session;tt.stopped||(b.stop(Y),setTimeout(function(){var J,z;for(J=0;z=rt[J];J++)z.reset(),z.state=8;tt.curRecognizer=null},0))},b.on("hammer.input",function(Y){Y.srcEvent.defaultPrevented&&b.reset(!0)}),b}function e(v,M,O,b,x){var R=l("dragging",v),S=l("move",v),I=l("contextPad",v),W=l("palette",v),Y;function rt(z){return function(U){x.fire(z,U)}}function tt(z){var U=(0,d.closest)(z,"svg, .djs-element",!0);return U}function J(z){Y=p(z),Y.on("doubletap",rt("element.dblclick")),Y.on("tap",rt("element.click"));function U(i){var n=0,r=0;function f(F){var G=F.deltaX-n,Z=F.deltaY-r;M.scroll({dx:G,dy:Z}),n=F.deltaX,r=F.deltaY}function D(F){Y.off("panmove",f),Y.off("panend",D),Y.off("pancancel",D)}Y.on("panmove",f),Y.on("panend",D),Y.on("pancancel",D)}function A(i){var n=tt(i.target),r=n&&b.get(n);if(S&&M.getRootElement()!==r)return S.start(i,r,!0);U(i)}function c(i){var n=M.zoom(),r=i.center;function f(F){var G=1-(1-F.scale)/1.5,Z=Math.max(u,Math.min(_,G*n));M.zoom(Z,r),t(F)}function D(F){Y.off("pinchmove",f),Y.off("pinchend",D),Y.off("pinchcancel",D),Y.reset(!0)}Y.on("pinchmove",f),Y.on("pinchend",D),Y.on("pinchcancel",D)}Y.on("panstart",A),Y.on("press",A),Y.on("pinchstart",c)}R&&O.on("drag.move",function(z){var U=z.originalEvent;if(!(!U||U instanceof MouseEvent)){var A=(0,T.gK)(U),c=document.elementFromPoint(A.x,A.y),i=tt(c),n=i&&b.get(i);n!==z.hover&&(z.hover&&R.out(z),n&&(R.hover({element:n,gfx:i}),z.hover=n,z.hoverGfx=i))}}),I&&O.on("contextPad.create",function(z){var U=z.pad.html,A=p(U);A.on("panstart",function(c){I.trigger("dragstart",c,!0)}),A.on("press",function(c){I.trigger("dragstart",c,!0)}),A.on("tap",function(c){I.trigger("click",c)})}),W&&O.on("palette.create",function(z){var U=z.container,A=p(U);A.on("panstart",function(c){W.trigger("dragstart",c,!0)}),A.on("press",function(c){W.trigger("dragstart",c,!0)}),A.on("tap",function(c){W.trigger("click",c)})}),O.on("canvas.init",function(z){J(z.svg)})}e.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"];var s=h(33225);function o(v,M){var O=this;M.on("canvas.init",function(b){O.addBBoxMarker(b.svg)})}o.$inject=["canvas","eventBus"],o.prototype.addBBoxMarker=function(v){var M={fill:"none",class:"outer-bound-marker"},O=(0,s.vt)("rect");(0,s.CF)(O,{x:-1e4,y:1e4,width:10,height:10}),(0,s.CF)(O,M),(0,s.BC)(v,O);var b=(0,s.vt)("rect");(0,s.CF)(b,{x:1e4,y:1e4,width:10,height:10}),(0,s.CF)(b,M),(0,s.BC)(v,b)};const E={__depends__:[{__depends__:[a.A],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",e],touchFix:["type",o]}]}},436:(ot,V,h)=>{h.d(V,{A:()=>t});var a=h(52687),N=h.n(a),d=h(56165),C=h(55817),g=h(98218),T=h.n(g),u=Math.sign||function(p){return p>=0?1:-1},_={min:.2,max:4},P=10,m=.1,l=.75;function t(p,e,s){p=p||{},this._enabled=!1,this._canvas=s,this._container=s._container,this._handleWheel=(0,g.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=p.scale||l;var o=this;e.on("canvas.init",function(y){o._init(p.enabled!==!1)})}t.$inject=["config.zoomScroll","eventBus","canvas"],t.prototype.scroll=function(e){this._canvas.scroll(e)},t.prototype.reset=function(){this._canvas.zoom("fit-viewport")},t.prototype.zoom=function(e,s){var o=(0,d.U)(_,P*2);this._totalDelta+=e,Math.abs(this._totalDelta)>m&&(this._zoom(e,s,o),this._totalDelta=0)},t.prototype._handleWheel=function(e){if(!(0,a.closest)(e.target,".djs-scrollable",!0)){var s=this._container;e.preventDefault();var o=e.ctrlKey,y=e.shiftKey,E=-1*this._scale,v;if(o?E*=e.deltaMode===0?.02:.32:E*=e.deltaMode===0?1:16,o){var M=s.getBoundingClientRect(),O={x:e.clientX-M.left,y:e.clientY-M.top};v=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*u(e.deltaY)*E,this.zoom(v,O)}else y?v={dx:E*e.deltaY,dy:0}:v={dx:E*e.deltaX,dy:E*e.deltaY},this.scroll(v)}},t.prototype.stepZoom=function(e,s){var o=(0,d.U)(_,P);this._zoom(e,s,o)},t.prototype._zoom=function(p,e,s){var o=this._canvas,y=p>0?1:-1,E=(0,C.Y)(o.zoom()),v=Math.round(E/s)*s;v+=s*y;var M=Math.pow(10,v);o.zoom((0,d.N)(_,M),e)},t.prototype.toggle=function(e){var s=this._container,o=this._handleWheel,y=this._enabled;return typeof e>"u"&&(e=!y),y!==e&&a.event[e?"bind":"unbind"](s,"wheel",o,!1),this._enabled=e,e},t.prototype._init=function(p){this.toggle(p)}},56165:(ot,V,h)=>{h.d(V,{N:()=>d,U:()=>N});var a=h(55817);function N(C,g){var T=(0,a.Y)(C.min),u=(0,a.Y)(C.max),_=Math.abs(T)+Math.abs(u);return _/g}function d(C,g){return Math.max(C.min,Math.min(C.max,g))}},81284:(ot,V,h)=>{h.d(V,{A:()=>N});var a=h(436);const N={__init__:["zoomScroll"],zoomScroll:["type",a.A]}},200:(ot,V,h)=>{h.d(V,{a:()=>N});var a=5e3;function N(d,C){C=C||"element.click";function g(){return!1}return d.once(C,a,g),function(){d.off(C,g)}}},6958:(ot,V,h)=>{h.d(V,{TF:()=>a,WQ:()=>N,qh:()=>d});function a(C,g){if(!C||!g)return-1;var T=C.indexOf(g);return T!==-1&&C.splice(T,1),T}function N(C,g,T){if(!(!C||!g)){typeof T!="number"&&(T=-1);var u=C.indexOf(g);if(u!==-1){if(u===T)return;if(T!==-1)C.splice(u,1);else return}T!==-1?C.splice(T,0,g):C.push(g)}}function d(C,g){return!C||!g?-1:C.indexOf(g)}},46837:(ot,V,h)=>{h.d(V,{hZ:()=>C,wC:()=>g});var a=h(52687),N=h.n(a),d=/^djs-cursor-.*$/;function C(u){var _=(0,a.classes)(document.body);_.removeMatching(d),u&&_.add("djs-cursor-"+u)}function g(){C(null)}function T(u){var _=domClasses(document.body);return _.has("djs-cursor-"+u)}},10018:(ot,V,h)=>{h.d(V,{Pw:()=>p,U7:()=>l,cZ:()=>P,eb:()=>e,qO:()=>T,rx:()=>t,wT:()=>d,yO:()=>m});var a=h(98218),N=h.n(a);function d(o){return(0,a.filter)(o,function(y){return!(0,a.find)(o,function(E){return E!==y&&C(y,E)})})}function C(o,y){if(y){if(o===y)return y;if(o.parent)return C(o.parent,y)}}function g(o,y,E){var v=!E||o.indexOf(y)===-1;return v&&o.push(y),v}function T(o,y,E){E=E||0,(0,a.isArray)(o)||(o=[o]),(0,a.forEach)(o,function(v,M){var O=y(v,M,E);(0,a.isArray)(O)&&O.length&&T(O,y,E+1)})}function u(o,y,E){var v=[],M=[];return T(o,function(O,b,x){g(v,O,y);var R=O.children;if((E===-1||x<E)&&R&&g(M,R,y))return R}),v}function _(o,y){return u(o,!y,1)}function P(o,y){return u(o,!y,-1)}function m(o,y,E){(0,a.isUndefined)(y)&&(y=!0),(0,a.isObject)(y)&&(E=y,y=!0),E=E||{};var v=s(E.allShapes),M=s(E.allConnections),O=s(E.enclosedElements),b=s(E.enclosedConnections),x=s(E.topLevel,y&&(0,a.groupBy)(o,function(I){return I.id}));function R(I){x[I.source.id]&&x[I.target.id]&&(x[I.id]=[I]),v[I.source.id]&&v[I.target.id]&&(b[I.id]=O[I.id]=I),M[I.id]=I}function S(I){if(O[I.id]=I,I.waypoints)b[I.id]=M[I.id]=I;else return v[I.id]=I,(0,a.forEach)(I.incoming,R),(0,a.forEach)(I.outgoing,R),I.children}return T(o,S),{allShapes:v,allConnections:M,topLevel:x,enclosedConnections:b,enclosedElements:O}}function l(o,y){y=!!y,(0,a.isArray)(o)||(o=[o]);var E,v,M,O;return(0,a.forEach)(o,function(b){var x=b;b.waypoints&&!y&&(x=l(b.waypoints,!0));var R=x.x,S=x.y,I=x.height||0,W=x.width||0;(R<E||E===void 0)&&(E=R),(S<v||v===void 0)&&(v=S),(R+W>M||M===void 0)&&(M=R+W),(S+I>O||O===void 0)&&(O=S+I)}),{x:E,y:v,height:O-v,width:M-E}}function t(o,y){var E={};return(0,a.forEach)(o,function(v){var M=v;M.waypoints&&(M=l(M)),!(0,a.isNumber)(y.y)&&M.x>y.x&&(E[v.id]=v),!(0,a.isNumber)(y.x)&&M.y>y.y&&(E[v.id]=v),M.x>y.x&&M.y>y.y&&((0,a.isNumber)(y.width)&&(0,a.isNumber)(y.height)&&M.width+M.x<y.width+y.x&&M.height+M.y<y.height+y.y||!(0,a.isNumber)(y.width)||!(0,a.isNumber)(y.height))&&(E[v.id]=v)}),E}function p(o){return"waypoints"in o?"connection":"x"in o?"shape":"root"}function e(o){return!!(o&&o.isFrame)}function s(o,y){return(0,a.assign)({},o||{},y||{})}},86439:(ot,V,h)=>{h.d(V,{AF:()=>N,dG:()=>d,gK:()=>C});function a(g){!g||typeof g.stopPropagation!="function"||g.stopPropagation()}function N(g){return g.originalEvent||g.srcEvent}function d(g,T){a(g,T),a(N(g),T)}function C(g){return g.pointers&&g.pointers.length&&(g=g.pointers[0]),g.touches&&g.touches.length&&(g=g.touches[0]),g?{x:g.clientX,y:g.clientY}:null}},92159:(ot,V,h)=>{h.d(V,{El:()=>P,P8:()=>m,XP:()=>C,cK:()=>d,ke:()=>T});var a=h(98218),N=h.n(a);function d(l,t){return!l||!t?-1:Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2))}function C(l,t,p,e){if(typeof e>"u"&&(e=5),!l||!t||!p)return!1;var s=(t.x-l.x)*(p.y-l.y)-(t.y-l.y)*(p.x-l.x),o=d(l,t);return Math.abs(s/o)<=e}var g=2;function T(l,t){var p;return(0,a.isArray)(l)?p=l:p=[l,t],u(p)?"h":_(p)?"v":!1}function u(l,t){var p;(0,a.isArray)(l)?p=l:p=[l,t];var e=p.slice().shift();return(0,a.every)(p,function(s){return Math.abs(e.y-s.y)<=g})}function _(l,t){var p;(0,a.isArray)(l)?p=l:p=[l,t];var e=p.slice().shift();return(0,a.every)(p,function(s){return Math.abs(e.x-s.x)<=g})}function P(l,t,p){return p=p||0,l.x>t.x-p&&l.y>t.y-p&&l.x<t.x+t.width+p&&l.y<t.y+t.height+p}function m(l,t){return{x:Math.round(l.x+(t.x-l.x)/2),y:Math.round(l.y+(t.y-l.y)/2)}}},12266:(ot,V,h)=>{h.d(V,{P:()=>a,i:()=>N});function a(d){return d.childNodes[0]}function N(d){return d.parentNode.childNodes[1]}},50941:(ot,V,h)=>{h.d(V,{A:()=>a});function a(N){this._counter=0,this._prefix=(N?N+"-":"")+Math.floor(Math.random()*1e9)+"-"}a.prototype.next=function(){return this._prefix+ ++this._counter}},55817:(ot,V,h)=>{h.d(V,{Y:()=>a});function a(N){return Math.log(N)/Math.log(10)}},60053:(ot,V,h)=>{h.d(V,{Io:()=>C,KH:()=>g,ls:()=>d});var a=h(86439);function N(){return/mac/i.test(navigator.platform)}function d(T){return!((0,a.AF)(T)||T).button}function C(T){var u=(0,a.AF)(T)||T;return d(T)?N()?u.metaKey:u.ctrlKey:!1}function g(T){var u=(0,a.AF)(T)||T;return d(T)&&u.shiftKey}},56764:(ot,V,h)=>{h.d(V,{g:()=>a,p:()=>N});function a(d){return{x:d.x+d.width/2,y:d.y+d.height/2}}function N(d,C){return{x:d.x-C.x,y:d.y-C.y}}},91799:(ot,V,h)=>{h.d(V,{l:()=>a});function a(N,d){if(typeof d!="function")throw new Error("removeFn iterator must be a function");if(N){for(var C;C=N[0];)d(C);return N}}},12619:(ot,V,h)=>{h.d(V,{RJ:()=>C,si:()=>g,tx:()=>N});var a=h(33225);function N(T){return T.join(",").replace(/,?([A-z]),?/g,"$1")}function d(T){for(var u="",_=0,P;P=T[_];_++)u+=P.x+","+P.y+" ";return u}function C(T,u){var _=(0,a.vt)("polyline");return(0,a.CF)(_,{points:d(T)}),u&&(0,a.CF)(_,u),_}function g(T,u){return(0,a.CF)(T,{points:d(u)}),T}},52965:(ot,V,h)=>{h.d(V,{Tl:()=>d,e$:()=>C,pd:()=>N});var a=h(33225);function N(T,u,_,P,m){var l=(0,a.l1)();l.setTranslate(u,_);var t=(0,a.l1)();t.setRotate(P||0,0,0);var p=(0,a.l1)();p.setScale(m||1,m||1),(0,a.pd)(T,[l,t,p])}function d(T,u,_){var P=(0,a.l1)();P.setTranslate(u,_),(0,a.pd)(T,P)}function C(T,u){var _=(0,a.l1)();_.setRotate(u,0,0),(0,a.pd)(T,_)}function g(T,u){var _=createTransform();_.setScale(u,u),svgTransform(T,_)}},44156:(ot,V,h)=>{h.d(V,{A:()=>e});var a=h(98218),N=h.n(a),d=h(33225),C=0,g={width:150,height:50};function T(o){var y=o.split("-");return{horizontal:y[0]||"center",vertical:y[1]||"top"}}function u(o){return(0,a.isObject)(o)?(0,a.assign)({top:0,left:0,right:0,bottom:0},o):{top:o,left:o,right:o,bottom:o}}function _(o,y){y.textContent=o;var E;try{var v,M=o==="";return y.textContent=M?"dummy":o,E=y.getBBox(),v={width:E.width+E.x*2,height:E.height},M&&(v.width=0),v}catch{return{width:0,height:0}}}function P(o,y,E){for(var v=o.shift(),M=v,O;;){if(O=_(M,E),O.width=M?O.width:0,M===" "||M===""||Math.round(O.width)<=Math.round(y)||M.length<2)return m(o,M,v,O);M=t(M,O.width,y)}}function m(o,y,E,v){if(y.length<E.length){var M=E.slice(y.length).trim();o.unshift(M)}return{width:v.width,height:v.height,text:y}}function l(o,y){var E=o.split(/(\s|-)/g),v,M=[],O=0;if(E.length>1)for(;v=E.shift();)if(v.length+O<y)M.push(v),O+=v.length;else{v==="-"&&M.pop();break}return M.join("")}function t(o,y,E){var v=Math.max(o.length*(E/y),1),M=l(o,v);return M||(M=o.slice(0,Math.max(Math.round(v-1),1))),M}function p(){var o=document.getElementById("helper-svg");return o||(o=(0,d.vt)("svg"),(0,d.CF)(o,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(o)),o}function e(o){this._config=(0,a.assign)({},{size:g,padding:C,style:{},align:"center-top"},o||{})}e.prototype.createText=function(o,y){return this.layoutText(o,y).element},e.prototype.getDimensions=function(o,y){return this.layoutText(o,y).dimensions},e.prototype.layoutText=function(o,y){var E=(0,a.assign)({},this._config.size,y.box),v=(0,a.assign)({},this._config.style,y.style),M=T(y.align||this._config.align),O=u(y.padding!==void 0?y.padding:this._config.padding),b=y.fitBox||!1,x=s(v),R=o.split(/\r?\n/g),S=[],I=E.width-O.left-O.right,W=(0,d.vt)("text");(0,d.CF)(W,{x:0,y:0}),(0,d.CF)(W,v);var Y=p();for((0,d.BC)(Y,W);R.length;)S.push(P(R,I,W));M.vertical==="middle"&&(O.top=O.bottom=0);var rt=(0,a.reduce)(S,function(A,c,i){return A+(x||c.height)},0)+O.top+O.bottom,tt=(0,a.reduce)(S,function(A,c,i){return c.width>A?c.width:A},0),J=O.top;M.vertical==="middle"&&(J+=(E.height-rt)/2),J-=(x||S[0].height)/4;var z=(0,d.vt)("text");(0,d.CF)(z,v),(0,a.forEach)(S,function(A){var c;switch(J+=x||A.height,M.horizontal){case"left":c=O.left;break;case"right":c=(b?tt:I)-O.right-A.width;break;default:c=Math.max(((b?tt:I)-A.width)/2+O.left,0)}var i=(0,d.vt)("tspan");(0,d.CF)(i,{x:c,y:J}),i.textContent=A.text,(0,d.BC)(z,i)}),(0,d.TF)(W);var U={width:tt,height:rt};return{dimensions:U,element:z}};function s(o){if("fontSize"in o&&"lineHeight"in o)return o.lineHeight*parseInt(o.fontSize,10)}},33225:(ot,V,h)=>{h.d(V,{BC:()=>d,CF:()=>P,IU:()=>y,Ly:()=>e,TF:()=>o,l1:()=>J,o8:()=>E,pd:()=>k,uK:()=>tt,vt:()=>x});function a(L,H){if(L.ownerDocument!==H.ownerDocument)try{return H.ownerDocument.importNode(L,!0)}catch{}return L}function N(L,H){return H.appendChild(a(L,H))}function d(L,H){return N(H,L),L}var C=2,g={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":C,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":C,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function T(L,H){return g[H]?L.style[H]:L.getAttributeNS(null,H)}function u(L,H,Q){var nt=H.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),st=g[nt];st?(st===C&&typeof Q=="number"&&(Q=String(Q)+"px"),L.style[nt]=Q):L.setAttributeNS(null,H,Q)}function _(L,H){var Q=Object.keys(H),nt,st;for(nt=0,st;st=Q[nt];nt++)u(L,st,H[st])}function P(L,H,Q){if(typeof H=="string")if(Q!==void 0)u(L,H,Q);else return T(L,H);else _(L,H);return L}function m(L,H){if(L.indexOf)return L.indexOf(H);for(var Q=0;Q<L.length;++Q)if(L[Q]===H)return Q;return-1}var l=/\s+/,t=Object.prototype.toString;function p(L){return typeof L<"u"}function e(L){return new s(L)}function s(L){if(!L||!L.nodeType)throw new Error("A DOM element reference is required");this.el=L,this.list=L.classList}s.prototype.add=function(L){if(this.list)return this.list.add(L),this;var H=this.array(),Q=m(H,L);return~Q||H.push(L),p(this.el.className.baseVal)?this.el.className.baseVal=H.join(" "):this.el.className=H.join(" "),this},s.prototype.remove=function(L){if(t.call(L)==="[object RegExp]")return this.removeMatching(L);if(this.list)return this.list.remove(L),this;var H=this.array(),Q=m(H,L);return~Q&&H.splice(Q,1),this.el.className.baseVal=H.join(" "),this},s.prototype.removeMatching=function(L){for(var H=this.array(),Q=0;Q<H.length;Q++)L.test(H[Q])&&this.remove(H[Q]);return this},s.prototype.toggle=function(L,H){return this.list?(p(H)?H!==this.list.toggle(L,H)&&this.list.toggle(L):this.list.toggle(L),this):(p(H)?H?this.add(L):this.remove(L):this.has(L)?this.remove(L):this.add(L),this)},s.prototype.array=function(){var L=this.el.getAttribute("class")||"",H=L.replace(/^\s+|\s+$/g,""),Q=H.split(l);return Q[0]===""&&Q.shift(),Q},s.prototype.has=s.prototype.contains=function(L){return this.list?this.list.contains(L):!!~m(this.array(),L)};function o(L){var H=L.parentNode;return H&&H.removeChild(L),L}function y(L){for(var H;H=L.firstChild;)o(H);return L}function E(L){return L.cloneNode(!0)}var v={svg:"http://www.w3.org/2000/svg"},M='<svg xmlns="'+v.svg+'"';function O(L){var H=!1;L.substring(0,4)==="<svg"?L.indexOf(v.svg)===-1&&(L=M+L.substring(4)):(L=M+">"+L+"</svg>",H=!0);var Q=b(L);if(!H)return Q;for(var nt=document.createDocumentFragment(),st=Q.firstChild;st.firstChild;)nt.appendChild(st.firstChild);return nt}function b(L){var H;return H=new DOMParser,H.async=!1,H.parseFromString(L,"text/xml")}function x(L,H){var Q;return L.charAt(0)==="<"?(Q=O(L).firstChild,Q=document.importNode(Q,!0)):Q=document.createElementNS(v.svg,L),H&&P(Q,H),Q}function R(L,H,Q,nt){L.addEventListener(H,Q,nt)}function S(L,H,Q,nt){L.removeEventListener(H,Q,nt)}var I=null;function W(){return I===null&&(I=x("svg")),I}function Y(L,H){var Q,nt,st=Object.keys(H);for(Q=0;nt=st[Q];Q++)L[nt]=H[nt];return L}function rt(L,H){var Q=W().createSVGPoint();switch(arguments.length){case 0:return Q;case 2:L={x:L,y:H};break}return Y(Q,L)}function tt(L,H,Q,nt,st,lt){var ft=W().createSVGMatrix();switch(arguments.length){case 0:return ft;case 1:return Y(ft,L);case 6:return Y(ft,{a:L,b:H,c:Q,d:nt,e:st,f:lt})}}function J(L){return L?W().createSVGTransformFromMatrix(L):W().createSVGTransform()}var z=/([&<>]{1})/g,U=/([\n\r"]{1})/g,A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function c(L,H){function Q(nt,st){return A[st]||st}return L.replace(H,Q)}function i(L,H){var Q,nt,st,lt,ft;switch(L.nodeType){case 3:H.push(c(L.textContent,z));break;case 1:if(H.push("<",L.tagName),L.hasAttributes())for(st=L.attributes,Q=0,nt=st.length;Q<nt;++Q)lt=st.item(Q),H.push(" ",lt.name,'="',c(lt.value,U),'"');if(L.hasChildNodes()){for(H.push(">"),ft=L.childNodes,Q=0,nt=ft.length;Q<nt;++Q)i(ft.item(Q),H);H.push("</",L.tagName,">")}else H.push("/>");break;case 8:H.push("<!--",c(L.nodeValue,z),"-->");break;case 4:H.push("<![CDATA[",L.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+L.nodeType)}return H}function n(L,H){var Q=O(H);if(y(L),!!H){f(Q)||(Q=Q.documentElement);for(var nt=F(Q.childNodes),st=0;st<nt.length;st++)N(nt[st],L)}}function r(L){for(var H=L.firstChild,Q=[];H;)i(H,Q),H=H.nextSibling;return Q.join("")}function f(L){return L.nodeName==="#document-fragment"}function D(L,H){if(H!==void 0){try{n(L,H)}catch(Q){throw new Error("error parsing SVG: "+Q.message)}return L}else return r(L)}function F(L){return Array.prototype.slice.call(L)}function G(L,H){return L.querySelector(H)}function Z(L,H){var Q=L.querySelectorAll(H);return[].map.call(Q,function(nt){return nt})}function X(L,H){return H.insertBefore(a(L,H),H.firstChild||null)}function q(L,H){return X(H,L),L}function it(L,H){return L.parentNode.replaceChild(a(H,L),L),H}function K(L,H){return H instanceof SVGMatrix?L.createSVGTransformFromMatrix(H):H}function $(L,H){var Q,nt;for(L.clear(),Q=0;nt=H[Q];Q++)L.appendItem(K(L,nt))}function k(L,H){var Q=L.transform.baseVal;return H&&(Array.isArray(H)||(H=[H]),$(Q,H)),Q.consolidate()}},87004:(ot,V,h)=>{h.d(V,{BC:()=>d,CF:()=>P,Ly:()=>l,TF:()=>G,o8:()=>e,pd:()=>it,uK:()=>I,vt:()=>v});function a(K,$){if(K.ownerDocument!==$.ownerDocument)try{return $.ownerDocument.importNode(K,!0)}catch{}return K}function N(K,$){return $.appendChild(a(K,$))}function d(K,$){return N($,K),K}var C=2,g={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":C,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":C,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function T(K,$){return g[$]?K.style[$]:K.getAttributeNS(null,$)}function u(K,$,k){var L=$.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),H=g[L];H?(H===C&&typeof k=="number"&&(k=String(k)+"px"),K.style[L]=k):K.setAttributeNS(null,$,k)}function _(K,$){var k=Object.keys($),L,H;for(L=0,H;H=k[L];L++)u(K,H,$[H])}function P(K,$,k){if(typeof $=="string")if(k!==void 0)u(K,$,k);else return T(K,$);else _(K,$);return K}const m=Object.prototype.toString;function l(K){return new t(K)}function t(K){if(!K||!K.nodeType)throw new Error("A DOM element reference is required");this.el=K,this.list=K.classList}t.prototype.add=function(K){return this.list.add(K),this},t.prototype.remove=function(K){return m.call(K)=="[object RegExp]"?this.removeMatching(K):(this.list.remove(K),this)},t.prototype.removeMatching=function(K){const $=this.array();for(let k=0;k<$.length;k++)K.test($[k])&&this.remove($[k]);return this},t.prototype.toggle=function(K,$){return typeof $<"u"?$!==this.list.toggle(K,$)&&this.list.toggle(K):this.list.toggle(K),this},t.prototype.array=function(){return Array.from(this.list)},t.prototype.has=t.prototype.contains=function(K){return this.list.contains(K)};function p(K){for(var $;$=K.firstChild;)K.removeChild($);return K}function e(K){return K.cloneNode(!0)}var s={svg:"http://www.w3.org/2000/svg"},o='<svg xmlns="'+s.svg+'"';function y(K){var $=!1;K.substring(0,4)==="<svg"?K.indexOf(s.svg)===-1&&(K=o+K.substring(4)):(K=o+">"+K+"</svg>",$=!0);var k=E(K);if(!$)return k;for(var L=document.createDocumentFragment(),H=k.firstChild;H.firstChild;)L.appendChild(H.firstChild);return L}function E(K){var $;return $=new DOMParser,$.async=!1,$.parseFromString(K,"text/xml")}function v(K,$){var k;return K=K.trim(),K.charAt(0)==="<"?(k=y(K).firstChild,k=document.importNode(k,!0)):k=document.createElementNS(s.svg,K),$&&P(k,$),k}function M(K,$,k,L){K.addEventListener($,k,L)}function O(K,$,k,L){K.removeEventListener($,k,L)}var b=null;function x(){return b===null&&(b=v("svg")),b}function R(K,$){var k,L,H=Object.keys($);for(k=0;L=H[k];k++)K[L]=$[L];return K}function S(K,$){var k=x().createSVGPoint();switch(arguments.length){case 0:return k;case 2:K={x:K,y:$};break}return R(k,K)}function I(K,$,k,L,H,Q){var nt=x().createSVGMatrix();switch(arguments.length){case 0:return nt;case 1:return R(nt,K);case 6:return R(nt,{a:K,b:$,c:k,d:L,e:H,f:Q})}}function W(K){return K?x().createSVGTransformFromMatrix(K):x().createSVGTransform()}var Y=/([&<>]{1})/g,rt=/([&<>\n\r"]{1})/g,tt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function J(K,$){function k(L,H){return tt[H]||H}return K.replace($,k)}function z(K,$){var k,L,H,Q,nt;switch(K.nodeType){case 3:$.push(J(K.textContent,Y));break;case 1:if($.push("<",K.tagName),K.hasAttributes())for(H=K.attributes,k=0,L=H.length;k<L;++k)Q=H.item(k),$.push(" ",Q.name,'="',J(Q.value,rt),'"');if(K.hasChildNodes()){for($.push(">"),nt=K.childNodes,k=0,L=nt.length;k<L;++k)z(nt.item(k),$);$.push("</",K.tagName,">")}else $.push("/>");break;case 8:$.push("<!--",J(K.nodeValue,Y),"-->");break;case 4:$.push("<![CDATA[",K.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+K.nodeType)}return $}function U(K,$){var k=y($);if(p(K),!!$){c(k)||(k=k.documentElement);for(var L=n(k.childNodes),H=0;H<L.length;H++)N(L[H],K)}}function A(K){for(var $=K.firstChild,k=[];$;)z($,k),$=$.nextSibling;return k.join("")}function c(K){return K.nodeName==="#document-fragment"}function i(K,$){if($!==void 0){try{U(K,$)}catch(k){throw new Error("error parsing SVG: "+k.message)}return K}else return A(K)}function n(K){return Array.prototype.slice.call(K)}function r(K,$){return K.querySelector($)}function f(K,$){var k=K.querySelectorAll($);return[].map.call(k,function(L){return L})}function D(K,$){return $.insertBefore(a(K,$),$.firstChild||null)}function F(K,$){return D($,K),K}function G(K){var $=K.parentNode;return $&&$.removeChild(K),K}function Z(K,$){return K.parentNode.replaceChild(a($,K),K),$}function X(K,$){return $ instanceof SVGMatrix?K.createSVGTransformFromMatrix($):$}function q(K,$){var k,L;for(K.clear(),k=0;L=$[k];k++)K.appendItem(X(K,L))}function it(K,$){var k=K.transform.baseVal;return $&&(Array.isArray($)||($=[$]),q(k,$)),k.consolidate()}},35293:(ot,V,h)=>{h.d(V,{A:()=>l});const N={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let d;const C=new Uint8Array(16);function g(){if(!d&&(d=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(C)}const T=[];for(let t=0;t<256;++t)T.push((t+256).toString(16).slice(1));function u(t,p=0){return T[t[p+0]]+T[t[p+1]]+T[t[p+2]]+T[t[p+3]]+"-"+T[t[p+4]]+T[t[p+5]]+"-"+T[t[p+6]]+T[t[p+7]]+"-"+T[t[p+8]]+T[t[p+9]]+"-"+T[t[p+10]]+T[t[p+11]]+T[t[p+12]]+T[t[p+13]]+T[t[p+14]]+T[t[p+15]]}function _(t,p=0){const e=u(t,p);if(!validate(e))throw TypeError("Stringified UUID is invalid");return e}const P=null;function m(t,p,e){if(N.randomUUID&&!p&&!t)return N.randomUUID();t=t||{};const s=t.random||(t.rng||g)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,p){e=e||0;for(let o=0;o<16;++o)p[e+o]=s[o];return p}return u(s)}const l=m},73308:(ot,V,h)=>{h.d(V,{A:()=>N});function a(d,C,g,T,u,_,P){try{var m=d[_](P),l=m.value}catch(t){g(t);return}m.done?C(l):Promise.resolve(l).then(T,u)}function N(d){return function(){var C=this,g=arguments;return new Promise(function(T,u){var _=d.apply(C,g);function P(l){a(_,T,u,P,m,"next",l)}function m(l){a(_,T,u,P,m,"throw",l)}P(void 0)})}}}}]);
